(self.webpackChunkfrontend_app_angular=self.webpackChunkfrontend_app_angular||[]).push([[941],{6941:(Q,o,E)=>{"use strict";E.r(o),E.d(o,{AdminModule:()=>lt});var r=E(6895),I=E(9859),N=E(7330),K=E(5107),B=E(433),R=E(805),e=E(4650),U=E(5903),H=E(5593),j=E(1740),O=E(2137),V=E(1493),m=E(3054),b=E(99),M=E(2453),k=E(7932);function P(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"p-button",15),e.NdJ("click",function(){e.CHM(A);const se=e.oxw();return e.KtG(se.guardarCategoria())}),e.qZA()}if(2&Y){const A=e.oxw();e.Q6J("disabled",!A.categoriaForm.valid)}}const x=function(){return{width:"50px",height:"50px"}};function i(Y,pe){1&Y&&e._UZ(0,"p-progressSpinner",16),2&Y&&e.Akn(e.DdM(2,x))}function n(Y,pe){1&Y&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Nombre"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"descripcion"),e.qZA(),e._UZ(7,"th"),e.qZA())}function f(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"p-button",17),e.NdJ("click",function(){const _e=e.CHM(A).$implicit,Ee=e.oxw();return e.KtG(Ee.showModalEditCategoriaDialog(_e))}),e.qZA(),e.TgZ(9,"p-button",18),e.NdJ("click",function(){const _e=e.CHM(A).$implicit,Ee=e.oxw();return e.KtG(Ee.confirmEliminacion(_e))}),e.qZA()()()}if(2&Y){const A=pe.$implicit;e.xp6(2),e.Oqu(A.id),e.xp6(2),e.Oqu(A.nombre),e.xp6(2),e.Oqu(A.descripcion)}}const w=function(){return{width:"30vw"}},u=function(){return{width:"50vw"}};let S=(()=>{class Y{constructor(A,Z,se){this.categoriaService=A,this.confirmationService=Z,this.messageService=se,this.cargando=!0,this.idEditar=0,this.obj_categoria={nombre:"",descripcion:""},this.categoriaForm=new B.cw({nombre:new B.NI(this.obj_categoria.nombre,[B.kI.required]),descripcion:new B.NI(this.obj_categoria.descripcion)})}ngOnInit(){this.listarCategorias()}listarCategorias(){this.cargando=!0,this.categoriaService.indexCategoria().subscribe(A=>{this.lista_categorias=A}),this.cargando=!1}guardarCategoria(){this.cargando=!0,0==this.idEditar?this.categoriaService.storeCategoria(this.categoriaForm.value).subscribe(A=>{this.listarCategorias(),this.displayModalCategoria=!1},A=>{console.log(A)}):this.categoriaService.updateCategoria(this.categoriaForm.value,this.idEditar).subscribe(A=>{this.listarCategorias(),this.displayModalCategoria=!1},A=>{console.log(A)}),this.cargando=!1}showModalCategoriaDialog(){this.displayModalCategoria=!0}showModalEditCategoriaDialog(A){this.idEditar=A.id,this.obj_categoria=A,this.prepararFormulario(),this.showModalCategoriaDialog()}prepararFormulario(){this.categoriaForm=new B.cw({nombre:new B.NI(this.obj_categoria.nombre,[B.kI.required]),descripcion:new B.NI(this.obj_categoria.descripcion)})}confirmEliminacion(A){this.confirmationService.confirm({message:"\xbfEst\xe1 seguro de eliminar la categoria?",header:"Confirmar eliinaci\xf3n",icon:"pi pi-exclamation-triangle",accept:()=>{this.cargando=!0,this.categoriaService.destroyCategoria(A.id).subscribe(Z=>{this.messageService.add({severity:"error",summary:"Eliminado",detail:"Categoria Eliminada"}),this.listarCategorias(),this.cargando=!1},Z=>{this.messageService.add({severity:"warn",summary:"Cancelled",detail:"Ocurrio un error al eliminar"})})},reject:Z=>{switch(Z){case R.wB.REJECT:this.messageService.add({severity:"info",summary:"Confirmed",detail:"Eliminando"});break;case R.wB.CANCEL:this.messageService.add({severity:"warn",summary:"Cancelled",detail:"You have cancelled"})}}})}}return Y.\u0275fac=function(A){return new(A||Y)(e.Y36(U.n),e.Y36(R.YP),e.Y36(R.ez))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-categoria"]],features:[e._Bn([R.YP,R.ez])],decls:20,vars:14,consts:[[1,"card"],["icon","pi pi-external-link","label","Nueva Categoria",3,"click"],["header","Categoria","styleClass","p-fluid",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup"],[1,"p-float-label","pt-5"],["id","float-nom","type","text","pInputText","","formControlName","nombre"],["for","float-nom"],[1,"p-error","block"],["pInputTextarea","","formControlName","descripcion"],["pTemplate","footer"],["styleClass","custom-spinner","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s",3,"style",4,"ngIf"],["responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"],["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],["icon","pi pi-check","label","Guardar","styleClass","p-button-text",3,"disabled","click"],["styleClass","custom-spinner","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s"],["icon","pi pi-pencil",1,"p-button-raised","p-button-rounded",3,"click"],["icon","pi pi-check","label","Eliminar","styleClass","mr-2",3,"click"]],template:function(A,Z){1&A&&(e.TgZ(0,"div",0)(1,"h5"),e._uU(2,"Gesti\xf3n categoria"),e.qZA(),e.TgZ(3,"p-button",1),e.NdJ("click",function(){return Z.showModalCategoriaDialog()}),e.qZA(),e.TgZ(4,"p-dialog",2),e.NdJ("visibleChange",function(_e){return Z.displayModalCategoria=_e}),e.TgZ(5,"div",3)(6,"span",4),e._UZ(7,"input",5),e.TgZ(8,"label",6),e._uU(9,"Ingrese Nombre"),e.qZA(),e.TgZ(10,"small",7),e._uU(11,"el nombre es obligatorio"),e.qZA()(),e._UZ(12,"textarea",8),e.qZA(),e.YNc(13,P,1,1,"ng-template",9),e.qZA(),e.YNc(14,i,1,3,"p-progressSpinner",10),e.TgZ(15,"p-table",11),e.YNc(16,n,8,0,"ng-template",12),e.YNc(17,f,10,3,"ng-template",13),e.qZA(),e._UZ(18,"p-confirmDialog",14),e.qZA(),e._UZ(19,"p-toast")),2&A&&(e.xp6(4),e.Akn(e.DdM(12,w)),e.Q6J("visible",Z.displayModalCategoria)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(1),e.Q6J("formGroup",Z.categoriaForm),e.xp6(9),e.Q6J("ngIf",Z.cargando),e.xp6(1),e.Q6J("value",Z.lista_categorias),e.xp6(3),e.Akn(e.DdM(13,u)),e.Q6J("baseZIndex",1e4))},dependencies:[r.O5,B.Fj,B.JJ,B.JL,B.sg,B.u,R.jx,H.zx,j.o,O.Q,V.V,m.g,b.iA,M.FN,k.G],styles:["[_nghost-%COMP%]     .p-button{margin:0 .5rem 0 0;min-width:10rem}p[_ngcontent-%COMP%]{margin:0}.confirmation-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]     .p-dialog .p-button{min-width:6rem}"]}),Y})(),g=(()=>{class Y{constructor(){}ngOnInit(){}}return Y.\u0275fac=function(A){return new(A||Y)},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-index-pedido"]],decls:10,vars:0,consts:[[1,"card"],["routerLink","/admin/pedido"],["routerLink","/admin/pedido/nuevo"],["routerLink","/admin/pedido/2"]],template:function(A,Z){1&A&&(e.TgZ(0,"div",0)(1,"a",1),e._uU(2,"Lista Pedidos"),e.qZA(),e._uU(3," | "),e.TgZ(4,"a",2),e._uU(5,"Nuevo pedido"),e.qZA(),e._uU(6," | "),e.TgZ(7,"a",3),e._uU(8,"Generar Reporte PDF"),e.qZA()(),e._UZ(9,"router-outlet"))},dependencies:[I.lC,I.yS]}),Y})();var d=E(4780);function L(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"div",10)(1,"h5",11),e._uU(2,"Lista Pedidos"),e.qZA(),e.TgZ(3,"span",12),e._UZ(4,"i",13),e.TgZ(5,"input",14),e.NdJ("input",function(se){e.CHM(A),e.oxw();const _e=e.MAs(4);return e.KtG(_e.filterGlobal(se.target.value,"contains"))}),e.qZA()()()}}function F(Y,pe){1&Y&&(e.TgZ(0,"tr")(1,"th",15),e._uU(2,"Fecha Pedido "),e._UZ(3,"p-sortIcon",16),e.qZA(),e.TgZ(4,"th",17),e._uU(5,"Cliente "),e._UZ(6,"p-sortIcon",18),e.qZA(),e._UZ(7,"th"),e.qZA())}function D(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"p-button",19),e.NdJ("click",function(){const _e=e.CHM(A).$implicit,Ee=e.oxw();return e.KtG(Ee.showModalDialog(_e))}),e.qZA()()()}if(2&Y){const A=pe.$implicit;e.xp6(2),e.Oqu(A.fecha_pedido),e.xp6(2),e.AsE("",A.cliente.nombre_completo," - ",A.cliente.ci_nit,"")}}function G(Y,pe){if(1&Y&&(e.TgZ(0,"div",10),e._uU(1),e.qZA()),2&Y){const A=e.oxw();e.xp6(1),e.hij(" En Total son ",A.pedidos?A.pedidos.length:0," pedidos. ")}}function z(Y,pe){1&Y&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"NOMBRE"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"CANTIDAD"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"PRECIO"),e.qZA()())}function ee(Y,pe){if(1&Y&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&Y){const A=pe.$implicit;e.xp6(2),e.Oqu(A.id),e.xp6(2),e.Oqu(A.nombre),e.xp6(2),e.Oqu(A.pivot.cantidad),e.xp6(2),e.Oqu(A.precio)}}function C(Y,pe){if(1&Y&&(e.TgZ(0,"p-table",20),e.YNc(1,z,9,0,"ng-template",4),e.YNc(2,ee,9,4,"ng-template",5),e.qZA()),2&Y){const A=e.oxw();e.Q6J("value",A.pedido.productos)}}function l(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"p-button",21),e.NdJ("click",function(){e.CHM(A);const se=e.oxw();return e.KtG(se.displayModal=!1)}),e.qZA()}}const s=function(){return["name","country.name","representative.name","status"]},_=function(){return{width:"50vw"}};let c=(()=>{class Y{constructor(A){this.pedidoService=A,this.id_prod_img=0}ngOnInit(){this.listarPedidos()}loadPedidos(A){this.loading=!0,console.log(A),this.listarPedidos(A.first/A.rows+1)}listarPedidos(A=1){this.loading=!0,this.pedidoService.indexPedido(A).subscribe(Z=>{console.log(Z),this.pedidos=Z.data,this.totalRecords=Z.total,this.loading=!1})}showModalDialog(A){this.displayModal=!0,this.pedido=A}}return Y.\u0275fac=function(A){return new(A||Y)(e.Y36(d.$))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-lista-pedido"]],decls:12,vars:19,consts:[[1,"card"],["responsiveLayout","scroll","dataKey","id","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} pedidos",3,"value","lazy","rows","paginator","globalFilterFields","selection","rowHover","totalRecords","loading","showCurrentPageReport","onLazyLoad","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Header",3,"visible","modal","draggable","resizable","visibleChange"],["responsiveLayout","scroll",3,"value",4,"ngIf"],["pTemplate","footer"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","nombre"],["field","fecha_pedido"],["pSortableColumn","precio"],["field","precio"],["icon","pi pi-external-link","label","Mostrar Productos",3,"click"],["responsiveLayout","scroll",3,"value"],["icon","pi pi-check","label","Ok","styleClass","p-button-text",3,"click"]],template:function(A,Z){1&A&&(e.TgZ(0,"div",0)(1,"h5"),e._uU(2,"Lista de pedido"),e.qZA(),e.TgZ(3,"p-table",1,2),e.NdJ("onLazyLoad",function(_e){return Z.loadPedidos(_e)})("selectionChange",function(_e){return Z.selectedPedidos=_e}),e.YNc(5,L,6,0,"ng-template",3),e.YNc(6,F,8,0,"ng-template",4),e.YNc(7,D,7,3,"ng-template",5),e.YNc(8,G,2,1,"ng-template",6),e.qZA()(),e.TgZ(9,"p-dialog",7),e.NdJ("visibleChange",function(_e){return Z.displayModal=_e}),e.YNc(10,C,3,1,"p-table",8),e.YNc(11,l,1,0,"ng-template",9),e.qZA()),2&A&&(e.xp6(3),e.Q6J("value",Z.pedidos)("lazy",!0)("rows",2)("paginator",!0)("globalFilterFields",e.DdM(17,s))("selection",Z.selectedPedidos)("rowHover",!0)("totalRecords",Z.totalRecords)("loading",Z.loading)("showCurrentPageReport",!0),e.xp6(6),e.Akn(e.DdM(18,_)),e.Q6J("visible",Z.displayModal)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(1),e.Q6J("ngIf",Z.pedido))},dependencies:[r.O5,R.jx,H.zx,j.o,V.V,b.iA,b.lQ,b.fz]}),Y})(),t=(()=>{class Y{constructor(){}ngOnInit(){}}return Y.\u0275fac=function(A){return new(A||Y)},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-mostrar-pedido"]],decls:3,vars:0,consts:[[1,"card"]],template:function(A,Z){1&A&&(e.TgZ(0,"div",0)(1,"h5"),e._uU(2,"Mostrar pedido"),e.qZA()())}}),Y})();var a=E(2195),p=E(3055),T=E(1795);function v(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"div",27)(1,"h5",28),e._uU(2,"Lista Productos"),e.qZA(),e.TgZ(3,"span",29),e._UZ(4,"i",30),e.TgZ(5,"input",31),e.NdJ("input",function(se){e.CHM(A),e.oxw();const _e=e.MAs(7);return e.KtG(_e.filterGlobal(se.target.value,"contains"))}),e.qZA()()()}}function h(Y,pe){1&Y&&(e.TgZ(0,"tr")(1,"th",32),e._uU(2,"Nombre "),e._UZ(3,"p-sortIcon",33),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Image"),e.qZA(),e.TgZ(6,"th",34),e._uU(7,"Precio "),e._UZ(8,"p-sortIcon",35),e.qZA(),e.TgZ(9,"th",36),e._uU(10,"Stock "),e.qZA(),e.TgZ(11,"th",37),e._uU(12,"Category "),e._UZ(13,"p-sortIcon",38),e.qZA(),e._UZ(14,"th"),e.qZA())}function W(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",39),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td")(13,"button",40),e.NdJ("click",function(){const _e=e.CHM(A).$implicit,Ee=e.oxw();return e.KtG(Ee.agregarCarrito(_e))}),e.qZA()()()}if(2&Y){const A=pe.$implicit;e.xp6(2),e.Oqu(A.nombre),e.xp6(2),e.Q6J("src","http://app-ventas-la.herokuapp.com/"+A.imagen,e.LSH)("alt",A.name),e.xp6(2),e.Oqu(e.xi3(7,6,A.precio,"Bs. ")),e.xp6(3),e.Oqu(A.stock),e.xp6(2),e.Oqu(A.categoria.nombre)}}function $(Y,pe){if(1&Y&&(e.TgZ(0,"div",27),e._uU(1),e.qZA()),2&Y){const A=e.oxw();e.xp6(1),e.hij(" En Total son ",A.products?A.products.length:0," productos. ")}}function X(Y,pe){1&Y&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"NOMBRE"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"PRECIO"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"CANT"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"ST"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"ACCION"),e.qZA()())}function J(Y,pe){if(1&Y&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"currency"),e.qZA()()),2&Y){const A=pe.$implicit;e.xp6(2),e.Oqu(A.nombre),e.xp6(2),e.Oqu(e.xi3(5,4,A.precio,"Bs. ")),e.xp6(3),e.Oqu(A.cantidad),e.xp6(2),e.Oqu(e.xi3(10,7,A.precio*A.cantidad,"Bs. "))}}function oe(Y,pe){if(1&Y&&(e.TgZ(0,"div",0)(1,"h6"),e._uU(2),e.qZA(),e.TgZ(3,"h6"),e._uU(4),e.qZA(),e.TgZ(5,"h6"),e._uU(6),e.qZA()()),2&Y){const A=e.oxw();e.xp6(2),e.hij("ID: ",A.cliente_seleccionado.id,""),e.xp6(2),e.hij("Nombre: ",A.cliente_seleccionado.nombre_completo,""),e.xp6(2),e.hij("CI/NIT: ",A.cliente_seleccionado.ci_nit,"")}}function ue(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"p-button",41),e.NdJ("click",function(){e.CHM(A);const se=e.oxw();return e.KtG(se.guardarCliente())}),e.qZA()}}function ge(Y,pe){1&Y&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"NOMBRE"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"CI/NIT"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"ACCION"),e.qZA()())}function Ae(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"button",42),e.NdJ("click",function(){const _e=e.CHM(A).$implicit,Ee=e.oxw();return e.KtG(Ee.seleccionCliente(_e))}),e._uU(7,"+"),e.qZA()()()}if(2&Y){const A=pe.$implicit;e.xp6(2),e.Oqu(A.nombre_completo),e.xp6(2),e.Oqu(A.ci_nit)}}const de=function(){return["name","country.name","representative.name","status"]},we=function(){return{width:"50vw"}};let Te=(()=>{class Y{constructor(A,Z,se,_e,Ee,Ne){this.productoService=A,this.clienteService=Z,this.pedidoService=se,this.categoriaService=_e,this.messageService=Ee,this.confirmationService=Ne,this.id_prod_img=0,this.carrito=[],this.clientes=[],this.clie={nombre_completo:"",ci_nit:"",direccion:"",telefono:""},this.cliente_seleccionado=null}ngOnInit(){this.listarProducto(),this.getFechaPedido()}getFechaPedido(){var A=new Date,Z=String(A.getDate()).padStart(2,"0"),se=String(A.getMonth()+1).padStart(2,"0"),_e=A.getFullYear();this.fecha=A=Z+"/"+se+"/"+_e}loadProductos(A){this.loading=!0,console.log(A),this.listarProducto(A.first/A.rows+1)}listarProducto(A=1){this.loading=!0,this.productoService.indexProducto(A).subscribe(Z=>{console.log(Z),this.products=Z.data,this.totalRecords=Z.total,this.loading=!1})}agregarCarrito(A){this.carrito.push({id:A.id,nombre:A.nombre,precio:A.precio,cantidad:1})}buscarCliente(){this.clienteService.indexCliente(1,this.buscar).subscribe(A=>{this.clientes=A.data})}showModalDialog(){this.displayModal=!0}guardarCliente(){this.clienteService.storeCliente(this.clie).subscribe(A=>{this.cliente_seleccionado=A.data},A=>{})}seleccionCliente(A){this.cliente_seleccionado=A}guardarPedido(){let A={cliente_id:this.cliente_seleccionado.id,productos:[]};for(let Z=0;Z<this.carrito.length;Z++){const se=this.carrito[Z];A.productos.push({id:se.id,cantidad:se.cantidad})}console.log(A),this.pedidoService.storePedido(A).subscribe(Z=>{alert("Pedido Registrado")},Z=>{alert("Error al registrar")})}}return Y.\u0275fac=function(A){return new(A||Y)(e.Y36(a.U),e.Y36(p.$),e.Y36(d.$),e.Y36(U.n),e.Y36(R.ez),e.Y36(R.YP))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-nuevo-pedido"]],features:[e._Bn([R.ez,R.YP])],decls:53,vars:27,consts:[[1,"card"],[1,"grid"],[1,"col-7"],["responsiveLayout","scroll","dataKey","id","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} productos",3,"value","lazy","rows","paginator","globalFilterFields","selection","rowHover","totalRecords","loading","showCurrentPageReport","onLazyLoad","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[1,"col-5"],[1,"col-12"],["responsiveLayout","scroll",3,"value"],["class","card",4,"ngIf"],["type","search","pInputText","",3,"ngModel","ngModelChange","keyup"],["icon","pi pi-external-link","label","Nuevo",3,"click"],["header","Header","styleClass","p-fluid",3,"visible","modal","draggable","resizable","visibleChange"],[1,"p-float-label"],["id","float-input_nom","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","float-input_nom"],["id","float-input_ci_nit","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","float-input_ci_nit"],["id","float-input_tel","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","float-input_tel"],["id","float-input_dir","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","float-input_dir"],["pTemplate","footer"],["type","button",3,"click"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","precio"],["field","precio"],["pSortableColumn","stock"],["pSortableColumn","category"],["field","category"],["width","100",1,"shadow-4",3,"src","alt"],["pButton","","pRipple","","icon","pi pi-arrow-right",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["icon","pi pi-check","label","Guardar Cliente","styleClass","p-button-text",3,"click"],[3,"click"]],template:function(A,Z){1&A&&(e.TgZ(0,"div",0)(1,"h5"),e._uU(2),e.qZA()(),e.TgZ(3,"div",1)(4,"div",2)(5,"div",0)(6,"p-table",3,4),e.NdJ("onLazyLoad",function(_e){return Z.loadProductos(_e)})("selectionChange",function(_e){return Z.selectedProducts=_e}),e.YNc(8,v,6,0,"ng-template",5),e.YNc(9,h,15,0,"ng-template",6),e.YNc(10,W,14,9,"ng-template",7),e.YNc(11,$,2,1,"ng-template",8),e.qZA()()(),e.TgZ(12,"div",9)(13,"div",1)(14,"div",10)(15,"div",0)(16,"h5"),e._uU(17,"Carrito"),e.qZA(),e.TgZ(18,"p-table",11),e.YNc(19,X,11,0,"ng-template",6),e.YNc(20,J,11,10,"ng-template",7),e.qZA()()(),e.TgZ(21,"div",10)(22,"div",0)(23,"h5"),e._uU(24,"Cliente"),e.qZA(),e.YNc(25,oe,7,3,"div",12),e.TgZ(26,"input",13),e.NdJ("ngModelChange",function(_e){return Z.buscar=_e})("keyup",function(){return Z.buscarCliente()}),e.qZA(),e.TgZ(27,"p-button",14),e.NdJ("click",function(){return Z.showModalDialog()}),e.qZA(),e.TgZ(28,"p-dialog",15),e.NdJ("visibleChange",function(_e){return Z.displayModal=_e}),e.TgZ(29,"span",16)(30,"input",17),e.NdJ("ngModelChange",function(_e){return Z.clie.nombre_completo=_e}),e.qZA(),e.TgZ(31,"label",18),e._uU(32,"nombre Completo"),e.qZA()(),e.TgZ(33,"span",16)(34,"input",19),e.NdJ("ngModelChange",function(_e){return Z.clie.ci_nit=_e}),e.qZA(),e.TgZ(35,"label",20),e._uU(36,"Ci/Nit"),e.qZA()(),e.TgZ(37,"span",16)(38,"input",21),e.NdJ("ngModelChange",function(_e){return Z.clie.telefono=_e}),e.qZA(),e.TgZ(39,"label",22),e._uU(40,"telefono"),e.qZA()(),e.TgZ(41,"span",16)(42,"input",23),e.NdJ("ngModelChange",function(_e){return Z.clie.direccion=_e}),e.qZA(),e.TgZ(43,"label",24),e._uU(44,"direccion"),e.qZA()(),e.YNc(45,ue,1,0,"ng-template",25),e.qZA(),e.TgZ(46,"p-table",11),e.YNc(47,ge,7,0,"ng-template",6),e.YNc(48,Ae,8,2,"ng-template",7),e.qZA()()(),e.TgZ(49,"div",10)(50,"div",0)(51,"button",26),e.NdJ("click",function(){return Z.guardarPedido()}),e._uU(52,"Guardar Pedido"),e.qZA()()()()()()),2&A&&(e.xp6(2),e.hij("Fecha de Pedido: ",Z.fecha," "),e.xp6(4),e.Q6J("value",Z.products)("lazy",!0)("rows",2)("paginator",!0)("globalFilterFields",e.DdM(25,de))("selection",Z.selectedProducts)("rowHover",!0)("totalRecords",Z.totalRecords)("loading",Z.loading)("showCurrentPageReport",!0),e.xp6(12),e.Q6J("value",Z.carrito),e.xp6(7),e.Q6J("ngIf",Z.cliente_seleccionado),e.xp6(1),e.Q6J("ngModel",Z.buscar),e.xp6(2),e.Akn(e.DdM(26,we)),e.Q6J("visible",Z.displayModal)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(2),e.Q6J("ngModel",Z.clie.nombre_completo),e.xp6(4),e.Q6J("ngModel",Z.clie.ci_nit),e.xp6(4),e.Q6J("ngModel",Z.clie.telefono),e.xp6(4),e.Q6J("ngModel",Z.clie.direccion),e.xp6(4),e.Q6J("value",Z.clientes))},dependencies:[r.O5,B.Fj,B.JJ,R.jx,H.Hq,H.zx,j.o,V.V,B.On,T.H,b.iA,b.lQ,b.fz,r.H9]}),Y})();var ve=E(4004),me=E(4968),Oe=E(7579),ie=E(2076),y=E(2722),q=E(4986),ne=E(4482),ce=E(5403),fe=E(9300),he=E(6036),be=E.t(he,2),Ce=E(2813),Re=E.t(Ce,2);const ae=["pdfViewerContainer"];function te(Y,pe){const A=new Y.EventBus;return function re(Y,pe){(0,me.R)(Y,"documentload").pipe((0,y.R)(pe)).subscribe(()=>{const A=document.createEvent("CustomEvent");A.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(A)}),(0,me.R)(Y,"pagerendered").pipe((0,y.R)(pe)).subscribe(({pageNumber:A,cssTransform:Z,source:se})=>{const _e=document.createEvent("CustomEvent");_e.initCustomEvent("pagerendered",!0,!0,{pageNumber:A,cssTransform:Z}),se.div.dispatchEvent(_e)}),(0,me.R)(Y,"textlayerrendered").pipe((0,y.R)(pe)).subscribe(({pageNumber:A,source:Z})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:A}),Z.textLayerDiv.dispatchEvent(se)}),(0,me.R)(Y,"pagechanging").pipe((0,y.R)(pe)).subscribe(({pageNumber:A,source:Z})=>{const se=document.createEvent("UIEvents");se.initEvent("pagechanging",!0,!0),se.pageNumber=A,Z.container.dispatchEvent(se)}),(0,me.R)(Y,"pagesinit").pipe((0,y.R)(pe)).subscribe(({source:A})=>{const Z=document.createEvent("CustomEvent");Z.initCustomEvent("pagesinit",!0,!0,null),A.container.dispatchEvent(Z)}),(0,me.R)(Y,"pagesloaded").pipe((0,y.R)(pe)).subscribe(({pagesCount:A,source:Z})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("pagesloaded",!0,!0,{pagesCount:A}),Z.container.dispatchEvent(se)}),(0,me.R)(Y,"scalechange").pipe((0,y.R)(pe)).subscribe(({scale:A,presetValue:Z,source:se})=>{const _e=document.createEvent("UIEvents");_e.initEvent("scalechange",!0,!0),_e.scale=A,_e.presetValue=Z,se.container.dispatchEvent(_e)}),(0,me.R)(Y,"updateviewarea").pipe((0,y.R)(pe)).subscribe(({location:A,source:Z})=>{const se=document.createEvent("UIEvents");se.initEvent("updateviewarea",!0,!0),se.location=A,Z.container.dispatchEvent(se)}),(0,me.R)(Y,"find").pipe((0,y.R)(pe)).subscribe(({source:A,type:Z,query:se,phraseSearch:_e,caseSensitive:Ee,highlightAll:Ne,findPrevious:Xe})=>{if(A===window)return;const He=document.createEvent("CustomEvent");He.initCustomEvent("find"+Z,!0,!0,{query:se,phraseSearch:_e,caseSensitive:Ee,highlightAll:Ne,findPrevious:Xe}),window.dispatchEvent(He)}),(0,me.R)(Y,"attachmentsloaded").pipe((0,y.R)(pe)).subscribe(({attachmentsCount:A,source:Z})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:A}),Z.container.dispatchEvent(se)}),(0,me.R)(Y,"sidebarviewchanged").pipe((0,y.R)(pe)).subscribe(({view:A,source:Z})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("sidebarviewchanged",!0,!0,{view:A}),Z.outerContainer.dispatchEvent(se)}),(0,me.R)(Y,"pagemode").pipe((0,y.R)(pe)).subscribe(({mode:A,source:Z})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("pagemode",!0,!0,{mode:A}),Z.pdfViewer.container.dispatchEvent(se)}),(0,me.R)(Y,"namedaction").pipe((0,y.R)(pe)).subscribe(({action:A,source:Z})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("namedaction",!0,!0,{action:A}),Z.pdfViewer.container.dispatchEvent(se)}),(0,me.R)(Y,"presentationmodechanged").pipe((0,y.R)(pe)).subscribe(({active:A,switchInProgress:Z})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("presentationmodechanged",!0,!0,{active:A,switchInProgress:Z}),window.dispatchEvent(se)}),(0,me.R)(Y,"outlineloaded").pipe((0,y.R)(pe)).subscribe(({outlineCount:A,source:Z})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("outlineloaded",!0,!0,{outlineCount:A}),Z.container.dispatchEvent(se)})}(A,pe),A}function ye(Y,pe,A){Y[pe]=A}function Pe(){return typeof window>"u"}Pe()||ye(be,"verbosity",he.VerbosityLevel.INFOS);var xe=(()=>{return(Y=xe||(xe={}))[Y.DISABLED=0]="DISABLED",Y[Y.ENABLED=1]="ENABLED",Y[Y.ENHANCED=2]="ENHANCED",xe;var Y})();let Se=(()=>{class Y{constructor(A,Z){if(this.element=A,this.ngZone=Z,this.isVisible=!1,this._cMapsUrl=typeof be<"u"?`https://unpkg.com/pdfjs-dist@${he.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=xe.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new Oe.x,this.afterLoadComplete=new e.vpe,this.pageRendered=new e.vpe,this.pageInitialized=new e.vpe,this.textLayerRendered=new e.vpe,this.onError=new e.vpe,this.onProgress=new e.vpe,this.pageChange=new e.vpe(!0),Pe())return;let se;se=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${he.version}/legacy/build/pdf.worker.min.js`,ye(he.GlobalWorkerOptions,"workerSrc",se)}set cMapsUrl(A){this._cMapsUrl=A}set page(A){const Z=A=parseInt(A,10)||1;this._pdf&&(A=this.getValidPageNumber(A)),this._page=A,Z!==A&&this.pageChange.emit(A)}set renderText(A){this._renderText=A}set renderTextMode(A){this._renderTextMode=A}set originalSize(A){this._originalSize=A}set showAll(A){this._showAll=A}set stickToPage(A){this._stickToPage=A}set zoom(A){A<=0||(this._zoom=A)}get zoom(){return this._zoom}set zoomScale(A){this._zoomScale=A}get zoomScale(){return this._zoomScale}set rotation(A){"number"==typeof A&&A%90==0?this._rotation=A:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(A){this._externalLinkTarget=A}set autoresize(A){this._canAutoResize=Boolean(A)}set fitToPage(A){this._fitToPage=Boolean(A)}set showBorders(A){this._showBorders=Boolean(A)}static getLinkTarget(A){switch(A){case"blank":return Ce.LinkTarget.BLANK;case"none":return Ce.LinkTarget.NONE;case"self":return Ce.LinkTarget.SELF;case"parent":return Ce.LinkTarget.PARENT;case"top":return Ce.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const A=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=A?!1===this.isVisible&&null!=A&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(A){if(!Pe()&&this.isVisible)if("src"in A)this.loadPDF();else if(this._pdf){if("renderText"in A?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:xe.DISABLED,this.resetPdfDocument()):"showAll"in A&&this.resetPdfDocument(),"page"in A){const{page:Z}=A;if(Z.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const A=this.getCurrentViewer();(0,ie.D)(this._pdf.getPage(A.currentPageNumber)).pipe((0,y.R)(this.destroy$)).subscribe({next:Z=>{const se=this._rotation||Z.rotate,_e=Z.getViewport({scale:this._zoom,rotation:se}).width*Y.CSS_UNITS;let Ee=this._zoom,Ne=!0;if(!this._originalSize||this._fitToPage&&_e>this.pdfViewerContainer.nativeElement.clientWidth){const Xe=Z.getViewport({scale:1,rotation:se});Ee=this.getScale(Xe.width,Xe.height),Ne=!this._stickToPage}A._setScale(Ee,Ne)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const A={},Z=Y.getLinkTarget(this._externalLinkTarget);return Z&&(A.externalLinkTarget=Z),A}setupMultiPageViewer(){ye(be,"disableTextLayer",!this._renderText);const A=te(Re,this.destroy$);(0,me.R)(A,"pagerendered").pipe((0,y.R)(this.destroy$)).subscribe(se=>{this.pageRendered.emit(se)}),(0,me.R)(A,"pagesinit").pipe((0,y.R)(this.destroy$)).subscribe(se=>{this.pageInitialized.emit(se)}),(0,me.R)(A,"pagechanging").pipe((0,y.R)(this.destroy$)).subscribe(({pageNumber:se})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=se,this.pageChange.emit(se)},100)}),(0,me.R)(A,"textlayerrendered").pipe((0,y.R)(this.destroy$)).subscribe(se=>{this.textLayerRendered.emit(se)}),this.pdfMultiPageLinkService=new Ce.PDFLinkService({eventBus:A,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new Ce.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:A});const Z={eventBus:A,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:xe.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new Ce.PDFViewer(Z),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){ye(be,"disableTextLayer",!this._renderText);const A=te(Re,this.destroy$);(0,me.R)(A,"pagechanging").pipe((0,y.R)(this.destroy$)).subscribe(({pageNumber:se})=>{se!==this._page&&(this.page=se)}),(0,me.R)(A,"pagerendered").pipe((0,y.R)(this.destroy$)).subscribe(se=>{this.pageRendered.emit(se)}),(0,me.R)(A,"pagesinit").pipe((0,y.R)(this.destroy$)).subscribe(se=>{this.pageInitialized.emit(se)}),(0,me.R)(A,"textlayerrendered").pipe((0,y.R)(this.destroy$)).subscribe(se=>{this.textLayerRendered.emit(se)}),this.pdfSinglePageLinkService=new Ce.PDFLinkService({eventBus:A,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new Ce.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:A});const Z={eventBus:A,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:xe.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new Ce.PDFSinglePageViewer(Z),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(A){return A<1?1:A>this._pdf.numPages?this._pdf.numPages:A}getDocumentParams(){const A=typeof this.src;if(!this._cMapsUrl)return this.src;const Z={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===A?Z.url=this.src:"object"===A&&(void 0!==this.src.byteLength?Z.data=this.src:Object.assign(Z,this.src)),Z}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=he.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=Z=>{this.onProgress.emit(Z)};const A=this.src;(0,ie.D)(this.loadingTask.promise).pipe((0,y.R)(this.destroy$)).subscribe({next:Z=>{this._pdf=Z,this.lastLoaded=A,this.afterLoadComplete.emit(Z),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:Z=>{this.lastLoaded=null,this.onError.emit(Z)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const A=this.getCurrentViewer();(0!==this._rotation||A.pagesRotation!==this._rotation)&&setTimeout(()=>{A.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{A.currentPageNumber=this._page}),this.updateSize()}getScale(A,Z){const se=this._showBorders?2*Y.BORDER_WIDTH:0,_e=this.pdfViewerContainer.nativeElement.clientWidth-se,Ee=this.pdfViewerContainer.nativeElement.clientHeight-se;if(0===Ee||0===Z||0===_e||0===A)return 1;let Ne=1;switch(this._zoomScale){case"page-fit":Ne=Math.min(Ee/Z,_e/A);break;case"page-height":Ne=Ee/Z;break;default:Ne=_e/A}return this._zoom*Ne/Y.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){Pe()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){Pe()||this.ngZone.runOutsideAngular(()=>{(0,me.R)(window,"resize").pipe(function le(Y,pe=q.z){return(0,ne.e)((A,Z)=>{let se=null,_e=null,Ee=null;const Ne=()=>{if(se){se.unsubscribe(),se=null;const He=_e;_e=null,Z.next(He)}};function Xe(){const He=Ee+Y,Qe=pe.now();if(Qe<He)return se=this.schedule(void 0,He-Qe),void Z.add(se);Ne()}A.subscribe((0,ce.x)(Z,He=>{_e=He,Ee=pe.now(),se||(se=pe.schedule(Xe,Y),Z.add(se))},()=>{Ne(),Z.complete()},void 0,()=>{_e=se=null}))})}(100),(0,fe.h)(()=>this._canAutoResize&&!!this._pdf),(0,y.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return Y.CSS_UNITS=96/72,Y.BORDER_WIDTH=9,Y.\u0275fac=function(A){return new(A||Y)(e.Y36(e.SBq),e.Y36(e.R0b))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["pdf-viewer"]],viewQuery:function(A,Z){if(1&A&&e.Gf(ae,5),2&A){let se;e.iGM(se=e.CRH())&&(Z.pdfViewerContainer=se.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[e.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(A,Z){1&A&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),Y})(),Me=(()=>{class Y{}return Y.\u0275fac=function(A){return new(A||Y)},Y.\u0275mod=e.oAB({type:Y}),Y.\u0275inj=e.cJS({}),Y})(),ke=(()=>{class Y{constructor(A){this.pedidoService=A,this.pdfSrc="http://localhost:8000/api/pdf"}ngOnInit(){}generarReporte(){alert("PDF"),this.pedidoService.reportePDF().pipe((0,ve.U)(A=>{const Z=new Blob([A],{type:"application/pdf"});console.log(Z);const se=window.URL.createObjectURL(Z);console.log(Z),window.open(se)}))}}return Y.\u0275fac=function(A){return new(A||Y)(e.Y36(d.$))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-reporte-pdf"]],decls:4,vars:3,consts:[[1,"card"],["type","button",3,"click"],[2,"width","900px","height","1000px",3,"src","render-text","original-size"]],template:function(A,Z){1&A&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return Z.generarReporte()}),e._uU(2,"PDF"),e.qZA(),e._UZ(3,"pdf-viewer",2),e.qZA()),2&A&&(e.xp6(3),e.Q6J("src",Z.pdfSrc)("render-text",!0)("original-size",!1))},dependencies:[Se]}),Y})();var Le=E(263);let Fe=(()=>{class Y{constructor(A){this.authService=A}ngOnInit(){this.authService.pedirPerfil().subscribe(A=>{console.log(A),this.perfil=A})}}return Y.\u0275fac=function(A){return new(A||Y)(e.Y36(Le.e))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-perfil"]],decls:6,vars:3,consts:[[1,"card"]],template:function(A,Z){1&A&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"PERFIL"),e.qZA(),e.TgZ(3,"h4"),e._uU(4),e.ALo(5,"json"),e.qZA()()),2&A&&(e.xp6(4),e.Oqu(e.lcZ(5,1,Z.perfil)))},dependencies:[r.Ts]}),Y})();var Be=E(3388),Ue=E(5047),je=E(613),Ie=E(1383);function Ve(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(A);const se=e.oxw();return e.KtG(se.openNew())}),e.qZA(),e.TgZ(1,"button",17),e.NdJ("click",function(){e.CHM(A);const se=e.oxw();return e.KtG(se.deleteSelectedProducts())}),e.qZA()}if(2&Y){const A=e.oxw();e.xp6(1),e.Q6J("label",A.Eliminar)("disabled",!A.selectedProducts||!A.selectedProducts.length)}}function Ge(Y,pe){1&Y&&e._UZ(0,"p-fileUpload",18)(1,"button",19),2&Y&&e.Q6J("maxFileSize",1e6)}function qe(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"div",20)(1,"h5",21),e._uU(2,"Gestion Productos"),e.qZA(),e.TgZ(3,"span",22),e._UZ(4,"i",23),e.TgZ(5,"input",24),e.NdJ("input",function(se){e.CHM(A),e.oxw();const _e=e.MAs(6);return e.KtG(_e.filterGlobal(se.target.value,"contains"))}),e.qZA()()()}}function ze(Y,pe){1&Y&&(e.TgZ(0,"tr")(1,"th",25),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",26),e._uU(4,"Nombre "),e._UZ(5,"p-sortIcon",27),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Image"),e.qZA(),e.TgZ(8,"th",28),e._uU(9,"Precio "),e._UZ(10,"p-sortIcon",29),e.qZA(),e.TgZ(11,"th",30),e._uU(12,"Stock "),e.qZA(),e.TgZ(13,"th",31),e._uU(14,"Category "),e._UZ(15,"p-sortIcon",32),e.qZA(),e._UZ(16,"th"),e.qZA())}function We(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",33),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"img",34),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td")(15,"p-button",35),e.NdJ("click",function(){const _e=e.CHM(A).$implicit,Ee=e.oxw();return e.KtG(Ee.showModalDialogImagen(_e))}),e.qZA(),e.TgZ(16,"button",36),e.NdJ("click",function(){const _e=e.CHM(A).$implicit,Ee=e.oxw();return e.KtG(Ee.editProduct(_e))}),e.qZA(),e.TgZ(17,"button",37),e.NdJ("click",function(){const _e=e.CHM(A).$implicit,Ee=e.oxw();return e.KtG(Ee.deleteProduct(_e))}),e.qZA()()()}if(2&Y){const A=pe.$implicit;e.xp6(2),e.Q6J("value",A),e.xp6(2),e.Oqu(A.nombre),e.xp6(2),e.Q6J("src","http://app-ventas-la.herokuapp.com/"+A.imagen,e.LSH)("alt",A.name),e.xp6(2),e.Oqu(e.xi3(9,7,A.precio,"Bs. ")),e.xp6(3),e.Oqu(A.stock),e.xp6(2),e.Oqu(A.categoria.nombre)}}function De(Y,pe){if(1&Y&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&Y){const A=e.oxw();e.xp6(1),e.hij(" En Total son ",A.products?A.products.length:0," productos. ")}}function Ze(Y,pe){if(1&Y&&e._UZ(0,"img",53),2&Y){const A=e.oxw(2);e.Q6J("src","assets/showcase/images/demo/product/"+A.product.image,e.LSH)("alt",A.product.image)}}function Ye(Y,pe){1&Y&&(e.TgZ(0,"small",54),e._uU(1,"Name is required."),e.qZA())}function Je(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"div",55)(1,"p-radioButton",56),e.NdJ("ngModelChange",function(se){e.CHM(A);const _e=e.oxw(2);return e.KtG(_e.product.categoria_id=se)}),e.qZA(),e.TgZ(2,"label",57),e._uU(3),e.qZA()()}if(2&Y){const A=pe.$implicit,Z=e.oxw(2);e.xp6(1),e.s9C("value",A.id),e.Q6J("ngModel",Z.product.categoria_id),e.xp6(2),e.Oqu(A.nombre)}}function Ke(Y,pe){if(1&Y){const A=e.EpF();e.YNc(0,Ze,1,2,"img",38),e.TgZ(1,"div",39)(2,"label",40),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"input",41),e.NdJ("ngModelChange",function(se){e.CHM(A);const _e=e.oxw();return e.KtG(_e.product.nombre=se)}),e.qZA(),e.YNc(5,Ye,2,0,"small",42),e.qZA(),e.TgZ(6,"div",39)(7,"label",43),e._uU(8,"Description"),e.qZA(),e.TgZ(9,"textarea",44),e.NdJ("ngModelChange",function(se){e.CHM(A);const _e=e.oxw();return e.KtG(_e.product.descripcion=se)}),e.qZA()(),e.TgZ(10,"div",39)(11,"label",45),e._uU(12,"Categoria"),e.qZA(),e.TgZ(13,"div",46),e.YNc(14,Je,4,3,"div",47),e.qZA()(),e.TgZ(15,"div",46)(16,"div",48)(17,"label",49),e._uU(18,"Precio"),e.qZA(),e.TgZ(19,"p-inputNumber",50),e.NdJ("ngModelChange",function(se){e.CHM(A);const _e=e.oxw();return e.KtG(_e.product.precio=se)}),e.qZA()(),e.TgZ(20,"div",48)(21,"label",51),e._uU(22,"Cantidad (Stock)"),e.qZA(),e.TgZ(23,"p-inputNumber",52),e.NdJ("ngModelChange",function(se){e.CHM(A);const _e=e.oxw();return e.KtG(_e.product.stock=se)}),e.qZA()()(),e._uU(24),e.ALo(25,"json")}if(2&Y){const A=e.oxw();e.Q6J("ngIf",A.product.image),e.xp6(4),e.Q6J("ngModel",A.product.nombre),e.xp6(1),e.Q6J("ngIf",A.submitted&&!A.product.name),e.xp6(4),e.Q6J("ngModel",A.product.descripcion),e.xp6(5),e.Q6J("ngForOf",A.categorias),e.xp6(5),e.Q6J("ngModel",A.product.precio),e.xp6(4),e.Q6J("ngModel",A.product.stock),e.xp6(1),e.hij(" ",e.lcZ(25,8,A.product)," ")}}function et(Y,pe){if(1&Y){const A=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(A);const se=e.oxw();return e.KtG(se.hideDialog())}),e.qZA(),e.TgZ(1,"button",59),e.NdJ("click",function(){e.CHM(A);const se=e.oxw();return e.KtG(se.saveProduct())}),e.qZA()}}const tt=function(){return["name","country.name","representative.name","status"]},$e=function(){return{width:"450px"}},nt=function(){return{width:"50vw"}},rt=[{path:"",component:N.F,children:[{path:"perfil",component:Fe,canActivate:[K.a]},{path:"categoria",component:S,canActivate:[K.a]},{path:"producto",component:(()=>{class Y{constructor(A,Z,se,_e){this.productoService=A,this.categoriaService=Z,this.messageService=se,this.confirmationService=_e,this.uploadedFiles=[],this.id_prod_img=0}ngOnInit(){this.listarProducto(),this.categoriaService.indexCategoria().subscribe(A=>{console.log(A),this.categorias=A})}loadProductos(A){this.loading=!0,console.log(A),this.listarProducto(A.first/A.rows+1)}listarProducto(A=1){this.loading=!0,this.productoService.indexProducto(A).subscribe(Z=>{console.log(Z),this.products=Z.data,this.totalRecords=Z.total,this.loading=!1})}openNew(){this.product={nombre:"",precio:0,stock:0,descripcion:"",categoria_id:0},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.confirmationService.confirm({message:"Are you sure you want to delete the selected products?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.products=this.products.filter(A=>!this.selectedProducts.includes(A)),this.selectedProducts=null,this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}})}saveProduct(){this.submitted=!0,this.product.nombre.trim()&&(this.product.id?this.productoService.updateProducto(this.product,this.product.id).subscribe(A=>{this.messageService.add({severity:"success",summary:"Successful",detail:"Product Modificado",life:3e3})},A=>{alert("error")}):this.productoService.storeProducto(this.product).subscribe(A=>{this.messageService.add({severity:"success",summary:"Successful",detail:"Producto Creado",life:3e3})},A=>{alert("error")}),this.listarProducto(),this.productDialog=!1,this.product={nombre:"",precio:0,stock:0,descripcion:"",categoria_id:0})}editProduct(A){this.product={...A},this.productDialog=!0}deleteProduct(A){this.confirmationService.confirm({message:"Est\xe1 seguro de eliminar el producto "+A.nombre+"?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.productoService.destroyProducto(A.id).subscribe(Z=>{this.product={nombre:"",precio:0,stock:0,descripcion:"",categoria_id:0},this.messageService.add({severity:"success",summary:"Successful",detail:"Product Eliminado",life:3e3}),this.listarProducto()})}})}showModalDialogImagen(A){this.id_prod_img=A.id,this.displayModalImagen=!0}onBeforeUploadListener(A,Z){console.log(Z.files),this.uploadedFiles=Z.files;let se=new FormData;se.append("imagen",this.uploadedFiles[0]),this.productoService.subirImagen(se,this.id_prod_img).subscribe(_e=>{console.log(_e),this.displayModalImagen=!1,this.listarProducto()})}}return Y.\u0275fac=function(A){return new(A||Y)(e.Y36(a.U),e.Y36(U.n),e.Y36(R.ez),e.Y36(R.YP))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-producto"]],features:[e._Bn([R.ez,R.YP])],decls:18,vars:26,consts:[[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","dataKey","id","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} productos",3,"value","lazy","rows","paginator","globalFilterFields","selection","rowHover","totalRecords","loading","showCurrentPageReport","onLazyLoad","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Product Details","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Subir Imagen",3,"visible","modal","draggable","resizable","visibleChange"],[3,"onBeforeUpload"],["uploader",""],["pButton","","pRipple","","label","Nuevo producto","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger",3,"label","disabled","click"],["mode","basic","accept","image/*","label","Importar","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Exportar","icon","pi pi-upload",1,"p-button-help"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","3rem"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","precio"],["field","precio"],["pSortableColumn","stock"],["pSortableColumn","category"],["field","category"],[3,"value"],["width","100",1,"shadow-4",3,"src","alt"],["icon","pi pi-external-link","label","imagen",3,"click"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["class","product-image",3,"src","alt",4,"ngIf"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngModelChange"],["class","p-error",4,"ngIf"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"mb-3"],[1,"formgrid","grid"],["class","field-radiobutton col-6",4,"ngFor","ngForOf"],[1,"field","col"],["for","price"],["id","price","mode","currency","currency","USD","locale","en-US",3,"ngModel","ngModelChange"],["for","quantity"],["id","quantity",3,"ngModel","ngModelChange"],[1,"product-image",3,"src","alt"],[1,"p-error"],[1,"field-radiobutton","col-6"],["id","category1","name","category",3,"value","ngModel","ngModelChange"],["for","category1"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(A,Z){if(1&A){const se=e.EpF();e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"p-toolbar",1),e.YNc(3,Ve,2,2,"ng-template",2),e.YNc(4,Ge,2,1,"ng-template",3),e.qZA(),e.TgZ(5,"p-table",4,5),e.NdJ("onLazyLoad",function(Ee){return Z.loadProductos(Ee)})("selectionChange",function(Ee){return Z.selectedProducts=Ee}),e.YNc(7,qe,6,0,"ng-template",6),e.YNc(8,ze,17,0,"ng-template",7),e.YNc(9,We,18,10,"ng-template",8),e.YNc(10,De,2,1,"ng-template",9),e.qZA()(),e.TgZ(11,"p-dialog",10),e.NdJ("visibleChange",function(Ee){return Z.productDialog=Ee}),e.YNc(12,Ke,26,10,"ng-template",11),e.YNc(13,et,2,0,"ng-template",12),e.qZA(),e.TgZ(14,"p-dialog",13),e.NdJ("visibleChange",function(Ee){return Z.displayModalImagen=Ee}),e.TgZ(15,"p-fileUpload",14,15),e.NdJ("onBeforeUpload",function(Ee){e.CHM(se);const Ne=e.MAs(16);return e.KtG(Z.onBeforeUploadListener(Ee,Ne))}),e.qZA()(),e._UZ(17,"p-confirmDialog")}2&A&&(e.xp6(5),e.Q6J("value",Z.products)("lazy",!0)("rows",2)("paginator",!0)("globalFilterFields",e.DdM(22,tt))("selection",Z.selectedProducts)("rowHover",!0)("totalRecords",Z.totalRecords)("loading",Z.loading)("showCurrentPageReport",!0),e.xp6(6),e.Akn(e.DdM(23,$e)),e.Q6J("visible",Z.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(24,nt)),e.Q6J("visible",Z.displayModalImagen)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(3),e.Akn(e.DdM(25,$e)))},dependencies:[r.sg,r.O5,B.Fj,B.JJ,B.Q7,R.jx,H.Hq,H.zx,j.o,O.Q,V.V,Be.p,Ue.Rn,m.g,B.On,je.EU,T.H,b.iA,b.lQ,b.fz,b.UA,b.Mo,M.FN,Ie.o,r.Ts,r.H9]}),Y})(),canActivate:[K.a]},{path:"pedido",component:g,children:[{path:"",component:c},{path:"nuevo",component:Te},{path:"reporte-pdf",component:ke},{path:":id",component:t}]}]}];let st=(()=>{class Y{}return Y.\u0275fac=function(A){return new(A||Y)},Y.\u0275mod=e.oAB({type:Y}),Y.\u0275inj=e.cJS({imports:[I.Bz.forChild(rt),I.Bz]}),Y})();var at=E(294),ot=E(2285);let lt=(()=>{class Y{}return Y.\u0275fac=function(A){return new(A||Y)},Y.\u0275mod=e.oAB({type:Y}),Y.\u0275inj=e.cJS({imports:[r.ez,st,at.I,B.UX,ot.W,Me]}),Y})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(9393).default,_defineProperty=__webpack_require__(9713).default,_classPrivateMethodInitSpec=__webpack_require__(3448).default,_classPrivateMethodGet=__webpack_require__(4877).default,_classPrivateFieldInitSpec=__webpack_require__(3606).default,_classPrivateFieldSet=__webpack_require__(5962).default,_classPrivateFieldGet=__webpack_require__(1226).default,_asyncToGenerator=__webpack_require__(8926).default,E;E=function(){return(()=>{"use strict";var __webpack_modules__=[,(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.UNSUPPORTED_FEATURES=o.TextRenderingMode=o.StreamType=o.RenderingIntentFlag=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.IsLittleEndianCached=o.IsEvalSupportedCached=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FontType=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.AnnotationType=o.AnnotationStateModelType=o.AnnotationReviewState=o.AnnotationReplyType=o.AnnotationMode=o.AnnotationMarkedState=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.arrayByteLength=J,o.arraysToBytes=function oe(ae){const te=ae.length;if(1===te&&ae[0]instanceof Uint8Array)return ae[0];let re=0;for(let xe=0;xe<te;xe++)re+=J(ae[xe]);let ye=0;const Pe=new Uint8Array(re);for(let xe=0;xe<te;xe++){let Se=ae[xe];Se instanceof Uint8Array||(Se="string"==typeof Se?X(Se):new Uint8Array(Se));const Me=Se.byteLength;Pe.set(Se,ye),ye+=Me}return Pe},o.assert=function ee(ae,te){ae||z(te)},o.bytesToString=function $(ae){("object"!=typeof ae||null===ae||void 0===ae.length)&&z("Invalid argument for bytesToString");const te=ae.length;if(te<8192)return String.fromCharCode.apply(null,ae);const ye=[];for(let Pe=0;Pe<te;Pe+=8192){const xe=Math.min(Pe+8192,te),Se=ae.subarray(Pe,xe);ye.push(String.fromCharCode.apply(null,Se))}return ye.join("")},o.createPromiseCapability=function Re(){const ae=Object.create(null);let te=!1;return Object.defineProperty(ae,"settled",{get:()=>te}),ae.promise=new Promise(function(re,ye){ae.resolve=function(Pe){te=!0,re(Pe)},ae.reject=function(Pe){te=!0,ye(Pe)}}),ae},o.createValidAbsoluteUrl=function s(ae,te=null,re=null){if(!ae)return null;try{if(re&&"string"==typeof ae){if(re.addDefaultProtocol&&ae.startsWith("www.")){const Pe=ae.match(/\./g);Pe&&Pe.length>=2&&(ae=`http://${ae}`)}if(re.tryConvertEncoding)try{ae=le(ae)}catch{}}const ye=te?new URL(ae,te):new URL(ae);if(function l(ae){if(!ae)return!1;switch(ae.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ye))return ye}catch{}return null},o.escapeString=function q(ae){return ae.replace(/([()\\\n\r])/g,te=>"\n"===te?"\\n":"\r"===te?"\\r":`\\${te}`)},o.getModificationDate=function Ce(ae=new Date){return[ae.getUTCFullYear().toString(),(ae.getUTCMonth()+1).toString().padStart(2,"0"),ae.getUTCDate().toString().padStart(2,"0"),ae.getUTCHours().toString().padStart(2,"0"),ae.getUTCMinutes().toString().padStart(2,"0"),ae.getUTCSeconds().toString().padStart(2,"0")].join("")},o.getVerbosityLevel=function F(){return d},o.info=function D(ae){d>=f.INFOS&&console.log(`Info: ${ae}`)},o.isArrayBuffer=function he(ae){return"object"==typeof ae&&null!==ae&&void 0!==ae.byteLength},o.isArrayEqual=function be(ae,te){if(ae.length!==te.length)return!1;for(let re=0,ye=ae.length;re<ye;re++)if(ae[re]!==te[re])return!1;return!0},o.isAscii=function ne(ae){return/^[\x00-\x7F]*$/.test(ae)},o.isSameOrigin=function C(ae,te){let re;try{if(re=new URL(ae),!re.origin||"null"===re.origin)return!1}catch{return!1}const ye=new URL(te,re);return re.origin===ye.origin},o.objectFromMap=function Ae(ae){const te=Object.create(null);for(const[re,ye]of ae)te[re]=ye;return te},o.objectSize=function ge(ae){return Object.keys(ae).length},o.setVerbosityLevel=function L(ae){Number.isInteger(ae)&&(d=ae)},o.shadow=_,o.string32=function ue(ae){return String.fromCharCode(ae>>24&255,ae>>16&255,ae>>8&255,255&ae)},o.stringToBytes=X,o.stringToPDFString=function y(ae){if(ae[0]>="\xef"){let re;if("\xfe"===ae[0]&&"\xff"===ae[1]?re="utf-16be":"\xff"===ae[0]&&"\xfe"===ae[1]?re="utf-16le":"\xef"===ae[0]&&"\xbb"===ae[1]&&"\xbf"===ae[2]&&(re="utf-8"),re)try{const ye=new TextDecoder(re,{fatal:!0}),Pe=X(ae);return ye.decode(Pe)}catch(ye){G(`stringToPDFString: "${ye}".`)}}const te=[];for(let re=0,ye=ae.length;re<ye;re++){const Pe=ie[ae.charCodeAt(re)];te.push(Pe?String.fromCharCode(Pe):ae.charAt(re))}return te.join("")},o.stringToUTF16BEString=function ce(ae){const te=["\xfe\xff"];for(let re=0,ye=ae.length;re<ye;re++){const Pe=ae.charCodeAt(re);te.push(String.fromCharCode(Pe>>8&255),String.fromCharCode(255&Pe))}return te.join("")},o.stringToUTF8String=le,o.unreachable=z,o.utf8StringToString=function fe(ae){return unescape(encodeURIComponent(ae))},o.warn=G,E(2),o.IDENTITY_MATRIX=[1,0,0,1,0,0],o.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],o.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},o.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},o.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},o.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},o.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},o.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},o.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},o.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},o.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},o.AnnotationReplyType={GROUP:"Group",REPLY:"R"},o.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},o.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},o.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},o.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},o.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},o.PageActionEventType={O:"PageOpen",C:"PageClose"},o.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},o.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const f={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=f,o.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},o.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},o.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},o.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let d=f.WARNINGS;function G(ae){d>=f.WARNINGS&&console.log(`Warning: ${ae}`)}function z(ae){throw new Error(ae)}function _(ae,te,re){return Object.defineProperty(ae,te,{value:re,enumerable:!0,configurable:!0,writable:!1}),re}const c=function(){function te(re,ye){this.constructor===te&&z("Cannot initialize BaseException."),this.message=re,this.name=ye}return te.prototype=new Error,te.constructor=te,te}();function X(ae){"string"!=typeof ae&&z("Invalid argument for stringToBytes");const te=ae.length,re=new Uint8Array(te);for(let ye=0;ye<te;++ye)re[ye]=255&ae.charCodeAt(ye);return re}function J(ae){return void 0!==ae.length?ae.length:void 0!==ae.byteLength?ae.byteLength:void z("Invalid argument for arrayByteLength")}o.BaseException=c,o.PasswordException=class t extends c{constructor(te,re){super(te,"PasswordException"),this.code=re}},o.UnknownErrorException=class a extends c{constructor(te,re){super(te,"UnknownErrorException"),this.details=re}},o.InvalidPDFException=class p extends c{constructor(te){super(te,"InvalidPDFException")}},o.MissingPDFException=class T extends c{constructor(te){super(te,"MissingPDFException")}},o.UnexpectedResponseException=class v extends c{constructor(te,re){super(te,"UnexpectedResponseException"),this.status=re}},o.FormatError=class h extends c{constructor(te){super(te,"FormatError")}},o.AbortException=class W extends c{constructor(te){super(te,"AbortException")}},o.IsLittleEndianCached={get value(){return _(this,"value",function de(){const ae=new Uint8Array(4);return ae[0]=1,1===new Uint32Array(ae.buffer,0,1)[0]}())}},o.IsEvalSupportedCached={get value(){return _(this,"value",function Te(){try{return new Function(""),!0}catch{return!1}}())}};const me=[...Array(256).keys()].map(ae=>ae.toString(16).padStart(2,"0"));class Oe{static makeHexColor(te,re,ye){return`#${me[te]}${me[re]}${me[ye]}`}static transform(te,re){return[te[0]*re[0]+te[2]*re[1],te[1]*re[0]+te[3]*re[1],te[0]*re[2]+te[2]*re[3],te[1]*re[2]+te[3]*re[3],te[0]*re[4]+te[2]*re[5]+te[4],te[1]*re[4]+te[3]*re[5]+te[5]]}static applyTransform(te,re){return[te[0]*re[0]+te[1]*re[2]+re[4],te[0]*re[1]+te[1]*re[3]+re[5]]}static applyInverseTransform(te,re){const ye=re[0]*re[3]-re[1]*re[2];return[(te[0]*re[3]-te[1]*re[2]+re[2]*re[5]-re[4]*re[3])/ye,(-te[0]*re[1]+te[1]*re[0]+re[4]*re[1]-re[5]*re[0])/ye]}static getAxialAlignedBoundingBox(te,re){const ye=Oe.applyTransform(te,re),Pe=Oe.applyTransform(te.slice(2,4),re),xe=Oe.applyTransform([te[0],te[3]],re),Se=Oe.applyTransform([te[2],te[1]],re);return[Math.min(ye[0],Pe[0],xe[0],Se[0]),Math.min(ye[1],Pe[1],xe[1],Se[1]),Math.max(ye[0],Pe[0],xe[0],Se[0]),Math.max(ye[1],Pe[1],xe[1],Se[1])]}static inverseTransform(te){const re=te[0]*te[3]-te[1]*te[2];return[te[3]/re,-te[1]/re,-te[2]/re,te[0]/re,(te[2]*te[5]-te[4]*te[3])/re,(te[4]*te[1]-te[5]*te[0])/re]}static apply3dTransform(te,re){return[te[0]*re[0]+te[1]*re[1]+te[2]*re[2],te[3]*re[0]+te[4]*re[1]+te[5]*re[2],te[6]*re[0]+te[7]*re[1]+te[8]*re[2]]}static singularValueDecompose2dScale(te){const re=[te[0],te[2],te[1],te[3]],ye=te[0]*re[0]+te[1]*re[2],Se=te[2]*re[1]+te[3]*re[3],Me=(ye+Se)/2,ke=Math.sqrt((ye+Se)**2-4*(ye*Se-(te[2]*re[0]+te[3]*re[2])*(te[0]*re[1]+te[1]*re[3])))/2,Fe=Me-ke||1;return[Math.sqrt(Me+ke||1),Math.sqrt(Fe)]}static normalizeRect(te){const re=te.slice(0);return te[0]>te[2]&&(re[0]=te[2],re[2]=te[0]),te[1]>te[3]&&(re[1]=te[3],re[3]=te[1]),re}static intersect(te,re){function ye(Me,ke){return Me-ke}const Pe=[te[0],te[2],re[0],re[2]].sort(ye),xe=[te[1],te[3],re[1],re[3]].sort(ye),Se=[];return te=Oe.normalizeRect(te),re=Oe.normalizeRect(re),Pe[0]===te[0]&&Pe[1]===re[0]||Pe[0]===re[0]&&Pe[1]===te[0]?(Se[0]=Pe[1],Se[2]=Pe[2],xe[0]===te[1]&&xe[1]===re[1]||xe[0]===re[1]&&xe[1]===te[1]?(Se[1]=xe[1],Se[3]=xe[2],Se):null):null}static bezierBoundingBox(te,re,ye,Pe,xe,Se,Me,ke){const Le=[],Fe=[[],[]];let Be,Ue,je,Ie,Ve,Ge,qe,ze;for(let Ye=0;Ye<2;++Ye)if(0===Ye?(Ue=6*te-12*ye+6*xe,Be=-3*te+9*ye-9*xe+3*Me,je=3*ye-3*te):(Ue=6*re-12*Pe+6*Se,Be=-3*re+9*Pe-9*Se+3*ke,je=3*Pe-3*re),Math.abs(Be)<1e-12){if(Math.abs(Ue)<1e-12)continue;Ie=-je/Ue,0<Ie&&Ie<1&&Le.push(Ie)}else qe=Ue*Ue-4*je*Be,ze=Math.sqrt(qe),!(qe<0)&&(Ve=(-Ue+ze)/(2*Be),0<Ve&&Ve<1&&Le.push(Ve),Ge=(-Ue-ze)/(2*Be),0<Ge&&Ge<1&&Le.push(Ge));let De,We=Le.length;const Ze=We;for(;We--;)Ie=Le[We],De=1-Ie,Fe[0][We]=De*De*De*te+3*De*De*Ie*ye+3*De*Ie*Ie*xe+Ie*Ie*Ie*Me,Fe[1][We]=De*De*De*re+3*De*De*Ie*Pe+3*De*Ie*Ie*Se+Ie*Ie*Ie*ke;return Fe[0][Ze]=te,Fe[1][Ze]=re,Fe[0][Ze+1]=Me,Fe[1][Ze+1]=ke,Fe[0].length=Fe[1].length=Ze+2,[Math.min(...Fe[0]),Math.min(...Fe[1]),Math.max(...Fe[0]),Math.max(...Fe[1])]}}o.Util=Oe;const ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function le(ae){return decodeURIComponent(escape(ae))}},(Q,o,E)=>{E(3)},(Q,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isNodeJS=void 0;const E=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);o.isNodeJS=E},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(Q){createPDFNetworkStream=Q}function getDocument(Q){const o=new PDFDocumentLoadingTask;let E;if("string"==typeof Q||Q instanceof URL)E={url:Q};else if((0,_util.isArrayBuffer)(Q))E={data:Q};else if(Q instanceof PDFDataRangeTransport)E={range:Q};else{if("object"!=typeof Q)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!Q.url&&!Q.data&&!Q.range)throw new Error("Invalid parameter object: need either .data, .range or .url");E=Q}const r=Object.create(null);let I=null,N=null;for(const B in E){const R=E[B];switch(B){case"url":if(typeof window<"u")try{r[B]=new URL(R,window.location).href;continue}catch(e){(0,_util.warn)(`Cannot create valid URL: "${e}".`)}else if("string"==typeof R||R instanceof URL){r[B]=R.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":I=R;continue;case"worker":N=R;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&R instanceof Buffer)r[B]=new Uint8Array(R);else{if(R instanceof Uint8Array)break;if("string"==typeof R)r[B]=(0,_util.stringToBytes)(R);else if("object"!=typeof R||null===R||isNaN(R.length)){if(!(0,_util.isArrayBuffer)(R))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[B]=new Uint8Array(R)}else r[B]=new Uint8Array(R)}continue}r[B]=R}if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),typeof r.ownerDocument>"u"&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!N){const B={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};N=B.port?_PDFWorker.fromPort(B):new _PDFWorker(B),o._worker=N}const K=o.docId;return N.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const B=_fetchDocument(N,r,I,K),R=new Promise(function(e){let U;I?U=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},I):r.data||(U=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(U)});return Promise.all([B,R]).then(function([e,U]){if(o.destroyed)throw new Error("Loading aborted");const H=new _message_handler.MessageHandler(K,e,N.port),j=new WorkerTransport(H,o,U,r);o._transport=j,H.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(Q,o,E,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(Q,o,E,r){if(Q.destroyed)throw new Error("Worker was destroyed");E&&(o.length=E.length,o.initialData=E.initialData,o.progressiveDone=E.progressiveDone,o.contentDispositionFilename=E.contentDispositionFilename);const I=yield Q.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.13.216",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,docBaseUrl:o.docBaseUrl,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported,fontExtraProperties:o.fontExtraProperties,enableXfa:o.enableXfa,useSystemFonts:o.useSystemFonts,cMapUrl:o.useWorkerFetch?o.cMapUrl:null,standardFontDataUrl:o.useWorkerFetch?o.standardFontDataUrl:null});if(Q.destroyed)throw new Error("Worker was destroyed");return I})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var o=this;return _asyncToGenerator(function*(){o.destroyed=!0,yield o._transport?.destroy(),o._transport=null,o._worker&&(o._worker.destroy(),o._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,E,r=!1,I=null){this.length=o,this.initialData=E,this.progressiveDone=r,this.contentDispositionFilename=I,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,E){for(const r of this._rangeListeners)r(o,E)}onDataProgress(o,E){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(o,E)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const E of this._progressiveReadListeners)E(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,E){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,E){var I,r=this;this._pdfInfo=o,this._transport=E,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(I=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),r.stats||{streamTypes:{},fontTypes:{}}}),function(){return I.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,E,r,I,N=!1){this._pageIndex=o,this._pageInfo=E,this._ownerDocument=I,this._transport=r,this._stats=N?new _display_utils.StatTimer:null,this._pdfBug=N,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:E=this.rotate,offsetX:r=0,offsetY:I=0,dontFlip:N=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:E,offsetX:r,offsetY:I,dontFlip:N})}getAnnotations({intent:o="display"}={}){const E=this._transport.getRenderingIntent(o);let r=this._annotationPromises.get(E.cacheKey);return r||(r=this._transport.getAnnotations(this._pageIndex,E.renderingIntent),this._annotationPromises.set(E.cacheKey,r),r=r.then(I=>{for(const N of I)void 0!==N.titleObj&&Object.defineProperty(N,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),N.titleObj.str)}),void 0!==N.contentsObj&&Object.defineProperty(N,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),N.contentsObj.str)});return I})),r}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var o=this;return _asyncToGenerator(function*(){return o._transport._htmlForXfa?.children[o._pageIndex]||null})()}render({canvasContext:o,viewport:E,intent:r="display",annotationMode:I=_util.AnnotationMode.ENABLE,transform:N=null,imageLayer:K=null,canvasFactory:B=null,background:R=null,optionalContentConfigPromise:e=null,annotationCanvasMap:U=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&I===_util.AnnotationMode.ENABLE&&(I=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&I===_util.AnnotationMode.ENABLE&&(I=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const H=this._transport.getRenderingIntent(r,I);this.pendingCleanup=!1,e||(e=this._transport.getOptionalContentConfig());let j=this._intentStates.get(H.cacheKey);j||(j=Object.create(null),this._intentStates.set(H.cacheKey,j)),j.streamReaderCancelTimeout&&(clearTimeout(j.streamReaderCancelTimeout),j.streamReaderCancelTimeout=null);const O=B||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),V=!!(H.renderingIntent&_util.RenderingIntentFlag.PRINT);j.displayReadyCapability||(j.displayReadyCapability=(0,_util.createPromiseCapability)(),j.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(H));const m=k=>{j.renderTasks.delete(b),(this.cleanupAfterRender||V)&&(this.pendingCleanup=!0),this._tryCleanup(),k?(b.capability.reject(k),this._abortOperatorList({intentState:j,reason:k instanceof Error?k:new Error(k)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},b=new InternalRenderTask({callback:m,params:{canvasContext:o,viewport:E,transform:N,imageLayer:K,background:R},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:U,operatorList:j.operatorList,pageIndex:this._pageIndex,canvasFactory:O,useRequestAnimationFrame:!V,pdfBug:this._pdfBug});(j.renderTasks||(j.renderTasks=new Set)).add(b);const M=b.task;return Promise.all([j.displayReadyCapability.promise,e]).then(([k,P])=>{this.pendingCleanup?m():(this._stats&&this._stats.time("Rendering"),b.initializeGraphics({transparency:k,optionalContentConfig:P}),b.operatorListChanged())}).catch(m),M}getOperatorList({intent:o="display",annotationMode:E=_util.AnnotationMode.ENABLE}={}){const I=this._transport.getRenderingIntent(o,E,!0);let K,N=this._intentStates.get(I.cacheKey);return N||(N=Object.create(null),this._intentStates.set(I.cacheKey,N)),N.opListReadCapability||(K=Object.create(null),K.operatorListChanged=function r(){N.operatorList.lastChunk&&(N.opListReadCapability.resolve(N.operatorList),N.renderTasks.delete(K))},N.opListReadCapability=(0,_util.createPromiseCapability)(),(N.renderTasks||(N.renderTasks=new Set)).add(K),N.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(I)),N.opListReadCapability.promise}streamTextContent({disableCombineTextItems:o=!1,includeMarkedContent:E=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===E},{highWaterMark:100,size:I=>I.items.length})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_xfa_text.XfaText.textContent(r));const E=this.streamTextContent(o);return new Promise(function(r,I){const K=E.getReader(),B={items:[],styles:Object.create(null)};!function N(){K.read().then(function({value:R,done:e}){e?r(B):(Object.assign(B.styles,R.styles),B.items.push(...R.items),N())},I)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const o=[];for(const E of this._intentStates.values())if(this._abortOperatorList({intentState:E,reason:new Error("Page was destroyed."),force:!0}),!E.opListReadCapability)for(const r of E.renderTasks)o.push(r.completed),r.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:E,operatorList:r}of this._intentStates.values())if(E.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(o,E){const r=this._intentStates.get(E);!r||(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(o))}_renderPageChunk(o,E){for(let r=0,I=o.length;r<I;r++)E.operatorList.fnArray.push(o.fnArray[r]),E.operatorList.argsArray.push(o.argsArray[r]);E.operatorList.lastChunk=o.lastChunk;for(const r of E.renderTasks)r.operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:o,cacheKey:E}){const I=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:E,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),N=this._intentStates.get(E);N.streamReader=I;const K=()=>{I.read().then(({value:B,done:R})=>{R?N.streamReader=null:this._transport.destroyed||(this._renderPageChunk(B,N),K())},B=>{if(N.streamReader=null,!this._transport.destroyed){if(N.operatorList){N.operatorList.lastChunk=!0;for(const R of N.renderTasks)R.operatorListChanged();this._tryCleanup()}if(N.displayReadyCapability)N.displayReadyCapability.reject(B);else{if(!N.opListReadCapability)throw B;N.opListReadCapability.reject(B)}}})};K()}_abortOperatorList({intentState:o,reason:E,force:r=!1}){if(o.streamReader){if(!r){if(o.renderTasks.size>0)return;if(E instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:E,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(E.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[I,N]of this._intentStates)if(N===o){this._intentStates.delete(I);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(o,E){const r={data:structuredClone(o,E)};this._deferred.then(()=>{for(const I of this._listeners)I.call(this,r)})}addEventListener(o,E){this._listeners.push(E)}removeEventListener(o,E){const r=this._listeners.indexOf(E);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const Q=document?.currentScript?.src;Q&&(PDFWorkerUtil.fallbackWorkerSrc=Q.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(Q){return URL.createObjectURL(new Blob([`importScripts("${Q}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:Q=null,port:o=null,verbosity:E=(0,_util.getVerbosityLevel)()}={}){if(o&&_PDFWorker._workerPorts.has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Q,this.destroyed=!1,this.verbosity=E,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return _PDFWorker._workerPorts.set(o,this),void this._initializeFromPort(o);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Q){this._port=Q,this._messageHandler=new _message_handler.MessageHandler("main","worker",Q),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let Q=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,Q)||(Q=PDFWorkerUtil.createCDNWrapper(new URL(Q,window.location).href));const o=new Worker(Q),E=new _message_handler.MessageHandler("main","worker",o),r=()=>{o.removeEventListener("error",I),E.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},I=()=>{this._webWorker||r()};o.addEventListener("error",I),E.on("test",K=>{o.removeEventListener("error",I),this.destroyed?r():K?(this._messageHandler=E,this._port=o,this._webWorker=o,this._readyCapability.resolve(),E.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),E.destroy(),o.terminate())}),E.on("ready",K=>{if(o.removeEventListener("error",I),this.destroyed)r();else try{N()}catch{this._setupFakeWorker()}});const N=()=>{const K=new Uint8Array([255]);try{E.send("test",K,[K.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),K[0]=0,E.send("test",K)}};return void N()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Q=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new LoopbackPort;this._port=o;const E="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(E+"_worker",E,o);Q.setup(r,o);const I=new _message_handler.MessageHandler(E,E+"_worker",o);this._messageHandler=I,this._readyCapability.resolve(),I.send("configure",{verbosity:this.verbosity})}).catch(Q=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Q.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Q){if(!Q?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(Q.port)?this._workerPorts.get(Q.port):new _PDFWorker(Q)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function Q(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(o,E,r,I){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=o,this.loadingTask=E,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:E.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:I.ownerDocument,styleElement:I.styleElement}),this._params=I,I.useWorkerFetch||(this.CMapReaderFactory=new I.CMapReaderFactory({baseUrl:I.cMapUrl,isCompressed:I.cMapPacked}),this.StandardFontDataFactory=new I.StandardFontDataFactory({baseUrl:I.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(o,E=_util.AnnotationMode.ENABLE,r=!1){let I=_util.RenderingIntentFlag.DISPLAY,N="";switch(o){case"any":I=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":I=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(E){case _util.AnnotationMode.DISABLE:I+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:I+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:I+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,N=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${E}`)}return r&&(I+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:I,cacheKey:`${I}_${N}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const r of _classPrivateFieldGet(this,_pageCache).values())o.push(r._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const E=this.messageHandler.sendWithPromise("Terminate",null);return o.push(E),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:E}=this;o.on("GetReader",(r,I)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=N=>{this._lastProgress={loaded:N.loaded,total:N.total}},I.onPull=()=>{this._fullReader.read().then(function({value:N,done:K}){K?I.close():((0,_util.assert)((0,_util.isArrayBuffer)(N),"GetReader - expected an ArrayBuffer."),I.enqueue(new Uint8Array(N),1,[N]))}).catch(N=>{I.error(N)})},I.onCancel=N=>{this._fullReader.cancel(N),I.ready.catch(K=>{if(!this.destroyed)throw K})}}),o.on("ReaderHeadersReady",r=>{const I=(0,_util.createPromiseCapability)(),N=this._fullReader;return N.headersReady.then(()=>{(!N.isStreamingSupported||!N.isRangeSupported)&&(this._lastProgress&&E.onProgress?.(this._lastProgress),N.onProgress=K=>{E.onProgress?.({loaded:K.loaded,total:K.total})}),I.resolve({isStreamingSupported:N.isStreamingSupported,isRangeSupported:N.isRangeSupported,contentLength:N.contentLength})},I.reject),I.promise}),o.on("GetRangeReader",(r,I)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const N=this._networkStream.getRangeReader(r.begin,r.end);N?(I.onPull=()=>{N.read().then(function({value:K,done:B}){B?I.close():((0,_util.assert)((0,_util.isArrayBuffer)(K),"GetRangeReader - expected an ArrayBuffer."),I.enqueue(new Uint8Array(K),1,[K]))}).catch(K=>{I.error(K)})},I.onCancel=K=>{N.cancel(K),I.ready.catch(B=>{if(!this.destroyed)throw B})}):I.close()}),o.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,E._capability.resolve(new PDFDocumentProxy(r,this))}),o.on("DocException",function(r){let I;switch(r.name){case"PasswordException":I=new _util.PasswordException(r.message,r.code);break;case"InvalidPDFException":I=new _util.InvalidPDFException(r.message);break;case"MissingPDFException":I=new _util.MissingPDFException(r.message);break;case"UnexpectedResponseException":I=new _util.UnexpectedResponseException(r.message,r.status);break;case"UnknownErrorException":I=new _util.UnknownErrorException(r.message,r.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}E._capability.reject(I)}),o.on("PasswordRequest",r=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),E.onPassword){const I=N=>{N instanceof Error?this._passwordCapability.reject(N):this._passwordCapability.resolve({password:N})};try{E.onPassword(I,r.code)}catch(N){this._passwordCapability.reject(N)}}else this._passwordCapability.reject(new _util.PasswordException(r.message,r.code));return this._passwordCapability.promise}),o.on("DataLoaded",r=>{E.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),o.on("StartRenderPage",r=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),o.on("commonobj",([r,I,N])=>{if(!this.destroyed&&!this.commonObjs.has(r))switch(I){case"Font":const K=this._params;if("error"in N){const e=N.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(r,e);break}let B=null;K.pdfBug&&globalThis.FontInspector?.enabled&&(B={registerFont(e,U){globalThis.FontInspector.fontAdded(e,U)}});const R=new _font_loader.FontFaceObject(N,{isEvalSupported:K.isEvalSupported,disableFontFace:K.disableFontFace,ignoreErrors:K.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:B});this.fontLoader.bind(R).catch(e=>o.sendWithPromise("FontFallback",{id:r})).finally(()=>{!K.fontExtraProperties&&R.data&&(R.data=null),this.commonObjs.resolve(r,R)});break;case"FontPath":case"Image":this.commonObjs.resolve(r,N);break;default:throw new Error(`Got unknown common object type ${I}`)}}),o.on("obj",([r,I,N,K])=>{if(this.destroyed)return;const B=_classPrivateFieldGet(this,_pageCache).get(I);if(!B.objs.has(r))switch(N){case"Image":B.objs.resolve(r,K),K?.data?.length>8e6&&(B.cleanupAfterRender=!0);break;case"Pattern":B.objs.resolve(r,K);break;default:throw new Error(`Got unknown object type ${N}`)}}),o.on("DocProgress",r=>{this.destroyed||E.onProgress?.({loaded:r.loaded,total:r.total})}),o.on("DocStats",r=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(r.streamTypes),fontTypes:Object.freeze(r.fontTypes)}))}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:o}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const E=o-1,r=_classPrivateFieldGet(this,_pagePromises).get(E);if(r)return r;const I=this.messageHandler.sendWithPromise("GetPage",{pageIndex:E}).then(N=>{if(this.destroyed)throw new Error("Transport destroyed");const K=new PDFPageProxy(E,N,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(E,K),K});return _classPrivateFieldGet(this,_pagePromises).set(E,I),I}getPageIndex(o){return"object"!=typeof o||null===o||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,E){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:E})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>({info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(o=!1){var E=this;return _asyncToGenerator(function*(){if(yield E.messageHandler.sendWithPromise("Cleanup",null),!E.destroyed){for(const r of _classPrivateFieldGet(E,_pageCache).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);E.commonObjs.clear(),o||E.fontLoader.clear(),_classPrivateFieldSet(E,_metadataPromise,null),E._getFieldObjectsPromise=null,E._hasJSActionsPromise=null}})()}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,enableXfa:o.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(o,E=null){if(E){const I=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,o);return I.capability.promise.then(()=>E(I.data)),null}const r=_classPrivateFieldGet(this,_objs)[o];if(!r?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${o}.`);return r.data}has(o){return _classPrivateFieldGet(this,_objs)[o]?.capability.settled||!1}resolve(o,E=null){const r=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,o);r.data=E,r.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(Q){return _classPrivateFieldGet(this,_objs)[Q]||(_classPrivateFieldGet(this,_objs)[Q]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:o,params:E,objs:r,commonObjs:I,annotationCanvasMap:N,operatorList:K,pageIndex:B,canvasFactory:R,useRequestAnimationFrame:e=!1,pdfBug:U=!1}){this.callback=o,this.params=E,this.objs=r,this.commonObjs=I,this.annotationCanvasMap=N,this.operatorListIdx=null,this.operatorList=K,this._pageIndex=B,this.canvasFactory=R,this._pdfBug=U,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===e&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=E.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:E}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:I,transform:N,imageLayer:K,background:B}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,K,E,this.annotationCanvasMap),this.gfx.beginDrawing({transform:N,viewport:I,transparency:o,background:B}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(o=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var o=this;return _asyncToGenerator(function*(){o.cancelled||(o.operatorListIdx=o.gfx.executeOperatorList(o.operatorList,o.operatorListIdx,o._continueBound,o.stepper),o.operatorListIdx===o.operatorList.argsArray.length&&(o.running=!1,o.operatorList.lastChunk&&(o.gfx.endDrawing(),o._canvas&&InternalRenderTask.canvasInUse.delete(o._canvas),o.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=function n(S){console.log("Deprecated API usage: "+S)},o.getFilenameFromUrl=function M(S){const g=S.indexOf("#"),d=S.indexOf("?"),L=Math.min(g>0?g:S.length,d>0?d:S.length);return S.substring(S.lastIndexOf("/",L)+1,L)},o.getPdfFilenameFromUrl=function k(S,g="document.pdf"){if("string"!=typeof S)return g;if(m(S))return(0,I.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),g;const L=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,F=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(S);let D=L.exec(F[1])||L.exec(F[2])||L.exec(F[3]);if(D&&(D=D[0],D.includes("%")))try{D=L.exec(decodeURIComponent(D))[0]}catch{}return D||g},o.getXfaPageViewport=function u(S,{scale:g=1,rotation:d=0}){const{width:L,height:F}=S.attributes.style,D=[0,0,parseInt(L),parseInt(F)];return new O({viewBox:D,scale:g,rotation:d})},o.isDataScheme=m,o.isPdfFile=function b(S){return"string"==typeof S&&/\.pdf$/i.test(S)},o.isValidFetchUrl=x,o.loadScript=function i(S,g=!1){return new Promise((d,L)=>{const F=document.createElement("script");F.src=S,F.onload=function(D){g&&F.remove(),d(D)},F.onerror=function(){L(new Error(`Cannot load script at: ${F.src}`))},(document.head||document.documentElement).appendChild(F)})};var r=E(6),I=E(1);class K{}function R(S){return e.apply(this,arguments)}function e(){return(e=_asyncToGenerator(function*(S,g=!1){if(x(S,document.baseURI)){const d=yield fetch(S);if(!d.ok)throw new Error(d.statusText);return g?new Uint8Array(yield d.arrayBuffer()):(0,I.stringToBytes)(yield d.text())}return new Promise((d,L)=>{const F=new XMLHttpRequest;F.open("GET",S,!0),g&&(F.responseType="arraybuffer"),F.onreadystatechange=()=>{if(F.readyState===XMLHttpRequest.DONE){if(200===F.status||0===F.status){let D;if(g&&F.response?D=new Uint8Array(F.response):!g&&F.responseText&&(D=(0,I.stringToBytes)(F.responseText)),D)return void d(D)}L(new Error(F.statusText))}},F.send(null)})})).apply(this,arguments)}_defineProperty(K,"CSS",96),_defineProperty(K,"PDF",72),_defineProperty(K,"PDF_TO_CSS_UNITS",K.CSS/K.PDF),o.PixelsPerInch=K,o.DOMCanvasFactory=class B extends r.BaseCanvasFactory{constructor({ownerDocument:g=globalThis.document}={}){super(),this._document=g}_createCanvas(g,d){const L=this._document.createElement("canvas");return L.width=g,L.height=d,L}},o.DOMCMapReaderFactory=class U extends r.BaseCMapReaderFactory{_fetchData(g,d){return R(g,this.isCompressed).then(L=>({cMapData:L,compressionType:d}))}},o.DOMStandardFontDataFactory=class H extends r.BaseStandardFontDataFactory{_fetchData(g){return R(g,!0)}},o.DOMSVGFactory=class j extends r.BaseSVGFactory{_createSVG(g){return document.createElementNS("http://www.w3.org/2000/svg",g)}};class O{constructor({viewBox:g,scale:d,rotation:L,offsetX:F=0,offsetY:D=0,dontFlip:G=!1}){this.viewBox=g,this.scale=d,this.rotation=L,this.offsetX=F,this.offsetY=D;const z=(g[2]+g[0])/2,ee=(g[3]+g[1])/2;let C,l,s,_,c,t,a,p;switch((L%=360)<0&&(L+=360),L){case 180:C=-1,l=0,s=0,_=1;break;case 90:C=0,l=1,s=1,_=0;break;case 270:C=0,l=-1,s=-1,_=0;break;case 0:C=1,l=0,s=0,_=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}G&&(s=-s,_=-_),0===C?(c=Math.abs(ee-g[1])*d+F,t=Math.abs(z-g[0])*d+D,a=Math.abs(g[3]-g[1])*d,p=Math.abs(g[2]-g[0])*d):(c=Math.abs(z-g[0])*d+F,t=Math.abs(ee-g[1])*d+D,a=Math.abs(g[2]-g[0])*d,p=Math.abs(g[3]-g[1])*d),this.transform=[C*d,l*d,s*d,_*d,c-C*d*z-s*d*ee,t-l*d*z-_*d*ee],this.width=a,this.height=p}clone({scale:g=this.scale,rotation:d=this.rotation,offsetX:L=this.offsetX,offsetY:F=this.offsetY,dontFlip:D=!1}={}){return new O({viewBox:this.viewBox.slice(),scale:g,rotation:d,offsetX:L,offsetY:F,dontFlip:D})}convertToViewportPoint(g,d){return I.Util.applyTransform([g,d],this.transform)}convertToViewportRectangle(g){const d=I.Util.applyTransform([g[0],g[1]],this.transform),L=I.Util.applyTransform([g[2],g[3]],this.transform);return[d[0],d[1],L[0],L[1]]}convertToPdfPoint(g,d){return I.Util.applyInverseTransform([g,d],this.transform)}}function m(S){const g=S.length;let d=0;for(;d<g&&""===S[d].trim();)d++;return"data:"===S.substring(d,d+5).toLowerCase()}function x(S,g){try{const{protocol:d}=g?new URL(S,g):new URL(S);return"http:"===d||"https:"===d}catch{return!1}}let f;o.PageViewport=O,o.RenderingCancelledException=class V extends I.BaseException{constructor(g,d){super(g,"RenderingCancelledException"),this.type=d}},o.StatTimer=class P{constructor(){this.started=Object.create(null),this.times=[]}time(g){g in this.started&&(0,I.warn)(`Timer is already running for ${g}`),this.started[g]=Date.now()}timeEnd(g){g in this.started||(0,I.warn)(`Timer has not been started for ${g}`),this.times.push({name:g,start:this.started[g],end:Date.now()}),delete this.started[g]}toString(){const g=[];let d=0;for(const L of this.times){const F=L.name;F.length>d&&(d=F.length)}for(const L of this.times){const F=L.end-L.start;g.push(`${L.name.padEnd(d)} ${F}ms\n`)}return g.join("")}},o.PDFDateString=class w{static toDateObject(g){if(!g||"string"!=typeof g)return null;f||(f=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const d=f.exec(g);if(!d)return null;const L=parseInt(d[1],10);let F=parseInt(d[2],10);F=F>=1&&F<=12?F-1:0;let D=parseInt(d[3],10);D=D>=1&&D<=31?D:1;let G=parseInt(d[4],10);G=G>=0&&G<=23?G:0;let z=parseInt(d[5],10);z=z>=0&&z<=59?z:0;let ee=parseInt(d[6],10);ee=ee>=0&&ee<=59?ee:0;const C=d[7]||"Z";let l=parseInt(d[8],10);l=l>=0&&l<=23?l:0;let s=parseInt(d[9],10)||0;return s=s>=0&&s<=59?s:0,"-"===C?(G+=l,z+=s):"+"===C&&(G-=l,z-=s),new Date(Date.UTC(L,F,D,G,z,ee))}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var r=E(1);class I{constructor(){this.constructor===I&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,U){if(e<=0||U<=0)throw new Error("Invalid canvas size");const H=this._createCanvas(e,U);return{canvas:H,context:H.getContext("2d")}}reset(e,U,H){if(!e.canvas)throw new Error("Canvas is not specified");if(U<=0||H<=0)throw new Error("Invalid canvas size");e.canvas.width=U,e.canvas.height=H}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,U){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=I;class N{constructor({baseUrl:e=null,isCompressed:U=!1}){this.constructor===N&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=U}fetch({name:e}){var U=this;return _asyncToGenerator(function*(){if(!U.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const H=U.baseUrl+e+(U.isCompressed?".bcmap":"");return U._fetchData(H,U.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE).catch(O=>{throw new Error(`Unable to load ${U.isCompressed?"binary ":""}CMap at: ${H}`)})})()}_fetchData(e,U){(0,r.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=N;class K{constructor({baseUrl:e=null}){this.constructor===K&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}fetch({filename:e}){var U=this;return _asyncToGenerator(function*(){if(!U.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const H=`${U.baseUrl}${e}`;return U._fetchData(H).catch(j=>{throw new Error(`Unable to load font data at: ${H}`)})})()}_fetchData(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=K;class B{constructor(){this.constructor===B&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,U){if(e<=0||U<=0)throw new Error("Invalid SVG dimensions");const H=this._createSVG("svg:svg");return H.setAttribute("version","1.1"),H.setAttribute("width",`${e}px`),H.setAttribute("height",`${U}px`),H.setAttribute("preserveAspectRatio","none"),H.setAttribute("viewBox",`0 0 ${e} ${U}`),H}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=B},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var r=E(1);class I{constructor({docId:R,onUnsupportedFeature:e,ownerDocument:U=globalThis.document,styleElement:H=null}){this.constructor===I&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=R,this._onUnsupportedFeature=e,this._document=U,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(R){this.nativeFontFaces.push(R),this._document.fonts.add(R)}insertRule(R){let e=this.styleElement;e||(e=this.styleElement=this._document.createElement("style"),e.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(e));const U=e.sheet;U.insertRule(R,U.cssRules.length)}clear(){for(const R of this.nativeFontFaces)this._document.fonts.delete(R);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(R){var e=this;return _asyncToGenerator(function*(){if(R.attached||R.missingFile)return;if(R.attached=!0,e.isFontLoadingAPISupported){const H=R.createNativeFontFace();if(H){e.addNativeFontFace(H);try{yield H.loaded}catch(j){throw e._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${H.family}': '${j}'.`),R.disableFontFace=!0,j}}return}const U=R.createFontFaceRule();if(U){if(e.insertRule(U),e.isSyncFontLoadingSupported)return;yield new Promise(H=>{const j=e._queueLoadingCallback(H);e._prepareFontLoadEvent([U],[R],j)})}})()}_queueLoadingCallback(R){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,r.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(R,e,U){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let N;o.FontLoader=N,o.FontLoader=N=class extends I{constructor(R){super(R),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let R=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(R=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",R)}_queueLoadingCallback(R){const U=this.loadingContext,H={id:"pdfjs-font-loading-"+U.nextRequestId++,done:!1,complete:function e(){for((0,r.assert)(!H.done,"completeRequest() cannot be called twice."),H.done=!0;U.requests.length>0&&U.requests[0].done;){const j=U.requests.shift();setTimeout(j.callback,0)}},callback:R};return U.requests.push(H),H}get _loadTestFont(){return(0,r.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(R,e,U){function H(L,F){return L.charCodeAt(F)<<24|L.charCodeAt(F+1)<<16|L.charCodeAt(F+2)<<8|255&L.charCodeAt(F+3)}function j(L,F,D,G){return L.substring(0,F)+G+L.substring(F+D)}let O,V;const m=this._document.createElement("canvas");m.width=1,m.height=1;const b=m.getContext("2d");let M=0;const P=`lt${Date.now()}${this.loadTestFontId++}`;let x=this._loadTestFont;x=j(x,976,P.length,P);const f=1482184792;let w=H(x,16);for(O=0,V=P.length-3;O<V;O+=4)w=w-f+H(P,O)|0;O<P.length&&(w=w-f+H(P+"XXX",O)|0),x=j(x,16,4,(0,r.string32)(w));const u=`url(data:font/opentype;base64,${btoa(x)});`;this.insertRule(`@font-face {font-family:"${P}";src:${u}}`);const g=[];for(const L of e)g.push(L.loadedName);g.push(P);const d=this._document.createElement("div");d.style.visibility="hidden",d.style.width=d.style.height="10px",d.style.position="absolute",d.style.top=d.style.left="0px";for(const L of g){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=L,d.appendChild(F)}this._document.body.appendChild(d),function k(L,F){if(M++,M>30)return(0,r.warn)("Load test font never loaded."),void F();b.font="30px "+L,b.fillText(".",0,20),b.getImageData(0,0,1,1).data[3]>0?F():setTimeout(k.bind(null,L,F))}(P,()=>{d.remove(),U.complete()})}},o.FontFaceObject=class K{constructor(R,{isEvalSupported:e=!0,disableFontFace:U=!1,ignoreErrors:H=!1,onUnsupportedFeature:j,fontRegistry:O=null}){this.compiledGlyphs=Object.create(null);for(const V in R)this[V]=R[V];this.isEvalSupported=!1!==e,this.disableFontFace=!0===U,this.ignoreErrors=!0===H,this._onUnsupportedFeature=j,this.fontRegistry=O}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let R;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),R=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else R=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),R}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const R=(0,r.bytesToString)(this.data),e=`url(data:${this.mimetype};base64,${btoa(R)});`;let U;if(this.cssFontInfo){let H=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(H+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),U=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${H}src:${e}}`}else U=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,e),U}getPathGenerator(R,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let U;try{U=R.get(this.loadedName+"_path_"+e)}catch(H){if(!this.ignoreErrors)throw H;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${H}".`),this.compiledGlyphs[e]=function(j,O){}}if(this.isEvalSupported&&r.IsEvalSupportedCached.value){const H=[];for(const j of U){const O=void 0!==j.args?j.args.join(","):"";H.push("c.",j.cmd,"(",O,");\n")}return this.compiledGlyphs[e]=new Function("c","size",H.join(""))}return this.compiledGlyphs[e]=function(H,j){for(const O of U)"scale"===O.cmd&&(O.args=[j,-j]),H[O.cmd].apply(H,O.args)}}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var r=E(6),I=E(3),N=E(1);let K=class{constructor(){(0,N.unreachable)("Not implemented: NodeCanvasFactory")}};o.NodeCanvasFactory=K;let B=class{constructor(){(0,N.unreachable)("Not implemented: NodeCMapReaderFactory")}};o.NodeCMapReaderFactory=B;let R=class{constructor(){(0,N.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(o.NodeStandardFontDataFactory=R,I.isNodeJS){const e=function(U){return new Promise((H,j)=>{__webpack_require__(172).readFile(U,(V,m)=>{!V&&m?H(new Uint8Array(m)):j(new Error(V))})})};o.NodeCanvasFactory=K=class extends r.BaseCanvasFactory{_createCanvas(U,H){return __webpack_require__(3414).createCanvas(U,H)}},o.NodeCMapReaderFactory=B=class extends r.BaseCMapReaderFactory{_fetchData(U,H){return e(U).then(j=>({cMapData:j,compressionType:H}))}},o.NodeStandardFontDataFactory=R=class extends r.BaseStandardFontDataFactory{_fetchData(U){return e(U)}}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationStorage=void 0;var r=E(1);o.AnnotationStorage=class I{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(K,B){const R=this._storage.get(K);return void 0===R?B:Object.assign(B,R)}setValue(K,B){const R=this._storage.get(K);let e=!1;if(void 0!==R)for(const[U,H]of Object.entries(B))R[U]!==H&&(e=!0,R[U]=H);else e=!0,this._storage.set(K,B);e&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var r=E(1),I=E(11),N=E(5);const R=4096,O=16;function b(C){if(C._transformStack&&(C._transformStack=[]),!C.mozCurrentTransform){C._originalSave=C.save,C._originalRestore=C.restore,C._originalRotate=C.rotate,C._originalScale=C.scale,C._originalTranslate=C.translate,C._originalTransform=C.transform,C._originalSetTransform=C.setTransform,C._originalResetTransform=C.resetTransform,C._transformMatrix=C._transformMatrix||[1,0,0,1,0,0],C._transformStack=[];try{const l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(C),"lineWidth");C._setLineWidth=l.set,C._getLineWidth=l.get,Object.defineProperty(C,"lineWidth",{set:function(_){this._setLineWidth(1.000001*_)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(C,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(C,"mozCurrentTransformInverse",{get:function(){const[s,_,c,t,a,p]=this._transformMatrix,T=s*t-_*c,v=_*c-s*t;return[t/T,_/v,c/v,s/T,(t*a-c*p)/v,(_*a-s*p)/T]}}),C.save=function(){const s=this._transformMatrix;this._transformStack.push(s),this._transformMatrix=s.slice(0,6),this._originalSave()},C.restore=function(){0===this._transformStack.length&&(0,r.warn)("Tried to restore a ctx when the stack was already empty.");const s=this._transformStack.pop();s&&(this._transformMatrix=s,this._originalRestore())},C.translate=function(s,_){const c=this._transformMatrix;c[4]=c[0]*s+c[2]*_+c[4],c[5]=c[1]*s+c[3]*_+c[5],this._originalTranslate(s,_)},C.scale=function(s,_){const c=this._transformMatrix;c[0]*=s,c[1]*=s,c[2]*=_,c[3]*=_,this._originalScale(s,_)},C.transform=function(s,_,c,t,a,p){const T=this._transformMatrix;this._transformMatrix=[T[0]*s+T[2]*_,T[1]*s+T[3]*_,T[0]*c+T[2]*t,T[1]*c+T[3]*t,T[0]*a+T[2]*p+T[4],T[1]*a+T[3]*p+T[5]],C._originalTransform(s,_,c,t,a,p)},C.setTransform=function(s,_,c,t,a,p){this._transformMatrix=[s,_,c,t,a,p],C._originalSetTransform(s,_,c,t,a,p)},C.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],C._originalResetTransform()},C.rotate=function(s){const _=Math.cos(s),c=Math.sin(s),t=this._transformMatrix;this._transformMatrix=[t[0]*_+t[2]*c,t[1]*_+t[3]*c,t[0]*-c+t[2]*_,t[1]*-c+t[3]*_,t[4],t[5]],this._originalRotate(s)}}}class M{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,s,_,c){let t;return void 0!==this.cache[l]?(t=this.cache[l],this.canvasFactory.reset(t,s,_),t.context.setTransform(1,0,0,1,0,0)):(t=this.canvasFactory.create(s,_),this.cache[l]=t),c&&b(t.context),t}clear(){for(const l in this.cache)this.canvasFactory.destroy(this.cache[l]),delete this.cache[l]}}class P{constructor(l,s){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,l,s])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,s){this.x=l,this.y=s}updatePathMinMax(l,s,_){[s,_]=r.Util.applyTransform([s,_],l),this.minX=Math.min(this.minX,s),this.minY=Math.min(this.minY,_),this.maxX=Math.max(this.maxX,s),this.maxY=Math.max(this.maxY,_)}updateCurvePathMinMax(l,s,_,c,t,a,p,T,v){const h=r.Util.bezierBoundingBox(s,_,c,t,a,p,T,v);this.updatePathMinMax(l,h[0],h[1]),this.updatePathMinMax(l,h[2],h[3])}getPathBoundingBox(l=I.PathType.FILL,s=null){const _=[this.minX,this.minY,this.maxX,this.maxY];if(l===I.PathType.STROKE){s||(0,r.unreachable)("Stroke bounding box must include transform.");const c=r.Util.singularValueDecompose2dScale(s),t=c[0]*this.lineWidth/2,a=c[1]*this.lineWidth/2;_[0]-=t,_[1]-=a,_[2]+=t,_[3]+=a}return _}updateClipFromPath(){const l=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=I.PathType.FILL,s=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(l,s))}}function x(C,l,s=null){if(typeof ImageData<"u"&&l instanceof ImageData)return void C.putImageData(l,0,0);const _=l.height,c=l.width,t=_%O,a=(_-t)/O,p=0===t?a:a+1,T=C.createImageData(c,O);let h,v=0;const W=l.data,$=T.data;let X,J,oe,ue,ge,Ae,de,we;if(s)switch(s.length){case 1:ge=s[0],Ae=s[0],de=s[0],we=s[0];break;case 4:ge=s[0],Ae=s[1],de=s[2],we=s[3]}if(l.kind===r.ImageKind.GRAYSCALE_1BPP){const Te=W.byteLength,ve=new Uint32Array($.buffer,0,$.byteLength>>2),me=ve.length,Oe=c+7>>3;let ie=4294967295,y=r.IsLittleEndianCached.value?4278190080:255;for(we&&255===we[0]&&0===we[255]&&([ie,y]=[y,ie]),X=0;X<p;X++){for(oe=X<a?O:t,h=0,J=0;J<oe;J++){const q=Te-v;let ne=0;const ce=q>Oe?c:8*q-7,le=-8&ce;let fe=0,he=0;for(;ne<le;ne+=8)he=W[v++],ve[h++]=128&he?ie:y,ve[h++]=64&he?ie:y,ve[h++]=32&he?ie:y,ve[h++]=16&he?ie:y,ve[h++]=8&he?ie:y,ve[h++]=4&he?ie:y,ve[h++]=2&he?ie:y,ve[h++]=1&he?ie:y;for(;ne<ce;ne++)0===fe&&(he=W[v++],fe=128),ve[h++]=he&fe?ie:y,fe>>=1}for(;h<me;)ve[h++]=0;C.putImageData(T,0,X*O)}}else if(l.kind===r.ImageKind.RGBA_32BPP){const Te=!!(ge||Ae||de);for(J=0,ue=c*O*4,X=0;X<a;X++){if($.set(W.subarray(v,v+ue)),v+=ue,Te)for(let ve=0;ve<ue;ve+=4)ge&&($[ve+0]=ge[$[ve+0]]),Ae&&($[ve+1]=Ae[$[ve+1]]),de&&($[ve+2]=de[$[ve+2]]);C.putImageData(T,0,J),J+=O}if(X<p){if(ue=c*t*4,$.set(W.subarray(v,v+ue)),Te)for(let ve=0;ve<ue;ve+=4)ge&&($[ve+0]=ge[$[ve+0]]),Ae&&($[ve+1]=Ae[$[ve+1]]),de&&($[ve+2]=de[$[ve+2]]);C.putImageData(T,0,J)}}else{if(l.kind!==r.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${l.kind}`);{const Te=!!(ge||Ae||de);for(oe=O,ue=c*oe,X=0;X<p;X++){for(X>=a&&(oe=t,ue=c*oe),h=0,J=ue;J--;)$[h++]=W[v++],$[h++]=W[v++],$[h++]=W[v++],$[h++]=255;if(Te)for(let ve=0;ve<h;ve+=4)ge&&($[ve+0]=ge[$[ve+0]]),Ae&&($[ve+1]=Ae[$[ve+1]]),de&&($[ve+2]=de[$[ve+2]]);C.putImageData(T,0,X*O)}}}}function i(C,l){const s=l.height,_=l.width,c=s%O,t=(s-c)/O,a=0===c?t:t+1,p=C.createImageData(_,O);let T=0;const v=l.data,h=p.data;for(let W=0;W<a;W++){const $=W<t?O:c;let X=3;for(let J=0;J<$;J++){let oe,ue=0;for(let ge=0;ge<_;ge++)ue||(oe=v[T++],ue=128),h[X]=oe&ue?0:255,X+=4,ue>>=1}C.putImageData(p,0,W*O)}}function n(C,l){const s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let _=0,c=s.length;_<c;_++){const t=s[_];void 0!==C[t]&&(l[t]=C[t])}void 0!==C.setLineDash&&(l.setLineDash(C.getLineDash()),l.lineDashOffset=C.lineDashOffset)}function f(C){C.strokeStyle="#000000",C.fillStyle="#000000",C.fillRule="nonzero",C.globalAlpha=1,C.lineWidth=1,C.lineCap="butt",C.lineJoin="miter",C.miterLimit=10,C.globalCompositeOperation="source-over",C.font="10px sans-serif",void 0!==C.setLineDash&&(C.setLineDash([]),C.lineDashOffset=0)}function w(C,l,s,_){const c=C.length;for(let t=3;t<c;t+=4){const a=C[t];if(0===a)C[t-3]=l,C[t-2]=s,C[t-1]=_;else if(a<255){const p=255-a;C[t-3]=C[t-3]*a+l*p>>8,C[t-2]=C[t-2]*a+s*p>>8,C[t-1]=C[t-1]*a+_*p>>8}}}function u(C,l,s){const _=C.length;for(let t=3;t<_;t+=4)l[t]=l[t]*(s?s[C[t]]:C[t])*.00392156862745098|0}function S(C,l,s){const _=C.length;for(let c=3;c<_;c+=4){const t=77*C[c-3]+152*C[c-2]+28*C[c-1];l[c]=s?l[c]*s[t>>8]>>8:l[c]*t>>16}}function L(C,l){const s=r.Util.singularValueDecompose2dScale(C);s[0]=Math.fround(s[0]),s[1]=Math.fround(s[1]);const _=Math.fround((globalThis.devicePixelRatio||1)*N.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==l?l:s[0]<=_||s[1]<=_}const F=["butt","round","square"],D=["miter","round","bevel"],G={},z={};class ee{constructor(l,s,_,c,t,a,p){this.ctx=l,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=s,this.objs=_,this.canvasFactory=c,this.imageLayer=t,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=a,this.cachedCanvases=new M(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=p,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,l&&b(l),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:l,viewport:s,transparency:_=!1,background:c=null}){const t=this.ctx.canvas.width,a=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=c||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,t,a),this.ctx.restore(),_){const p=this.cachedCanvases.getCanvas("transparent",t,a,!0);this.compositeCtx=this.ctx,this.transparentCanvas=p.canvas,this.ctx=p.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),f(this.ctx),l&&(this.ctx.transform.apply(this.ctx,l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform.apply(this.ctx,s.transform),this.viewportScale=s.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(l,s,_,c){const t=l.argsArray,a=l.fnArray;let p=s||0;const T=t.length;if(T===p)return p;const v=T-p>10&&"function"==typeof _,h=v?Date.now()+15:0;let W=0;const $=this.commonObjs,X=this.objs;let J;for(;;){if(void 0!==c&&p===c.nextBreakPoint)return c.breakIt(p,_),p;if(J=a[p],J!==r.OPS.dependency)this[J].apply(this,t[p]);else for(const oe of t[p]){const ue=oe.startsWith("g_")?$:X;if(!ue.has(oe))return ue.get(oe,_),p}if(p++,p===T)return p;if(v&&++W>10){if(Date.now()>h)return _(),p;W=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(l,s){const _=l.width,c=l.height;let h,W,t=Math.max(Math.hypot(s[0],s[1]),1),a=Math.max(Math.hypot(s[2],s[3]),1),p=_,T=c,v="prescale1";for(;t>2&&p>1||a>2&&T>1;){let $=p,X=T;t>2&&p>1&&($=Math.ceil(p/2),t/=p/$),a>2&&T>1&&(X=Math.ceil(T/2),a/=T/X),h=this.cachedCanvases.getCanvas(v,$,X),W=h.context,W.clearRect(0,0,$,X),W.drawImage(l,0,0,p,T,0,0,$,X),l=h.canvas,p=$,T=X,v="prescale1"===v?"prescale2":"prescale1"}return{img:l,paintWidth:p,paintHeight:T}}_createMaskCanvas(l){const s=this.ctx,_=l.width,c=l.height,t=this.current.fillColor,a=this.current.patternFill,p=this.cachedCanvases.getCanvas("maskCanvas",_,c);i(p.context,l);let h=r.Util.transform(s.mozCurrentTransform,[1/_,0,0,-1/c,0,0]);h=r.Util.transform(h,[1,0,0,1,0,-c]);const W=r.Util.applyTransform([0,0],h),$=r.Util.applyTransform([_,c],h),X=r.Util.normalizeRect([W[0],W[1],$[0],$[1]]),J=Math.ceil(X[2]-X[0]),oe=Math.ceil(X[3]-X[1]),ue=this.cachedCanvases.getCanvas("fillCanvas",J,oe,!0),ge=ue.context,Ae=Math.min(W[0],$[0]),de=Math.min(W[1],$[1]);ge.translate(-Ae,-de),ge.transform.apply(ge,h);const we=this._scaleImage(p.canvas,ge.mozCurrentTransformInverse);ge.imageSmoothingEnabled=L(ge.mozCurrentTransform,l.interpolate),ge.drawImage(we.img,0,0,we.img.width,we.img.height,0,0,_,c),ge.globalCompositeOperation="source-in";const Te=r.Util.transform(ge.mozCurrentTransformInverse,[1,0,0,1,-Ae,-de]);return ge.fillStyle=a?t.getPattern(s,this,Te,I.PathType.FILL):t,ge.fillRect(0,0,_,c),{canvas:ue.canvas,offsetX:Math.round(Ae),offsetY:Math.round(de)}}setLineWidth(l){this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=F[l]}setLineJoin(l){this.ctx.lineJoin=D[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,s){const _=this.ctx;void 0!==_.setLineDash&&(_.setLineDash(l),_.lineDashOffset=s)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(let s=0,_=l.length;s<_;s++){const c=l[s],a=c[1];switch(c[0]){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=c[1];break;case"ca":this.current.fillAlpha=c[1],this.ctx.globalAlpha=c[1];break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=a}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=c.context;const t=this.ctx;t.setTransform.apply(t,this.suspendedCtx.mozCurrentTransform),n(this.suspendedCtx,t),function m(C,l){if(C._removeMirroring)throw new Error("Context is already forwarding operations.");C.__originalSave=C.save,C.__originalRestore=C.restore,C.__originalRotate=C.rotate,C.__originalScale=C.scale,C.__originalTranslate=C.translate,C.__originalTransform=C.transform,C.__originalSetTransform=C.setTransform,C.__originalResetTransform=C.resetTransform,C.__originalClip=C.clip,C.__originalMoveTo=C.moveTo,C.__originalLineTo=C.lineTo,C.__originalBezierCurveTo=C.bezierCurveTo,C.__originalRect=C.rect,C.__originalClosePath=C.closePath,C.__originalBeginPath=C.beginPath,C._removeMirroring=()=>{C.save=C.__originalSave,C.restore=C.__originalRestore,C.rotate=C.__originalRotate,C.scale=C.__originalScale,C.translate=C.__originalTranslate,C.transform=C.__originalTransform,C.setTransform=C.__originalSetTransform,C.resetTransform=C.__originalResetTransform,C.clip=C.__originalClip,C.moveTo=C.__originalMoveTo,C.lineTo=C.__originalLineTo,C.bezierCurveTo=C.__originalBezierCurveTo,C.rect=C.__originalRect,C.closePath=C.__originalClosePath,C.beginPath=C.__originalBeginPath,delete C._removeMirroring},C.save=function(){l.save(),this.__originalSave()},C.restore=function(){l.restore(),this.__originalRestore()},C.translate=function(_,c){l.translate(_,c),this.__originalTranslate(_,c)},C.scale=function(_,c){l.scale(_,c),this.__originalScale(_,c)},C.transform=function(_,c,t,a,p,T){l.transform(_,c,t,a,p,T),this.__originalTransform(_,c,t,a,p,T)},C.setTransform=function(_,c,t,a,p,T){l.setTransform(_,c,t,a,p,T),this.__originalSetTransform(_,c,t,a,p,T)},C.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},C.rotate=function(_){l.rotate(_),this.__originalRotate(_)},C.clip=function(_){l.clip(_),this.__originalClip(_)},C.moveTo=function(s,_){l.moveTo(s,_),this.__originalMoveTo(s,_)},C.lineTo=function(s,_){l.lineTo(s,_),this.__originalLineTo(s,_)},C.bezierCurveTo=function(s,_,c,t,a,p){l.bezierCurveTo(s,_,c,t,a,p),this.__originalBezierCurveTo(s,_,c,t,a,p)},C.rect=function(s,_,c,t){l.rect(s,_,c,t),this.__originalRect(s,_,c,t)},C.closePath=function(){l.closePath(),this.__originalClosePath()},C.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}(t,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),n(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){this.current.activeSMask&&(l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function d(C,l,s,_){const c=_[0],t=_[1],a=_[2]-c,p=_[3]-t;0===a||0===p||(function g(C,l,s,_,c,t,a,p,T,v,h){const W=!!t,$=W?t[0]:0,X=W?t[1]:0,J=W?t[2]:0;let oe;oe="Luminosity"===c?S:u;const ge=Math.min(_,Math.ceil(1048576/s));for(let Ae=0;Ae<_;Ae+=ge){const de=Math.min(ge,_-Ae),we=C.getImageData(p-v,Ae+(T-h),s,de),Te=l.getImageData(p,Ae+T,s,de);W&&w(we.data,$,X,J),oe(we.data,Te.data,a),l.putImageData(Te,p,Ae+T)}}(l.context,s,a,p,l.subtype,l.backdrop,l.transferMap,c,t,l.offsetX,l.offsetY),C.save(),C.globalAlpha=1,C.globalCompositeOperation="source-over",C.setTransform(1,0,0,1,0,0),C.drawImage(s.canvas,0,0),C.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(n(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),n(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(l,s,_,c,t,a){this.ctx.transform(l,s,_,c,t,a),this._cachedGetSinglePixelWidth=null}constructPath(l,s){const _=this.ctx,c=this.current;let p,T,t=c.x,a=c.y;for(let v=0,h=0,W=l.length;v<W;v++)switch(0|l[v]){case r.OPS.rectangle:t=s[h++],a=s[h++];const $=s[h++],X=s[h++],J=t+$,oe=a+X;_.moveTo(t,a),0===$||0===X?_.lineTo(J,oe):(_.lineTo(J,a),_.lineTo(J,oe),_.lineTo(t,oe)),c.updatePathMinMax(_.mozCurrentTransform,t,a),c.updatePathMinMax(_.mozCurrentTransform,J,oe),_.closePath();break;case r.OPS.moveTo:t=s[h++],a=s[h++],_.moveTo(t,a),c.updatePathMinMax(_.mozCurrentTransform,t,a);break;case r.OPS.lineTo:t=s[h++],a=s[h++],_.lineTo(t,a),c.updatePathMinMax(_.mozCurrentTransform,t,a);break;case r.OPS.curveTo:p=t,T=a,t=s[h+4],a=s[h+5],_.bezierCurveTo(s[h],s[h+1],s[h+2],s[h+3],t,a),c.updateCurvePathMinMax(_.mozCurrentTransform,p,T,s[h],s[h+1],s[h+2],s[h+3],t,a),h+=6;break;case r.OPS.curveTo2:p=t,T=a,_.bezierCurveTo(t,a,s[h],s[h+1],s[h+2],s[h+3]),c.updateCurvePathMinMax(_.mozCurrentTransform,p,T,t,a,s[h],s[h+1],s[h+2],s[h+3]),t=s[h+2],a=s[h+3],h+=4;break;case r.OPS.curveTo3:p=t,T=a,t=s[h+2],a=s[h+3],_.bezierCurveTo(s[h],s[h+1],t,a,t,a),c.updateCurvePathMinMax(_.mozCurrentTransform,p,T,s[h],s[h+1],t,a,t,a),h+=4;break;case r.OPS.closePath:_.closePath()}c.setCurrentPoint(t,a)}closePath(){this.ctx.closePath()}stroke(l){l=!(typeof l<"u")||l;const s=this.ctx,_=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof _&&_?.getPattern){const c=this.getSinglePixelWidth();s.save(),s.strokeStyle=_.getPattern(s,this,s.mozCurrentTransformInverse,I.PathType.STROKE),s.lineWidth=Math.max(c,this.current.lineWidth),s.stroke(),s.restore()}else{const c=this.getSinglePixelWidth();c<0&&-c>=this.current.lineWidth?(s.save(),s.resetTransform(),s.lineWidth=Math.floor(this._combinedScaleFactor),s.stroke(),s.restore()):(s.lineWidth=Math.max(c,this.current.lineWidth),s.stroke())}l&&this.consumePath(this.current.getClippedPathBoundingBox()),s.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l){l=!(typeof l<"u")||l;const s=this.ctx,_=this.current.fillColor;let t=!1;this.current.patternFill&&(s.save(),s.fillStyle=_.getPattern(s,this,s.mozCurrentTransformInverse,I.PathType.FILL),t=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(s.fill("evenodd"),this.pendingEOFill=!1):s.fill()),t&&s.restore(),l&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=G}eoClip(){this.pendingClip=z}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,s=this.ctx;if(void 0!==l){s.save(),s.beginPath();for(let _=0;_<l.length;_++){const c=l[_];s.setTransform.apply(s,c.transform),s.translate(c.x,c.y),c.addToPath(s,c.fontSize)}s.restore(),s.clip(),s.beginPath(),delete this.pendingTextPaths}else s.beginPath()}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,s){const _=this.commonObjs.get(l),c=this.current;if(!_)throw new Error(`Can't find font for ${l}`);if(c.fontMatrix=_.fontMatrix||r.FONT_IDENTITY_MATRIX,(0===c.fontMatrix[0]||0===c.fontMatrix[3])&&(0,r.warn)("Invalid font matrix for font "+l),s<0?(s=-s,c.fontDirection=-1):c.fontDirection=1,this.current.font=_,this.current.fontSize=s,_.isType3Font)return;let a="normal";_.black?a="900":_.bold&&(a="bold");const p=_.italic?"italic":"normal",T=`"${_.loadedName||"sans-serif"}", ${_.fallbackName}`;let v=s;s<16?v=16:s>100&&(v=100),this.current.fontSizeScale=s/v,this.ctx.font=`${p} ${a} ${v}px ${T}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,s){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=s}setLeadingMoveText(l,s){this.setLeading(-s),this.moveText(l,s)}setTextMatrix(l,s,_,c,t,a){this.current.textMatrix=[l,s,_,c,t,a],this.current.textMatrixScale=Math.hypot(l,s),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,s,_,c,t){const a=this.ctx,p=this.current,T=p.font,v=p.textRenderingMode,h=p.fontSize/p.fontSizeScale,W=v&r.TextRenderingMode.FILL_STROKE_MASK,$=!!(v&r.TextRenderingMode.ADD_TO_PATH_FLAG),X=p.patternFill&&!T.missingFile;let J;(T.disableFontFace||$||X)&&(J=T.getPathGenerator(this.commonObjs,l)),T.disableFontFace||X?(a.save(),a.translate(s,_),a.beginPath(),J(a,h),c&&a.setTransform.apply(a,c),(W===r.TextRenderingMode.FILL||W===r.TextRenderingMode.FILL_STROKE)&&a.fill(),(W===r.TextRenderingMode.STROKE||W===r.TextRenderingMode.FILL_STROKE)&&(t&&(a.resetTransform(),a.lineWidth=Math.floor(this._combinedScaleFactor)),a.stroke()),a.restore()):((W===r.TextRenderingMode.FILL||W===r.TextRenderingMode.FILL_STROKE)&&a.fillText(l,s,_),(W===r.TextRenderingMode.STROKE||W===r.TextRenderingMode.FILL_STROKE)&&(t?(a.save(),a.moveTo(s,_),a.resetTransform(),a.lineWidth=Math.floor(this._combinedScaleFactor),a.strokeText(l,0,0),a.restore()):a.strokeText(l,s,_))),$&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:a.mozCurrentTransform,x:s,y:_,fontSize:h,addToPath:J})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);const s=l.getImageData(0,0,10,10).data;let _=!1;for(let c=3;c<s.length;c+=4)if(s[c]>0&&s[c]<255){_=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",_)}showText(l){const s=this.current,_=s.font;if(_.isType3Font)return this.showType3Text(l);const c=s.fontSize;if(0===c)return;const t=this.ctx,a=s.fontSizeScale,p=s.charSpacing,T=s.wordSpacing,v=s.fontDirection,h=s.textHScale*v,W=l.length,$=_.vertical,X=$?1:-1,J=_.defaultVMetrics,oe=c*s.fontMatrix[0],ue=s.textRenderingMode===r.TextRenderingMode.FILL&&!_.disableFontFace&&!s.patternFill;let ge;if(t.save(),t.transform.apply(t,s.textMatrix),t.translate(s.x,s.y+s.textRise),t.scale(h,v>0?-1:1),s.patternFill){t.save();const me=s.fillColor.getPattern(t,this,t.mozCurrentTransformInverse,I.PathType.FILL);ge=t.mozCurrentTransform,t.restore(),t.fillStyle=me}let Ae=s.lineWidth,de=!1;const we=s.textMatrixScale;if(0===we||0===Ae){const me=s.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(me===r.TextRenderingMode.STROKE||me===r.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,Ae=this.getSinglePixelWidth(),de=Ae<0)}else Ae/=we;1!==a&&(t.scale(a,a),Ae/=a),t.lineWidth=Ae;let ve,Te=0;for(ve=0;ve<W;++ve){const me=l[ve];if("number"==typeof me){Te+=X*me*c/1e3;continue}let Oe=!1;const ie=(me.isSpace?T:0)+p,y=me.fontChar,q=me.accent;let ne,ce,fe,le=me.width;if($){const he=me.vmetric||J,be=-(me.vmetric?he[1]:.5*le)*oe;le=he?-he[0]:le,ne=be/a,ce=(Te+he[2]*oe)/a}else ne=Te/a,ce=0;if(_.remeasure&&le>0){const he=1e3*t.measureText(y).width/c*a;if(le<he&&this.isFontSubpixelAAEnabled){const be=le/he;Oe=!0,t.save(),t.scale(be,1),ne/=be}else le!==he&&(ne+=(le-he)/2e3*c/a)}this.contentVisible&&(me.isInFont||_.missingFile)&&(ue&&!q?t.fillText(y,ne,ce):(this.paintChar(y,ne,ce,ge,de),q&&this.paintChar(q.fontChar,ne+c*q.offset.x/a,ce-c*q.offset.y/a,ge,de))),fe=$?le*oe-ie*v:le*oe+ie*v,Te+=fe,Oe&&t.restore()}$?s.y-=Te:s.x+=Te*h,t.restore(),this.compose()}showType3Text(l){const s=this.ctx,_=this.current,c=_.font,t=_.fontSize,a=_.fontDirection,p=c.vertical?1:-1,T=_.charSpacing,v=_.wordSpacing,h=_.textHScale*a,W=_.fontMatrix||r.FONT_IDENTITY_MATRIX,$=l.length;let J,oe,ue,ge;if(_.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==t){for(this._cachedGetSinglePixelWidth=null,s.save(),s.transform.apply(s,_.textMatrix),s.translate(_.x,_.y),s.scale(h,a),J=0;J<$;++J){if(oe=l[J],"number"==typeof oe){ge=p*oe*t/1e3,this.ctx.translate(ge,0),_.x+=ge*h;continue}const Ae=(oe.isSpace?v:0)+T,de=c.charProcOperatorList[oe.operatorListId];de?(this.contentVisible&&(this.processingType3=oe,this.save(),s.scale(t,t),s.transform.apply(s,W),this.executeOperatorList(de),this.restore()),ue=r.Util.applyTransform([oe.width,0],W)[0]*t+Ae,s.translate(ue,0),_.x+=ue*h):(0,r.warn)(`Type3 character "${oe.operatorListId}" is not available.`)}s.restore(),this.processingType3=null}}setCharWidth(l,s){}setCharWidthAndBounds(l,s,_,c,t,a){this.ctx.rect(_,c,t-_,a-c),this.clip(),this.endPath()}getColorN_Pattern(l){let s;if("TilingPattern"===l[0]){const _=l[1],c=this.baseTransform||this.ctx.mozCurrentTransform.slice();s=new I.TilingPattern(l,_,this.ctx,{createCanvasGraphics:a=>new ee(a,this.commonObjs,this.objs,this.canvasFactory)},c)}else s=this._getPattern(l[1],l[2]);return s}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,s,_){const c=r.Util.makeHexColor(l,s,_);this.ctx.strokeStyle=c,this.current.strokeColor=c}setFillRGBColor(l,s,_){const c=r.Util.makeHexColor(l,s,_);this.ctx.fillStyle=c,this.current.fillColor=c,this.current.patternFill=!1}_getPattern(l,s=null){let _;return this.cachedPatterns.has(l)?_=this.cachedPatterns.get(l):(_=(0,I.getShadingPattern)(this.objs.get(l)),this.cachedPatterns.set(l,_)),s&&(_.matrix=s),_}shadingFill(l){if(!this.contentVisible)return;const s=this.ctx;this.save();const _=this._getPattern(l);s.fillStyle=_.getPattern(s,this,s.mozCurrentTransformInverse,I.PathType.SHADING);const c=s.mozCurrentTransformInverse;if(c){const t=s.canvas,a=t.width,p=t.height,T=r.Util.applyTransform([0,0],c),v=r.Util.applyTransform([0,p],c),h=r.Util.applyTransform([a,0],c),W=r.Util.applyTransform([a,p],c),$=Math.min(T[0],v[0],h[0],W[0]),X=Math.min(T[1],v[1],h[1],W[1]),J=Math.max(T[0],v[0],h[0],W[0]),oe=Math.max(T[1],v[1],h[1],W[1]);this.ctx.fillRect($,X,J-$,oe-X)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,s){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&6===l.length&&this.transform.apply(this,l),this.baseTransform=this.ctx.mozCurrentTransform,s)&&(this.ctx.rect(s[0],s[1],s[2]-s[0],s[3]-s[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,s[0],s[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,s[2],s[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;l.isolated||(0,r.info)("TODO: Support non-isolated groups."),l.knockout&&(0,r.warn)("Knockout groups not supported.");const _=s.mozCurrentTransform;if(l.matrix&&s.transform.apply(s,l.matrix),!l.bbox)throw new Error("Bounding box is required.");let c=r.Util.getAxialAlignedBoundingBox(l.bbox,s.mozCurrentTransform);c=r.Util.intersect(c,[0,0,s.canvas.width,s.canvas.height])||[0,0,0,0];const a=Math.floor(c[0]),p=Math.floor(c[1]);let T=Math.max(Math.ceil(c[2])-a,1),v=Math.max(Math.ceil(c[3])-p,1),h=1,W=1;T>R&&(h=T/R,T=R),v>R&&(W=v/R,v=R),this.current.startNewPathAndClipBox([0,0,T,v]);let $="groupAt"+this.groupLevel;l.smask&&($+="_smask_"+this.smaskCounter++%2);const X=this.cachedCanvases.getCanvas($,T,v,!0),J=X.context;J.scale(1/h,1/W),J.translate(-a,-p),J.transform.apply(J,_),l.smask?this.smaskStack.push({canvas:X.canvas,context:J,offsetX:a,offsetY:p,scaleX:h,scaleY:W,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(s.setTransform(1,0,0,1,0,0),s.translate(a,p),s.scale(h,W),s.save()),n(s,J),this.ctx=J,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,_=this.groupStack.pop();if(this.ctx=_,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const c=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,c);const t=r.Util.getAxialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],c);this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(t)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(l,s,_,c,t){if(this.save(),Array.isArray(s)&&4===s.length){const a=s[2]-s[0],p=s[3]-s[1];if(t&&this.annotationCanvasMap){(_=_.slice())[4]-=s[0],_[5]-=s[1],(s=s.slice())[0]=s[1]=0,s[2]=a,s[3]=p;const[T,v]=r.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:h}=this,W=Math.ceil(a*this.outputScaleX*h),$=Math.ceil(p*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(W,$);const{canvas:X,context:J}=this.annotationCanvas;X.style.width=`calc(${a}px * var(--viewport-scale-factor))`,X.style.height=`calc(${p}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(l,X),this.annotationCanvas.savedCtx=this.ctx,this.ctx=J,this.ctx.setTransform(T,0,0,-v,0,p*v),b(this.ctx),f(this.ctx)}else f(this.ctx),this.ctx.rect(s[0],s[1],a,p),this.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,_),this.transform.apply(this,c)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(l){if(!this.contentVisible)return;const s=this.ctx,_=l.width,c=l.height,t=this.processingType3;if(t&&void 0===t.compiled&&(t.compiled=_<=1e3&&c<=1e3?function k(C){const s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),_=C.width,c=C.height,t=_+1;let a,p,T,v;const h=new Uint8Array(t*(c+1)),W=_+7&-8,$=C.data,X=new Uint8Array(W*c);let J=0;for(a=0,p=$.length;a<p;a++){const de=$[a];let we=128;for(;we>0;)X[J++]=de&we?0:255,we>>=1}let oe=0;for(J=0,0!==X[J]&&(h[0]=1,++oe),T=1;T<_;T++)X[J]!==X[J+1]&&(h[T]=X[J]?2:1,++oe),J++;for(0!==X[J]&&(h[T]=2,++oe),a=1;a<c;a++){J=a*W,v=a*t,X[J-W]!==X[J]&&(h[v]=X[J]?1:8,++oe);let de=(X[J]?4:0)+(X[J-W]?8:0);for(T=1;T<_;T++)de=(de>>2)+(X[J+1]?4:0)+(X[J-W+1]?8:0),s[de]&&(h[v+T]=s[de],++oe),J++;if(X[J-W]!==X[J]&&(h[v+T]=X[J]?2:4,++oe),oe>1e3)return null}for(J=W*(c-1),v=a*t,0!==X[J]&&(h[v]=8,++oe),T=1;T<_;T++)X[J]!==X[J+1]&&(h[v+T]=X[J]?4:8,++oe),J++;if(0!==X[J]&&(h[v+T]=4,++oe),oe>1e3)return null;const ue=new Int32Array([0,t,-1,0,-t,0,0,0,1]),ge=[];for(a=0;oe&&a<=c;a++){let de=a*t;const we=de+_;for(;de<we&&!h[de];)de++;if(de===we)continue;const Te=[de%t,a],ve=de;let me=h[de];do{const Oe=ue[me];do{de+=Oe}while(!h[de]);const ie=h[de];5!==ie&&10!==ie?(me=ie,h[de]=0):(me=ie&51*me>>4,h[de]&=me>>2|me<<2),Te.push(de%t,de/t|0),h[de]||--oe}while(ve!==de);ge.push(Te),--a}return function(de){de.save(),de.scale(1/_,-1/c),de.translate(0,-c),de.beginPath();for(let we=0,Te=ge.length;we<Te;we++){const ve=ge[we];de.moveTo(ve[0],ve[1]);for(let me=2,Oe=ve.length;me<Oe;me+=2)de.lineTo(ve[me],ve[me+1])}de.fill(),de.beginPath(),de.restore()}}({data:l.data,width:_,height:c}):null),t?.compiled)return void t.compiled(s);const a=this._createMaskCanvas(l),p=a.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(p,a.offsetX,a.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(l,s,_=0,c=0,t,a){if(!this.contentVisible)return;const p=this.ctx;p.save();const T=p.mozCurrentTransform;p.transform(s,_,c,t,0,0);const v=this._createMaskCanvas(l);p.setTransform(1,0,0,1,0,0);for(let h=0,W=a.length;h<W;h+=2){const $=r.Util.transform(T,[s,_,c,t,a[h],a[h+1]]),[X,J]=r.Util.applyTransform([0,0],$);p.drawImage(v.canvas,X,J)}p.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const s=this.ctx,_=this.current.fillColor,c=this.current.patternFill;for(let t=0,a=l.length;t<a;t++){const p=l[t],T=p.width,v=p.height,h=this.cachedCanvases.getCanvas("maskCanvas",T,v),W=h.context;W.save(),i(W,p),W.globalCompositeOperation="source-in",W.fillStyle=c?_.getPattern(W,this,s.mozCurrentTransformInverse,I.PathType.FILL):_,W.fillRect(0,0,T,v),W.restore(),s.save(),s.transform.apply(s,p.transform),s.scale(1,-1),s.drawImage(h.canvas,0,0,T,v,0,-1,1,1),s.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const s=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);s?this.paintInlineImageXObject(s):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(l,s,_,c){if(!this.contentVisible)return;const t=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);if(!t)return void(0,r.warn)("Dependent image isn't ready yet");const a=t.width,p=t.height,T=[];for(let v=0,h=c.length;v<h;v+=2)T.push({transform:[s,0,0,_,c[v],c[v+1]],x:0,y:0,w:a,h:p});this.paintInlineImageXObjectGroup(t,T)}paintInlineImageXObject(l){if(!this.contentVisible)return;const s=l.width,_=l.height,c=this.ctx;let t;if(this.save(),c.scale(1/s,-1/_),"function"==typeof HTMLElement&&l instanceof HTMLElement||!l.data)t=l;else{const p=this.cachedCanvases.getCanvas("inlineImage",s,_);x(p.context,l,this.current.transferMaps),t=p.canvas}const a=this._scaleImage(t,c.mozCurrentTransformInverse);if(c.imageSmoothingEnabled=L(c.mozCurrentTransform,l.interpolate),c.drawImage(a.img,0,0,a.paintWidth,a.paintHeight,0,-_,s,_),this.imageLayer){const p=this.getCanvasPosition(0,-_);this.imageLayer.appendImage({imgData:l,left:p[0],top:p[1],width:s/c.mozCurrentTransformInverse[0],height:_/c.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(l,s){if(!this.contentVisible)return;const _=this.ctx,c=l.width,t=l.height,a=this.cachedCanvases.getCanvas("inlineImage",c,t);x(a.context,l,this.current.transferMaps);for(let T=0,v=s.length;T<v;T++){const h=s[T];if(_.save(),_.transform.apply(_,h.transform),_.scale(1,-1),_.drawImage(a.canvas,h.x,h.y,h.w,h.h,0,-1,1,1),this.imageLayer){const W=this.getCanvasPosition(h.x,h.y);this.imageLayer.appendImage({imgData:l,left:W[0],top:W[1],width:c,height:t})}_.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,s){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,s){this.markedContentStack.push("OC"===l?{visible:this.optionalContentConfig.isVisible(s)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const s=this.ctx;this.pendingClip&&(this.pendingClip===z?s.clip("evenodd"):s.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const l=this.ctx.mozCurrentTransform,s=Math.abs(l[0]*l[3]-l[2]*l[1]),_=l[0]**2+l[2]**2,c=l[1]**2+l[3]**2,t=Math.sqrt(Math.max(_,c))/s;this._cachedGetSinglePixelWidth=_!==c&&this._combinedScaleFactor*t>1?-this._combinedScaleFactor*t:s>Number.EPSILON?t:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(l,s){const _=this.ctx.mozCurrentTransform;return[_[0]*l+_[2]*s+_[4],_[1]*l+_[3]*s+_[5]]}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}}o.CanvasGraphics=ee;for(const C in r.OPS)void 0!==ee.prototype[C]&&(ee.prototype[r.OPS[C]]=ee.prototype[C])},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=function j(m){switch(m[0]){case"RadialAxial":return new B(m);case"Mesh":return new U(m);case"Dummy":return new H}throw new Error(`Unknown IR type: ${m[0]}`)};var r=E(1);const I={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function N(m,b){if(!b||typeof Path2D>"u")return;const M=b[2]-b[0],k=b[3]-b[1],P=new Path2D;P.rect(b[0],b[1],M,k),m.clip(P)}o.PathType=I;class K{constructor(){this.constructor===K&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class B extends K{constructor(b){super(),this._type=b[1],this._bbox=b[2],this._colorStops=b[3],this._p0=b[4],this._p1=b[5],this._r0=b[6],this._r1=b[7],this.matrix=null}_createGradient(b){let M;"axial"===this._type?M=b.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(M=b.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const k of this._colorStops)M.addColorStop(k[0],k[1]);return M}getPattern(b,M,k,P){let x;if(P===I.STROKE||P===I.FILL){const i=M.current.getClippedPathBoundingBox(P,b.mozCurrentTransform)||[0,0,0,0],n=Math.ceil(i[2]-i[0])||1,f=Math.ceil(i[3]-i[1])||1,w=M.cachedCanvases.getCanvas("pattern",n,f,!0),u=w.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-i[0],-i[1]),k=r.Util.transform(k,[1,0,0,1,i[0],i[1]]),u.transform.apply(u,M.baseTransform),this.matrix&&u.transform.apply(u,this.matrix),N(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),x=b.createPattern(w.canvas,"no-repeat");const S=new DOMMatrix(k);try{x.setTransform(S)}catch(g){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${g?.message}".`)}}else N(b,this._bbox),x=this._createGradient(b);return x}}function R(m,b,M,k,P,x,i,n){const f=b.coords,w=b.colors,u=m.data,S=4*m.width;let g;f[M+1]>f[k+1]&&(g=M,M=k,k=g,g=x,x=i,i=g),f[k+1]>f[P+1]&&(g=k,k=P,P=g,g=i,i=n,n=g),f[M+1]>f[k+1]&&(g=M,M=k,k=g,g=x,x=i,i=g);const d=(f[M]+b.offsetX)*b.scaleX,L=(f[M+1]+b.offsetY)*b.scaleY,F=(f[k]+b.offsetX)*b.scaleX,D=(f[k+1]+b.offsetY)*b.scaleY,G=(f[P]+b.offsetX)*b.scaleX,z=(f[P+1]+b.offsetY)*b.scaleY;if(L>=z)return;const ee=w[x],C=w[x+1],l=w[x+2],s=w[i],_=w[i+1],c=w[i+2],t=w[n],a=w[n+1],p=w[n+2],T=Math.round(L),v=Math.round(z);let h,W,$,X,J,oe,ue,ge;for(let Ae=T;Ae<=v;Ae++){if(Ae<D){let me;me=Ae<L?0:(L-Ae)/(L-D),h=d-(d-F)*me,W=ee-(ee-s)*me,$=C-(C-_)*me,X=l-(l-c)*me}else{let me;me=Ae>z?1:D===z?0:(D-Ae)/(D-z),h=F-(F-G)*me,W=s-(s-t)*me,$=_-(_-a)*me,X=c-(c-p)*me}let de;de=Ae<L?0:Ae>z?1:(L-Ae)/(L-z),J=d-(d-G)*de,oe=ee-(ee-t)*de,ue=C-(C-a)*de,ge=l-(l-p)*de;const we=Math.round(Math.min(h,J)),Te=Math.round(Math.max(h,J));let ve=S*Ae+4*we;for(let me=we;me<=Te;me++)de=(h-me)/(h-J),de<0?de=0:de>1&&(de=1),u[ve++]=W-(W-oe)*de|0,u[ve++]=$-($-ue)*de|0,u[ve++]=X-(X-ge)*de|0,u[ve++]=255}}function e(m,b,M){const k=b.coords,P=b.colors;let x,i;switch(b.type){case"lattice":const n=b.verticesPerRow,f=Math.floor(k.length/n)-1,w=n-1;for(x=0;x<f;x++){let u=x*n;for(let S=0;S<w;S++,u++)R(m,M,k[u],k[u+1],k[u+n],P[u],P[u+1],P[u+n]),R(m,M,k[u+n+1],k[u+1],k[u+n],P[u+n+1],P[u+1],P[u+n])}break;case"triangles":for(x=0,i=k.length;x<i;x+=3)R(m,M,k[x],k[x+1],k[x+2],P[x],P[x+1],P[x+2]);break;default:throw new Error("illegal figure")}}class U extends K{constructor(b){super(),this._coords=b[2],this._colors=b[3],this._figures=b[4],this._bounds=b[5],this._bbox=b[7],this._background=b[8],this.matrix=null}_createMeshCanvas(b,M,k){const n=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),w=Math.ceil(this._bounds[2])-n,u=Math.ceil(this._bounds[3])-f,S=Math.min(Math.ceil(Math.abs(w*b[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(u*b[1]*1.1)),3e3),d=w/S,L=u/g,F={coords:this._coords,colors:this._colors,offsetX:-n,offsetY:-f,scaleX:1/d,scaleY:1/L},z=k.getCanvas("mesh",S+4,g+4,!1),ee=z.context,C=ee.createImageData(S,g);if(M){const s=C.data;for(let _=0,c=s.length;_<c;_+=4)s[_]=M[0],s[_+1]=M[1],s[_+2]=M[2],s[_+3]=255}for(const s of this._figures)e(C,s,F);return ee.putImageData(C,2,2),{canvas:z.canvas,offsetX:n-2*d,offsetY:f-2*L,scaleX:d,scaleY:L}}getPattern(b,M,k,P){let x;if(N(b,this._bbox),P===I.SHADING)x=r.Util.singularValueDecompose2dScale(b.mozCurrentTransform);else if(x=r.Util.singularValueDecompose2dScale(M.baseTransform),this.matrix){const n=r.Util.singularValueDecompose2dScale(this.matrix);x=[x[0]*n[0],x[1]*n[1]]}const i=this._createMeshCanvas(x,P===I.SHADING?null:this._background,M.cachedCanvases);return P!==I.SHADING&&(b.setTransform.apply(b,M.baseTransform),this.matrix&&b.transform.apply(b,this.matrix)),b.translate(i.offsetX,i.offsetY),b.scale(i.scaleX,i.scaleY),b.createPattern(i.canvas,"no-repeat")}}class H extends K{getPattern(){return"hotpink"}}class V{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(b,M,k,P,x){this.operatorList=b[2],this.matrix=b[3]||[1,0,0,1,0,0],this.bbox=b[4],this.xstep=b[5],this.ystep=b[6],this.paintType=b[7],this.tilingType=b[8],this.color=M,this.ctx=k,this.canvasGraphicsFactory=P,this.baseTransform=x}createPatternCanvas(b){const M=this.operatorList,k=this.bbox,P=this.xstep,x=this.ystep,i=this.paintType,f=this.color,w=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+this.tilingType);const u=k[0],S=k[1],g=k[2],d=k[3],L=r.Util.singularValueDecompose2dScale(this.matrix),F=r.Util.singularValueDecompose2dScale(this.baseTransform),D=[L[0]*F[0],L[1]*F[1]],G=this.getSizeAndScale(P,this.ctx.canvas.width,D[0]),z=this.getSizeAndScale(x,this.ctx.canvas.height,D[1]),ee=b.cachedCanvases.getCanvas("pattern",G.size,z.size,!0),C=ee.context,l=w.createCanvasGraphics(C);l.groupLevel=b.groupLevel,this.setFillAndStrokeStyleToContext(l,i,f);let s=u,_=S,c=g,t=d;return u<0&&(s=0,c+=Math.abs(u)),S<0&&(_=0,t+=Math.abs(S)),C.translate(-G.scale*s,-z.scale*_),l.transform(G.scale,0,0,z.scale,0,0),C.save(),this.clipBbox(l,s,_,c,t),l.baseTransform=l.ctx.mozCurrentTransform.slice(),l.executeOperatorList(M),l.endDrawing(),{canvas:ee.canvas,scaleX:G.scale,scaleY:z.scale,offsetX:s,offsetY:_}}getSizeAndScale(b,M,k){b=Math.abs(b);const P=Math.max(V.MAX_PATTERN_SIZE,M);let x=Math.ceil(b*k);return x>=P?x=P:k=x/b,{scale:k,size:x}}clipBbox(b,M,k,P,x){b.ctx.rect(M,k,P-M,x-k),b.clip(),b.endPath()}setFillAndStrokeStyleToContext(b,M,k){const P=b.ctx,x=b.current;switch(M){case 1:const i=this.ctx;P.fillStyle=i.fillStyle,P.strokeStyle=i.strokeStyle,x.fillColor=i.fillStyle,x.strokeColor=i.strokeStyle;break;case 2:const n=r.Util.makeHexColor(k[0],k[1],k[2]);P.fillStyle=n,P.strokeStyle=n,x.fillColor=n,x.strokeColor=n;break;default:throw new r.FormatError(`Unsupported paint type: ${M}`)}}getPattern(b,M,k,P){let x=k;P!==I.SHADING&&(x=r.Util.transform(x,M.baseTransform),this.matrix&&(x=r.Util.transform(x,this.matrix)));const i=this.createPatternCanvas(M);let n=new DOMMatrix(x);n=n.translate(i.offsetX,i.offsetY),n=n.scale(1/i.scaleX,1/i.scaleY);const f=b.createPattern(i.canvas,"repeat");try{f.setTransform(n)}catch(w){(0,r.warn)(`TilingPattern.getPattern: "${w?.message}".`)}return f}}o.TilingPattern=V},(Q,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const E=Object.create(null);o.GlobalWorkerOptions=E,E.workerPort=void 0===E.workerPort?null:E.workerPort,E.workerSrc=void 0===E.workerSrc?"":E.workerSrc},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var r=E(1);function K(R){switch(R instanceof Error||"object"==typeof R&&null!==R||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),R.name){case"AbortException":return new r.AbortException(R.message);case"MissingPDFException":return new r.MissingPDFException(R.message);case"PasswordException":return new r.PasswordException(R.message,R.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(R.message,R.status);case"UnknownErrorException":return new r.UnknownErrorException(R.message,R.details);default:return new r.UnknownErrorException(R.message,R.toString())}}o.MessageHandler=class B{constructor(e,U,H){this.sourceName=e,this.targetName=U,this.comObj=H,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=j=>{const O=j.data;if(O.targetName!==this.sourceName)return;if(O.stream)return void this._processStreamMessage(O);if(O.callback){const m=O.callbackId,b=this.callbackCapabilities[m];if(!b)throw new Error(`Cannot resolve callback ${m}`);if(delete this.callbackCapabilities[m],1===O.callback)b.resolve(O.data);else{if(2!==O.callback)throw new Error("Unexpected callback case");b.reject(K(O.reason))}return}const V=this.actionHandler[O.action];if(!V)throw new Error(`Unknown action from worker: ${O.action}`);if(O.callbackId){const m=this.sourceName,b=O.sourceName;new Promise(function(M){M(V(O.data))}).then(function(M){H.postMessage({sourceName:m,targetName:b,callback:1,callbackId:O.callbackId,data:M})},function(M){H.postMessage({sourceName:m,targetName:b,callback:2,callbackId:O.callbackId,reason:K(M)})})}else O.streamId?this._createStreamSink(O):V(O.data)},H.addEventListener("message",this._onComObjOnMessage)}on(e,U){const H=this.actionHandler;if(H[e])throw new Error(`There is already an actionName called "${e}"`);H[e]=U}send(e,U,H){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:U},H)}sendWithPromise(e,U,H){const j=this.callbackId++,O=(0,r.createPromiseCapability)();this.callbackCapabilities[j]=O;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:j,data:U},H)}catch(V){O.reject(V)}return O.promise}sendWithStream(e,U,H,j){const O=this.streamId++,V=this.sourceName,m=this.targetName,b=this.comObj;return new ReadableStream({start:M=>{const k=(0,r.createPromiseCapability)();return this.streamControllers[O]={controller:M,startCall:k,pullCall:null,cancelCall:null,isClosed:!1},b.postMessage({sourceName:V,targetName:m,action:e,streamId:O,data:U,desiredSize:M.desiredSize},j),k.promise},pull:M=>{const k=(0,r.createPromiseCapability)();return this.streamControllers[O].pullCall=k,b.postMessage({sourceName:V,targetName:m,stream:6,streamId:O,desiredSize:M.desiredSize}),k.promise},cancel:M=>{(0,r.assert)(M instanceof Error,"cancel must have a valid reason");const k=(0,r.createPromiseCapability)();return this.streamControllers[O].cancelCall=k,this.streamControllers[O].isClosed=!0,b.postMessage({sourceName:V,targetName:m,stream:1,streamId:O,reason:K(M)}),k.promise}},H)}_createStreamSink(e){const U=e.streamId,H=this.sourceName,j=e.sourceName,O=this.comObj,V=this,m=this.actionHandler[e.action],b={enqueue(M,k=1,P){if(this.isCancelled)return;const x=this.desiredSize;this.desiredSize-=k,x>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),O.postMessage({sourceName:H,targetName:j,stream:4,streamId:U,chunk:M},P)},close(){this.isCancelled||(this.isCancelled=!0,O.postMessage({sourceName:H,targetName:j,stream:3,streamId:U}),delete V.streamSinks[U])},error(M){(0,r.assert)(M instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,O.postMessage({sourceName:H,targetName:j,stream:5,streamId:U,reason:K(M)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};b.sinkCapability.resolve(),b.ready=b.sinkCapability.promise,this.streamSinks[U]=b,new Promise(function(M){M(m(e.data,b))}).then(function(){O.postMessage({sourceName:H,targetName:j,stream:8,streamId:U,success:!0})},function(M){O.postMessage({sourceName:H,targetName:j,stream:8,streamId:U,reason:K(M)})})}_processStreamMessage(e){const U=e.streamId,H=this.sourceName,j=e.sourceName,O=this.comObj,V=this.streamControllers[U],m=this.streamSinks[U];switch(e.stream){case 8:e.success?V.startCall.resolve():V.startCall.reject(K(e.reason));break;case 7:e.success?V.pullCall.resolve():V.pullCall.reject(K(e.reason));break;case 6:if(!m){O.postMessage({sourceName:H,targetName:j,stream:7,streamId:U,success:!0});break}m.desiredSize<=0&&e.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=e.desiredSize,new Promise(function(b){b(m.onPull&&m.onPull())}).then(function(){O.postMessage({sourceName:H,targetName:j,stream:7,streamId:U,success:!0})},function(b){O.postMessage({sourceName:H,targetName:j,stream:7,streamId:U,reason:K(b)})});break;case 4:if((0,r.assert)(V,"enqueue should have stream controller"),V.isClosed)break;V.controller.enqueue(e.chunk);break;case 3:if((0,r.assert)(V,"close should have stream controller"),V.isClosed)break;V.isClosed=!0,V.controller.close(),this._deleteStreamController(V,U);break;case 5:(0,r.assert)(V,"error should have stream controller"),V.controller.error(K(e.reason)),this._deleteStreamController(V,U);break;case 2:e.success?V.cancelCall.resolve():V.cancelCall.reject(K(e.reason)),this._deleteStreamController(V,U);break;case 1:if(!m)break;new Promise(function(b){b(m.onCancel&&m.onCancel(K(e.reason)))}).then(function(){O.postMessage({sourceName:H,targetName:j,stream:2,streamId:U,success:!0})},function(b){O.postMessage({sourceName:H,targetName:j,stream:2,streamId:U,reason:K(b)})}),m.sinkCapability.reject(K(e.reason)),m.isCancelled=!0,delete this.streamSinks[U];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(e,U){var H=this;return _asyncToGenerator(function*(){yield Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]),delete H.streamControllers[U]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var r=E(1),I=new WeakMap,N=new WeakMap;o.Metadata=class K{constructor({parsedData:R,rawData:e}){_classPrivateFieldInitSpec(this,I,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:void 0}),_classPrivateFieldSet(this,I,R),_classPrivateFieldSet(this,N,e)}getRaw(){return _classPrivateFieldGet(this,N)}get(R){return _classPrivateFieldGet(this,I).get(R)??null}getAll(){return(0,r.objectFromMap)(_classPrivateFieldGet(this,I))}has(R){return _classPrivateFieldGet(this,I).has(R)}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var r=E(1);class I{constructor(B,R){this.visible=!0,this.name=B,this.intent=R}}o.OptionalContentConfig=class N{constructor(B){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==B){this.name=B.name,this.creator=B.creator,this._order=B.order;for(const R of B.groups)this._groups.set(R.id,new I(R.name,R.intent));if("OFF"===B.baseState)for(const R of this._groups)R.visible=!1;for(const R of B.on)this._groups.get(R).visible=!0;for(const R of B.off)this._groups.get(R).visible=!1}}_evaluateVisibilityExpression(B){const R=B.length;if(R<2)return!0;const e=B[0];for(let U=1;U<R;U++){const H=B[U];let j;if(Array.isArray(H))j=this._evaluateVisibilityExpression(H);else{if(!this._groups.has(H))return(0,r.warn)(`Optional content group not found: ${H}`),!0;j=this._groups.get(H).visible}switch(e){case"And":if(!j)return!1;break;case"Or":if(j)return!0;break;case"Not":return!j;default:return!0}}return"And"===e}isVisible(B){if(0===this._groups.size)return!0;if(!B)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===B.type)return this._groups.has(B.id)?this._groups.get(B.id).visible:((0,r.warn)(`Optional content group not found: ${B.id}`),!0);if("OCMD"===B.type){if(B.expression)return this._evaluateVisibilityExpression(B.expression);if(!B.policy||"AnyOn"===B.policy){for(const R of B.ids){if(!this._groups.has(R))return(0,r.warn)(`Optional content group not found: ${R}`),!0;if(this._groups.get(R).visible)return!0}return!1}if("AllOn"===B.policy){for(const R of B.ids){if(!this._groups.has(R))return(0,r.warn)(`Optional content group not found: ${R}`),!0;if(!this._groups.get(R).visible)return!1}return!0}if("AnyOff"===B.policy){for(const R of B.ids){if(!this._groups.has(R))return(0,r.warn)(`Optional content group not found: ${R}`),!0;if(!this._groups.get(R).visible)return!0}return!1}if("AllOff"===B.policy){for(const R of B.ids){if(!this._groups.has(R))return(0,r.warn)(`Optional content group not found: ${R}`),!0;if(this._groups.get(R).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${B.policy}.`),!0}return(0,r.warn)(`Unknown group type ${B.type}.`),!0}setVisibility(B,R=!0){this._groups.has(B)?this._groups.get(B).visible=!!R:(0,r.warn)(`Optional content group not found: ${B}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,r.objectFromMap)(this._groups):null}getGroup(B){return this._groups.get(B)||null}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var r=E(1),I=E(5);o.PDFDataTransportStream=class N{constructor(e,U){(0,r.assert)(U,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;const H=e.initialData;if(H?.length>0){const j=new Uint8Array(H).buffer;this._queuedChunks.push(j)}this._pdfDataRangeTransport=U,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((j,O)=>{this._onReceiveData({begin:j,chunk:O})}),this._pdfDataRangeTransport.addProgressListener((j,O)=>{this._onProgress({loaded:j,total:O})}),this._pdfDataRangeTransport.addProgressiveReadListener(j=>{this._onReceiveData({chunk:j})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const U=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(U):this._queuedChunks.push(U);else{const H=this._rangeReaders.some(function(j){return j._begin===e.begin&&(j._enqueue(U),!0)});(0,r.assert)(H,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){if(void 0===e.total){const U=this._rangeReaders[0];U?.onProgress&&U.onProgress({loaded:e.loaded})}else{const U=this._fullRequestReader;U?.onProgress&&U.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const U=this._rangeReaders.indexOf(e);U>=0&&this._rangeReaders.splice(U,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new K(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,U){if(U<=this._progressiveDataLength)return null;const H=new B(this,e,U);return this._pdfDataRangeTransport.requestDataRange(e,U),this._rangeReaders.push(H),H}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const U of this._rangeReaders.slice(0))U.cancel(e);this._pdfDataRangeTransport.abort()}};class K{constructor(e,U,H=!1,j=null){this._stream=e,this._done=H||!1,this._filename=(0,I.isPdfFile)(j)?j:null,this._queuedChunks=U||[],this._loaded=0;for(const O of this._queuedChunks)this._loaded+=O.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var e=this;return _asyncToGenerator(function*(){if(e._queuedChunks.length>0)return{value:e._queuedChunks.shift(),done:!1};if(e._done)return{value:void 0,done:!0};const U=(0,r.createPromiseCapability)();return e._requests.push(U),U.promise})()}cancel(e){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class B{constructor(e,U,H){this._stream=e,this._begin=U,this._end=H,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var e=this;return _asyncToGenerator(function*(){if(e._queuedChunk){const H=e._queuedChunk;return e._queuedChunk=null,{value:H,done:!1}}if(e._done)return{value:void 0,done:!0};const U=(0,r.createPromiseCapability)();return e._requests.push(U),U.promise})()}cancel(e){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Q,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class E{static textContent(I){const N=[],K={items:N,styles:Object.create(null)};return function B(R){if(!R)return;let e=null;const U=R.name;if("#text"===U)e=R.value;else{if(!E.shouldBuildText(U))return;R?.attributes?.textContent?e=R.attributes.textContent:R.value&&(e=R.value)}if(null!==e&&N.push({str:e}),R.children)for(const H of R.children)B(H)}(I),K}static shouldBuildText(I){return!("textarea"===I||"input"===I||"option"===I||"select"===I)}}o.XfaText=E},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationLayer=void 0;var r=E(1),I=E(5),N=E(9),K=E(19),B=E(20);const R=1e3,e=new WeakSet;function U(c){return{width:c[2]-c[0],height:c[3]-c[1]}}class H{static create(t){switch(t.data.annotationType){case r.AnnotationType.LINK:return new O(t);case r.AnnotationType.TEXT:return new V(t);case r.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new b(t);case"Btn":return t.data.radioButton?new k(t):t.data.checkBox?new M(t):new P(t);case"Ch":return new x(t)}return new m(t);case r.AnnotationType.POPUP:return new i(t);case r.AnnotationType.FREETEXT:return new f(t);case r.AnnotationType.LINE:return new w(t);case r.AnnotationType.SQUARE:return new u(t);case r.AnnotationType.CIRCLE:return new S(t);case r.AnnotationType.POLYLINE:return new g(t);case r.AnnotationType.CARET:return new L(t);case r.AnnotationType.INK:return new F(t);case r.AnnotationType.POLYGON:return new d(t);case r.AnnotationType.HIGHLIGHT:return new D(t);case r.AnnotationType.UNDERLINE:return new G(t);case r.AnnotationType.SQUIGGLY:return new z(t);case r.AnnotationType.STRIKEOUT:return new ee(t);case r.AnnotationType.STAMP:return new C(t);case r.AnnotationType.FILEATTACHMENT:return new l(t);default:return new j(t)}}}class j{constructor(t,{isRenderable:a=!1,ignoreBorder:p=!1,createQuadrilaterals:T=!1}={}){this.isRenderable=a,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,a&&(this.container=this._createContainer(p)),T&&(this.quadrilaterals=this._createQuadrilaterals(p))}_createContainer(t=!1){const a=this.data,p=this.page,T=this.viewport,v=document.createElement("section");let{width:h,height:W}=U(a.rect);v.setAttribute("data-annotation-id",a.id);const $=r.Util.normalizeRect([a.rect[0],p.view[3]-a.rect[1]+p.view[1],a.rect[2],p.view[3]-a.rect[3]+p.view[1]]);if(a.hasOwnCanvas){const X=T.transform.slice(),[J,oe]=r.Util.singularValueDecompose2dScale(X);h=Math.ceil(h*J),W=Math.ceil(W*oe),$[0]*=J,$[1]*=oe;for(let ue=0;ue<4;ue++)X[ue]=Math.sign(X[ue]);v.style.transform=`matrix(${X.join(",")})`}else v.style.transform=`matrix(${T.transform.join(",")})`;if(v.style.transformOrigin=`${-$[0]}px ${-$[1]}px`,!t&&a.borderStyle.width>0){v.style.borderWidth=`${a.borderStyle.width}px`,a.borderStyle.style!==r.AnnotationBorderStyleType.UNDERLINE&&(h-=2*a.borderStyle.width,W-=2*a.borderStyle.width);const X=a.borderStyle.horizontalCornerRadius,J=a.borderStyle.verticalCornerRadius;switch((X>0||J>0)&&(v.style.borderRadius=`${X}px / ${J}px`),a.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:v.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:v.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:v.style.borderBottomStyle="solid"}a.borderColor||a.color?v.style.borderColor=r.Util.makeHexColor(0|a.color[0],0|a.color[1],0|a.color[2]):v.style.borderWidth=0}return v.style.left=`${$[0]}px`,v.style.top=`${$[1]}px`,a.hasOwnCanvas?v.style.width=v.style.height="auto":(v.style.width=`${h}px`,v.style.height=`${W}px`),v}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const a=[],p=this.data.rect;for(const T of this.data.quadPoints)this.data.rect=[T[2].x,T[2].y,T[1].x,T[1].y],a.push(this._createContainer(t));return this.data.rect=p,a}_createPopup(t,a){let p=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,p=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=p.style.height,t.style.width=p.style.width,p.appendChild(t));const v=new n({container:p,trigger:t,color:a.color,titleObj:a.titleObj,modificationDate:a.modificationDate,contentsObj:a.contentsObj,richText:a.richText,hideWrapper:!0}).render();v.style.left=p.style.width,p.appendChild(v)}_renderQuadrilaterals(t){for(const a of this.quadrilaterals)a.className=t;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,a=null){const p=[];if(this._fieldObjects){const T=this._fieldObjects[t];if(T)for(const{page:v,id:h,exportValues:W}of T){if(-1===v||h===a)continue;const $="string"==typeof W?W:null,X=document.getElementById(h);!X||e.has(X)?p.push({id:h,exportValue:$,domElement:X}):(0,r.warn)(`_getElementsByName - element not allowed: ${h}`)}return p}for(const T of document.getElementsByName(t)){const{id:v,exportValue:h}=T;v!==a&&(!e.has(T)||p.push({id:v,exportValue:h,domElement:T}))}return p}static get platform(){const t=typeof navigator<"u"?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class O extends j{constructor(t,a=null){super(t,{isRenderable:!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"])),ignoreBorder:!!a?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:t,linkService:a}=this,p=document.createElement("a");if(t.url)a.addLinkAttributes||(0,r.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),a.addLinkAttributes?.(p,t.url,t.newWindow);else if(t.action)this._bindNamedAction(p,t.action);else if(t.dest)this._bindLink(p,t.dest);else{let T=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(T=!0,this._bindJSAction(p,t)),t.resetForm?this._bindResetFormAction(p,t.resetForm):T||this._bindLink(p,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((T,v)=>{const h=0===v?p:p.cloneNode();return T.appendChild(h),T}):(this.container.className="linkAnnotation",this.container.appendChild(p),this.container)}_bindLink(t,a){t.href=this.linkService.getDestinationHash(a),t.onclick=()=>(a&&this.linkService.goToDestination(a),!1),(a||""===a)&&(t.className="internalLink")}_bindNamedAction(t,a){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(a),!1),t.className="internalLink"}_bindJSAction(t,a){t.href=this.linkService.getAnchorUrl("");const p=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const T of Object.keys(a.actions)){const v=p.get(T);!v||(t[v]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a.id,name:T}}),!1))}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,a){const p=t.onclick;if(p||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(p||(t.onclick=()=>!1));t.onclick=()=>{p&&p();const{fields:T,refs:v,include:h}=a,W=[];if(0!==T.length||0!==v.length){const J=new Set(v);for(const oe of T){const ue=this._fieldObjects[oe]||[];for(const{id:ge}of ue)J.add(ge)}for(const oe of Object.values(this._fieldObjects))for(const ue of oe)J.has(ue.id)===h&&W.push(ue)}else for(const J of Object.values(this._fieldObjects))W.push(...J);const $=this.annotationStorage,X=[];for(const J of W){const{id:oe}=J;switch(X.push(oe),J.type){case"text":{const ge=J.defaultValue||"";$.setValue(oe,{value:ge,valueAsString:ge});break}case"checkbox":case"radiobutton":$.setValue(oe,{value:J.defaultValue===J.exportValues});break;case"combobox":case"listbox":$.setValue(oe,{value:J.defaultValue||""});break;default:continue}const ue=document.getElementById(oe);!ue||!e.has(ue)||ue.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:X,name:"ResetForm"}}),!1}}}class V extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}class m extends j{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:a,isMac:p}=j.platform;return a&&t.ctrlKey||p&&t.metaKey}_setEventListener(t,a,p,T){a.includes("mouse")?t.addEventListener(a,v=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:T(v),shift:v.shiftKey,modifier:this._getKeyModifier(v)}})}):t.addEventListener(a,v=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:T(v)}})})}_setEventListeners(t,a,p){for(const[T,v]of a)("Action"===v||this.data.actions?.[v])&&this._setEventListener(t,T,v,p)}_setBackgroundColor(t){const a=this.data.backgroundColor||null;t.style.backgroundColor=null===a?"transparent":r.Util.makeHexColor(a[0],a[1],a[2])}_dispatchEventFromSandbox(t,a){const p=(v,h,W)=>{const $=W.detail[v];W.target.style[h]=K.ColorConverters[`${$[0]}_HTML`]($.slice(1))},T={display:v=>{const h=v.detail.display%2==1;v.target.style.visibility=h?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:h,print:0===v.detail.display||3===v.detail.display})},print:v=>{this.annotationStorage.setValue(this.data.id,{print:v.detail.print})},hidden:v=>{v.target.style.visibility=v.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:v.detail.hidden})},focus:v=>{setTimeout(()=>v.target.focus({preventScroll:!1}),0)},userName:v=>{v.target.title=v.detail.userName},readonly:v=>{v.detail.readonly?v.target.setAttribute("readonly",""):v.target.removeAttribute("readonly")},required:v=>{v.detail.required?v.target.setAttribute("required",""):v.target.removeAttribute("required")},bgColor:v=>{p("bgColor","backgroundColor",v)},fillColor:v=>{p("fillColor","backgroundColor",v)},fgColor:v=>{p("fgColor","color",v)},textColor:v=>{p("textColor","color",v)},borderColor:v=>{p("borderColor","borderColor",v)},strokeColor:v=>{p("strokeColor","borderColor",v)}};for(const v of Object.keys(a.detail)){const h=t[v]||T[v];h&&h(a)}}}class b extends m{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,a,p,T){const v=this.annotationStorage;for(const h of this._getElementsByName(t.name,t.id))h.domElement&&(h.domElement[a]=p),v.setValue(h.id,{[T]:p})}render(){const t=this.annotationStorage,a=this.data.id;this.container.className="textWidgetAnnotation";let p=null;if(this.renderForms){const T=t.getValue(a,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),v=T.valueAsString||T.value||"",h={userValue:null,formattedValue:null};this.data.multiLine?(p=document.createElement("textarea"),p.textContent=v):(p=document.createElement("input"),p.type="text",p.setAttribute("value",v)),e.add(p),p.disabled=this.data.readOnly,p.name=this.data.fieldName,p.tabIndex=R,h.userValue=v,p.setAttribute("id",a),p.addEventListener("input",$=>{t.setValue(a,{value:$.target.value}),this.setPropertyOnSiblings(p,"value",$.target.value,"value")}),p.addEventListener("resetform",$=>{p.value=h.userValue=this.data.defaultFieldValue||"",delete h.formattedValue});let W=$=>{h.formattedValue&&($.target.value=h.formattedValue),$.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){p.addEventListener("focus",X=>{h.userValue&&(X.target.value=h.userValue)}),p.addEventListener("updatefromsandbox",X=>{this._dispatchEventFromSandbox({value(oe){h.userValue=oe.detail.value||"",t.setValue(a,{value:h.userValue.toString()}),h.formattedValue||(oe.target.value=h.userValue)},valueAsString(oe){h.formattedValue=oe.detail.valueAsString||"",oe.target!==document.activeElement&&(oe.target.value=h.formattedValue),t.setValue(a,{formattedValue:h.formattedValue})},selRange(oe){const[ue,ge]=oe.detail.selRange;ue>=0&&ge<oe.target.value.length&&oe.target.setSelectionRange(ue,ge)}},X)}),p.addEventListener("keydown",X=>{let J=-1;"Escape"===X.key?J=0:"Enter"===X.key?J=2:"Tab"===X.key&&(J=3),-1!==J&&(h.userValue=X.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:X.target.value,willCommit:!0,commitKey:J,selStart:X.target.selectionStart,selEnd:X.target.selectionEnd}}))});const $=W;W=null,p.addEventListener("blur",X=>{h.userValue=X.target.value,this._mouseState.isDown&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:X.target.value,willCommit:!0,commitKey:1,selStart:X.target.selectionStart,selEnd:X.target.selectionEnd}}),$(X)}),this.data.actions?.Keystroke&&p.addEventListener("beforeinput",X=>{h.formattedValue="";const{data:J,target:oe}=X,{value:ue,selectionStart:ge,selectionEnd:Ae}=oe;this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:ue,change:J,willCommit:!1,selStart:ge,selEnd:Ae}})}),this._setEventListeners(p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.value)}if(W&&p.addEventListener("blur",W),null!==this.data.maxLen&&(p.maxLength=this.data.maxLen),this.data.comb){const X=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;p.classList.add("comb"),p.style.letterSpacing=`calc(${X}px - 1ch)`}}else p=document.createElement("div"),p.textContent=this.data.fieldValue,p.style.verticalAlign="middle",p.style.display="table-cell";return this._setTextStyle(p),this._setBackgroundColor(p),this.container.appendChild(p),this.container}_setTextStyle(t){const{fontSize:p,fontColor:T}=this.data.defaultAppearanceData,v=t.style;p&&(v.fontSize=`${p}px`),v.color=r.Util.makeHexColor(T[0],T[1],T[2]),null!==this.data.textAlignment&&(v.textAlign=["left","center","right"][this.data.textAlignment])}}class M extends m{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,a=this.data,p=a.id;let T=t.getValue(p,{value:a.exportValue===a.fieldValue}).value;"string"==typeof T&&(T="Off"!==T,t.setValue(p,{value:T})),this.container.className="buttonWidgetAnnotation checkBox";const v=document.createElement("input");return e.add(v),v.disabled=a.readOnly,v.type="checkbox",v.name=a.fieldName,T&&v.setAttribute("checked",!0),v.setAttribute("id",p),v.setAttribute("exportValue",a.exportValue),v.tabIndex=R,v.addEventListener("change",h=>{const{name:W,checked:$}=h.target;for(const X of this._getElementsByName(W,p)){const J=$&&X.exportValue===a.exportValue;X.domElement&&(X.domElement.checked=J),t.setValue(X.id,{value:J})}t.setValue(p,{value:$})}),v.addEventListener("resetform",h=>{h.target.checked=(a.defaultFieldValue||"Off")===a.exportValue}),this.enableScripting&&this.hasJSActions&&(v.addEventListener("updatefromsandbox",h=>{this._dispatchEventFromSandbox({value($){$.target.checked="Off"!==$.detail.value,t.setValue(p,{value:$.target.checked})}},h)}),this._setEventListeners(v,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)),this._setBackgroundColor(v),this.container.appendChild(v),this.container}}class k extends m{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,a=this.data,p=a.id;let T=t.getValue(p,{value:a.fieldValue===a.buttonValue}).value;"string"==typeof T&&(T=T!==a.buttonValue,t.setValue(p,{value:T}));const v=document.createElement("input");if(e.add(v),v.disabled=a.readOnly,v.type="radio",v.name=a.fieldName,T&&v.setAttribute("checked",!0),v.setAttribute("id",p),v.tabIndex=R,v.addEventListener("change",h=>{const{name:W,checked:$}=h.target;for(const X of this._getElementsByName(W,p))t.setValue(X.id,{value:!1});t.setValue(p,{value:$})}),v.addEventListener("resetform",h=>{const W=a.defaultFieldValue;h.target.checked=null!=W&&W===a.buttonValue}),this.enableScripting&&this.hasJSActions){const h=a.buttonValue;v.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value:X=>{const J=h===X.detail.value;for(const oe of this._getElementsByName(X.target.name)){const ue=J&&oe.id===p;oe.domElement&&(oe.domElement.checked=ue),t.setValue(oe.id,{value:ue})}}},W)}),this._setEventListeners(v,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.checked)}return this._setBackgroundColor(v),this.container.appendChild(v),this.container}}class P extends O{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),t}}class x extends m{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,a=this.data.id;t.getValue(a,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:p}=this.data.defaultAppearanceData;p||(p=9);const T=`calc(${p}px * var(--zoom-factor))`,v=document.createElement("select");e.add(v),v.disabled=this.data.readOnly,v.name=this.data.fieldName,v.setAttribute("id",a),v.tabIndex=R,v.style.fontSize=`${p}px`,this.data.combo||(v.size=this.data.options.length,this.data.multiSelect&&(v.multiple=!0)),v.addEventListener("resetform",$=>{const X=this.data.defaultFieldValue;for(const J of v.options)J.selected=J.value===X});for(const $ of this.data.options){const X=document.createElement("option");X.textContent=$.displayValue,X.value=$.exportValue,this.data.combo&&(X.style.fontSize=T),this.data.fieldValue.includes($.exportValue)&&X.setAttribute("selected",!0),v.appendChild(X)}const h=($,X)=>{const J=X?"value":"textContent",oe=$.target.options;return $.target.multiple?Array.prototype.filter.call(oe,ue=>ue.selected).map(ue=>ue[J]):-1===oe.selectedIndex?null:oe[oe.selectedIndex][J]},W=$=>Array.prototype.map.call($.target.options,J=>({displayValue:J.textContent,exportValue:J.value}));return this.enableScripting&&this.hasJSActions?(v.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({value(J){const oe=J.detail.value,ue=new Set(Array.isArray(oe)?oe:[oe]);for(const ge of v.options)ge.selected=ue.has(ge.value);t.setValue(a,{value:h(J,!0)})},multipleSelection(J){v.multiple=!0},remove(J){const oe=v.options,ue=J.detail.remove;oe[ue].selected=!1,v.remove(ue),oe.length>0&&-1===Array.prototype.findIndex.call(oe,Ae=>Ae.selected)&&(oe[0].selected=!0),t.setValue(a,{value:h(J,!0),items:W(J)})},clear(J){for(;0!==v.length;)v.remove(0);t.setValue(a,{value:null,items:[]})},insert(J){const{index:oe,displayValue:ue,exportValue:ge}=J.detail.insert,Ae=document.createElement("option");Ae.textContent=ue,Ae.value=ge,v.insertBefore(Ae,v.children[oe]),t.setValue(a,{value:h(J,!0),items:W(J)})},items(J){const{items:oe}=J.detail;for(;0!==v.length;)v.remove(0);for(const ue of oe){const{displayValue:ge,exportValue:Ae}=ue,de=document.createElement("option");de.textContent=ge,de.value=Ae,v.appendChild(de)}v.options.length>0&&(v.options[0].selected=!0),t.setValue(a,{value:h(J,!0),items:W(J)})},indices(J){const oe=new Set(J.detail.indices);for(const ue of J.target.options)ue.selected=oe.has(ue.index);t.setValue(a,{value:h(J,!0)})},editable(J){J.target.disabled=!J.detail.editable}},$)}),v.addEventListener("input",$=>{const X=h($,!0),J=h($,!1);t.setValue(a,{value:X}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:J,changeEx:X,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(v,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],$=>$.target.checked)):v.addEventListener("input",function($){t.setValue(a,{value:h($)})}),this._setBackgroundColor(v),this.container.appendChild(v),this.container}}class i extends j{constructor(t){super(t,{isRenderable:!!(t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const p=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===p.length)return this.container;const T=new n({container:this.container,trigger:Array.from(p),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),v=this.page,h=r.Util.normalizeRect([this.data.parentRect[0],v.view[3]-this.data.parentRect[1]+v.view[1],this.data.parentRect[2],v.view[3]-this.data.parentRect[3]+v.view[1]]),W=h[0]+this.data.parentRect[2]-this.data.parentRect[0],$=h[1];return this.container.style.transformOrigin=`${-W}px ${-$}px`,this.container.style.left=`${W}px`,this.container.style.top=`${$}px`,this.container.appendChild(T.render()),this.container}}class n{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){const a=document.createElement("div");a.className="popupWrapper",this.hideElement=this.hideWrapper?a:this.container,this.hideElement.hidden=!0;const p=document.createElement("div");p.className="popup";const T=this.color;T&&(p.style.backgroundColor=r.Util.makeHexColor(0|.7*(255-T[0])+T[0],0|.7*(255-T[1])+T[1],0|.7*(255-T[2])+T[2]));const v=document.createElement("h1");v.dir=this.titleObj.dir,v.textContent=this.titleObj.str,p.appendChild(v);const h=I.PDFDateString.toDateObject(this.modificationDate);if(h){const W=document.createElement("span");W.className="popupDate",W.textContent="{{date}}, {{time}}",W.dataset.l10nId="annotation_date_string",W.dataset.l10nArgs=JSON.stringify({date:h.toLocaleDateString(),time:h.toLocaleTimeString()}),p.appendChild(W)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const W=this._formatContents(this.contentsObj);p.appendChild(W)}else B.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:p}),p.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const W of this.trigger)W.addEventListener("click",this._toggle.bind(this)),W.addEventListener("mouseover",this._show.bind(this,!1)),W.addEventListener("mouseout",this._hide.bind(this,!1));return p.addEventListener("click",this._hide.bind(this,!0)),a.appendChild(p),a}_formatContents({str:t,dir:a}){const p=document.createElement("p");p.className="popupContent",p.dir=a;const T=t.split(/(?:\r\n?|\n)/);for(let v=0,h=T.length;v<h;++v)p.appendChild(document.createTextNode(T[v])),v<h-1&&p.appendChild(document.createElement("br"));return p}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class f extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class w extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:a,height:p}=U(t.rect),T=this.svgFactory.create(a,p),v=this.svgFactory.createElement("svg:line");return v.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),v.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),v.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),v.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),v.setAttribute("stroke-width",t.borderStyle.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),T.appendChild(v),this.container.append(T),this._createPopup(v,t),this.container}}class u extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:a,height:p}=U(t.rect),T=this.svgFactory.create(a,p),v=t.borderStyle.width,h=this.svgFactory.createElement("svg:rect");return h.setAttribute("x",v/2),h.setAttribute("y",v/2),h.setAttribute("width",a-v),h.setAttribute("height",p-v),h.setAttribute("stroke-width",v||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),T.appendChild(h),this.container.append(T),this._createPopup(h,t),this.container}}class S extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:a,height:p}=U(t.rect),T=this.svgFactory.create(a,p),v=t.borderStyle.width,h=this.svgFactory.createElement("svg:ellipse");return h.setAttribute("cx",a/2),h.setAttribute("cy",p/2),h.setAttribute("rx",a/2-v/2),h.setAttribute("ry",p/2-v/2),h.setAttribute("stroke-width",v||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),T.appendChild(h),this.container.append(T),this._createPopup(h,t),this.container}}class g extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:a,height:p}=U(t.rect),T=this.svgFactory.create(a,p);let v=[];for(const W of t.vertices)v.push(W.x-t.rect[0]+","+(t.rect[3]-W.y));v=v.join(" ");const h=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",v),h.setAttribute("stroke-width",t.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),T.appendChild(h),this.container.append(T),this._createPopup(h,t),this.container}}class d extends g{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class L extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class F extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:a,height:p}=U(t.rect),T=this.svgFactory.create(a,p);for(const v of t.inkLists){let h=[];for(const $ of v)h.push(`${$.x-t.rect[0]},${t.rect[3]-$.y}`);h=h.join(" ");const W=this.svgFactory.createElement(this.svgElementName);W.setAttribute("points",h),W.setAttribute("stroke-width",t.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),this._createPopup(W,t),T.appendChild(W)}return this.container.append(T),this.container}}class D extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class G extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class z extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ee extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class C extends j{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class l extends j{constructor(t){super(t,{isRenderable:!0});const{filename:a,content:p}=this.data.file;this.filename=(0,I.getFilenameFromUrl)(a),this.content=p,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,r.stringToPDFString)(a),filename:a,content:p})}render(){this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class s{static render(t){const a=[],p=[];for(const v of t.annotations){if(!v)continue;const{width:h,height:W}=U(v.rect);if(!(h<=0||W<=0)){if(v.annotationType===r.AnnotationType.POPUP){p.push(v);continue}a.push(v)}}p.length&&a.push(...p);const T=t.div;for(const v of a){const h=H.create({data:v,layer:T,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new I.DOMSVGFactory,annotationStorage:t.annotationStorage||new N.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(h.isRenderable){const W=h.render();if(v.hidden&&(W.style.visibility="hidden"),Array.isArray(W))for(const $ of W)T.appendChild($);else h instanceof i?T.prepend(W):T.appendChild(W)}}_classStaticPrivateMethodGet(this,s,_).call(this,T,t.annotationCanvasMap)}static update(t){const{page:a,viewport:p,annotations:T,annotationCanvasMap:v,div:h}=t,W=p.transform,$=`matrix(${W.join(",")})`;let X,J;for(const oe of T){const ue=h.querySelectorAll(`[data-annotation-id="${oe.id}"]`);if(ue)for(const ge of ue)if(oe.hasOwnCanvas){const Ae=r.Util.normalizeRect([oe.rect[0],a.view[3]-oe.rect[1]+a.view[1],oe.rect[2],a.view[3]-oe.rect[3]+a.view[1]]);if(!J){X=Math.abs(W[0]||W[1]);const Te=W.slice();for(let ve=0;ve<4;ve++)Te[ve]=Math.sign(Te[ve]);J=`matrix(${Te.join(",")})`}const de=Ae[0]*X,we=Ae[1]*X;ge.style.left=`${de}px`,ge.style.top=`${we}px`,ge.style.transformOrigin=`${-de}px ${-we}px`,ge.style.transform=J}else ge.style.transform=$}_classStaticPrivateMethodGet(this,s,_).call(this,h,v),h.hidden=!1}}function _(c,t){if(t){for(const[a,p]of t){const T=c.querySelector(`[data-annotation-id="${a}"]`);if(!T)continue;const{firstChild:v}=T;"CANVAS"===v.nodeName?T.replaceChild(p,v):T.insertBefore(p,v)}t.clear()}}o.AnnotationLayer=s},(Q,o)=>{function E(I){return Math.floor(255*Math.max(0,Math.min(1,I))).toString(16).padStart(2,"0")}Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0,o.ColorConverters=class r{static CMYK_G([N,K,B,R]){return["G",1-Math.min(1,.3*N+.59*B+.11*K+R)]}static G_CMYK([N]){return["CMYK",0,0,0,1-N]}static G_RGB([N]){return["RGB",N,N,N]}static G_HTML([N]){const K=E(N);return`#${K}${K}${K}`}static RGB_G([N,K,B]){return["G",.3*N+.59*K+.11*B]}static RGB_HTML([N,K,B]){return`#${E(N)}${E(K)}${E(B)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([N,K,B,R]){return["RGB",1-Math.min(1,N+R),1-Math.min(1,B+R),1-Math.min(1,K+R)]}static CMYK_HTML(N){return this.RGB_HTML(this.CMYK_RGB(N))}static RGB_CMYK([N,K,B]){const R=1-N,e=1-K,U=1-B;return["CMYK",R,e,U,Math.min(R,e,U)]}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var r=E(1),I=E(17);o.XfaLayer=class N{static setupStorage(B,R,e,U,H){const j=U.getValue(R,{value:null});switch(e.name){case"textarea":if(null!==j.value&&(B.textContent=j.value),"print"===H)break;B.addEventListener("input",O=>{U.setValue(R,{value:O.target.value})});break;case"input":if("radio"===e.attributes.type||"checkbox"===e.attributes.type){if(j.value===e.attributes.xfaOn?B.setAttribute("checked",!0):j.value===e.attributes.xfaOff&&B.removeAttribute("checked"),"print"===H)break;B.addEventListener("change",O=>{U.setValue(R,{value:O.target.getAttribute(O.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==j.value&&B.setAttribute("value",j.value),"print"===H)break;B.addEventListener("input",O=>{U.setValue(R,{value:O.target.value})})}break;case"select":if(null!==j.value)for(const O of e.children)O.attributes.value===j.value&&(O.attributes.selected=!0);B.addEventListener("input",O=>{const V=O.target.options;U.setValue(R,{value:-1===V.selectedIndex?"":V[V.selectedIndex].value})})}}static setAttributes({html:B,element:R,storage:e=null,intent:U,linkService:H}){const{attributes:j}=R,O=B instanceof HTMLAnchorElement;"radio"===j.type&&(j.name=`${j.name}-${U}`);for(const[V,m]of Object.entries(j))if(null!=m&&"dataId"!==V)if("style"!==V)if("textContent"===V)B.textContent=m;else if("class"===V)m.length&&B.setAttribute(V,m.join(" "));else{if(O&&("href"===V||"newWindow"===V))continue;B.setAttribute(V,m)}else Object.assign(B.style,m);O&&(H.addLinkAttributes||(0,r.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),H.addLinkAttributes?.(B,j.href,j.newWindow)),e&&j.dataId&&this.setupStorage(B,j.dataId,R,e)}static render(B){const R=B.annotationStorage,e=B.linkService,U=B.xfaHtml,H=B.intent||"display",j=document.createElement(U.name);U.attributes&&this.setAttributes({html:j,element:U,intent:H,linkService:e});const O=[[U,-1,j]],V=B.div;if(V.appendChild(j),B.viewport){const b=`matrix(${B.viewport.transform.join(",")})`;V.style.transform=b}"richText"!==H&&V.setAttribute("class","xfaLayer xfaFont");const m=[];for(;O.length>0;){const[b,M,k]=O[O.length-1];if(M+1===b.children.length){O.pop();continue}const P=b.children[++O[O.length-1][1]];if(null===P)continue;const{name:x}=P;if("#text"===x){const n=document.createTextNode(P.value);m.push(n),k.appendChild(n);continue}let i;if(i=P?.attributes?.xmlns?document.createElementNS(P.attributes.xmlns,x):document.createElement(x),k.appendChild(i),P.attributes&&this.setAttributes({html:i,element:P,storage:R,intent:H,linkService:e}),P.children&&P.children.length>0)O.push([P,-1,i]);else if(P.value){const n=document.createTextNode(P.value);I.XfaText.shouldBuildText(x)&&m.push(n),i.appendChild(n)}}for(const b of V.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))b.setAttribute("readOnly",!0);return{textDivs:m}}static update(B){const R=`matrix(${B.viewport.transform.join(",")})`;B.div.style.transform=R,B.div.hidden=!1}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.renderTextLayer=function M(k){const P=new b({textContent:k.textContent,textContentStream:k.textContentStream,container:k.container,viewport:k.viewport,textDivs:k.textDivs,textContentItemsStr:k.textContentItemsStr,enhanceTextSelection:k.enhanceTextSelection});return P._render(k.timeout),P};var r=E(1);const N=30,B=new Map,R=/^\s+$/g;function U(k,P,x,i){const n=document.createElement("span"),f=k._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==P.str,hasEOL:P.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==P.str,hasEOL:P.hasEOL};k._textDivs.push(n);const w=r.Util.transform(k._viewport.transform,P.transform);let u=Math.atan2(w[1],w[0]);const S=x[P.fontName];S.vertical&&(u+=Math.PI/2);const g=Math.hypot(w[2],w[3]),d=g*function e(k,P){const x=B.get(k);if(x)return x;P.save(),P.font=`30px ${k}`;const i=P.measureText("");let n=i.fontBoundingBoxAscent,f=Math.abs(i.fontBoundingBoxDescent);if(n){P.restore();const u=n/(n+f);return B.set(k,u),u}P.strokeStyle="red",P.clearRect(0,0,N,N),P.strokeText("g",0,0);let w=P.getImageData(0,0,N,N).data;f=0;for(let u=w.length-1-3;u>=0;u-=4)if(w[u]>0){f=Math.ceil(u/4/N);break}P.clearRect(0,0,N,N),P.strokeText("A",0,N),w=P.getImageData(0,0,N,N).data,n=0;for(let u=0,S=w.length;u<S;u+=4)if(w[u]>0){n=N-Math.floor(u/4/N);break}if(P.restore(),n){const u=n/(n+f);return B.set(k,u),u}return B.set(k,.8),.8}(S.fontFamily,i);let L,F;0===u?(L=w[4],F=w[5]-d):(L=w[4]+d*Math.sin(u),F=w[5]-d*Math.cos(u)),n.style.left=`${L}px`,n.style.top=`${F}px`,n.style.fontSize=`${g}px`,n.style.fontFamily=S.fontFamily,n.setAttribute("role","presentation"),n.textContent=P.str,n.dir=P.dir,k._fontInspectorEnabled&&(n.dataset.fontName=P.fontName),0!==u&&(f.angle=u*(180/Math.PI));let D=!1;if(P.str.length>1||k._enhanceTextSelection&&R.test(P.str))D=!0;else if(" "!==P.str&&P.transform[0]!==P.transform[3]){const G=Math.abs(P.transform[0]),z=Math.abs(P.transform[3]);G!==z&&Math.max(G,z)/Math.min(G,z)>1.5&&(D=!0)}if(D&&(f.canvasWidth=S.vertical?P.height*k._viewport.scale:P.width*k._viewport.scale),k._textDivProperties.set(n,f),k._textContentStream&&k._layoutText(n),k._enhanceTextSelection&&f.hasText){let G=1,z=0;0!==u&&(G=Math.cos(u),z=Math.sin(u));const ee=(S.vertical?P.height:P.width)*k._viewport.scale,C=g;let l,s;0!==u?(l=[G,z,-z,G,L,F],s=r.Util.getAxialAlignedBoundingBox([0,0,ee,C],l)):s=[L,F,L+ee,F+C],k._bounds.push({left:s[0],top:s[1],right:s[2],bottom:s[3],div:n,size:[ee,C],m:l})}}function H(k){if(k._canceled)return;const P=k._textDivs,x=k._capability,i=P.length;if(i>1e5)return k._renderingDone=!0,void x.resolve();if(!k._textContentStream)for(let n=0;n<i;n++)k._layoutText(P[n]);k._renderingDone=!0,x.resolve()}function j(k,P,x){let i=0;for(let n=0;n<x;n++){const f=k[P++];f>0&&(i=i?Math.min(f,i):f)}return i}function m(k,P){P.sort(function(n,f){return n.x1-f.x1||n.index-f.index});const i=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const n of P){let f=0;for(;f<i.length&&i[f].end<=n.y1;)f++;let w=i.length-1;for(;w>=0&&i[w].start>=n.y2;)w--;let u,S,g,d,L=-1/0;for(g=f;g<=w;g++){let G;u=i[g],S=u.boundary,G=S.x2>n.x1?S.index>n.index?S.x1New:n.x1:void 0===S.x2New?(S.x2+n.x1)/2:S.x2New,G>L&&(L=G)}for(n.x1New=L,g=f;g<=w;g++)u=i[g],S=u.boundary,void 0===S.x2New?S.x2>n.x1?S.index>n.index&&(S.x2New=S.x2):S.x2New=L:S.x2New>L&&(S.x2New=Math.max(L,S.x2));const F=[];let D=null;for(g=f;g<=w;g++){u=i[g],S=u.boundary;const G=S.x2>n.x2?S:n;D===G?F[F.length-1].end=u.end:(F.push({start:u.start,end:u.end,boundary:G}),D=G)}for(i[f].start<n.y1&&(F[0].start=n.y1,F.unshift({start:i[f].start,end:n.y1,boundary:i[f].boundary})),n.y2<i[w].end&&(F[F.length-1].end=n.y2,F.push({start:n.y2,end:i[w].end,boundary:i[w].boundary})),g=f;g<=w;g++){if(u=i[g],S=u.boundary,void 0!==S.x2New)continue;let G=!1;for(d=f-1;!G&&d>=0&&i[d].start>=S.y1;d--)G=i[d].boundary===S;for(d=w+1;!G&&d<i.length&&i[d].end<=S.y2;d++)G=i[d].boundary===S;for(d=0;!G&&d<F.length;d++)G=F[d].boundary===S;G||(S.x2New=L)}Array.prototype.splice.apply(i,[f,w-f+1].concat(F))}for(const n of i){const f=n.boundary;void 0===f.x2New&&(f.x2New=Math.max(k,f.x2))}}class b{constructor({textContent:P,textContentStream:x,container:i,viewport:n,textDivs:f,textContentItemsStr:w,enhanceTextSelection:u}){this._textContent=P,this._textContentStream=x,this._container=i,this._document=i.ownerDocument,this._viewport=n,this._textDivs=f||[],this._textContentItemsStr=w||[],this._enhanceTextSelection=!!u,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(P,x){for(let i=0,n=P.length;i<n;i++)if(void 0!==P[i].str)this._textContentItemsStr.push(P[i].str),U(this,P[i],x,this._layoutTextCtx);else if("beginMarkedContentProps"===P[i].type||"beginMarkedContent"===P[i].type){const f=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==P[i].id&&this._container.setAttribute("id",`${P[i].id}`),f.appendChild(this._container)}else"endMarkedContent"===P[i].type&&(this._container=this._container.parentNode)}_layoutText(P){const x=this._textDivProperties.get(P);let i="";if(0!==x.canvasWidth&&x.hasText){const{fontSize:n,fontFamily:f}=P.style;(n!==this._layoutTextLastFontSize||f!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${n} ${f}`,this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=f);const{width:w}=this._layoutTextCtx.measureText(P.textContent);if(w>0){const u=x.canvasWidth/w;this._enhanceTextSelection&&(x.scale=u),i=`scaleX(${u})`}}if(0!==x.angle&&(i=`rotate(${x.angle}deg) ${i}`),i.length>0&&(this._enhanceTextSelection&&(x.originalTransform=i),P.style.transform=i),x.hasText&&this._container.appendChild(P),x.hasEOL){const n=document.createElement("br");n.setAttribute("role","presentation"),this._container.appendChild(n)}}_render(P=0){const x=(0,r.createPromiseCapability)();let i=Object.create(null);const n=this._document.createElement("canvas");if(n.height=n.width=N,n.mozOpaque=!0,this._layoutTextCtx=n.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),x.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const f=()=>{this._reader.read().then(({value:w,done:u})=>{u?x.resolve():(Object.assign(i,w.styles),this._processItems(w.items,i),f())},x.reject)};this._reader=this._textContentStream.getReader(),f()}}x.promise.then(()=>{i=null,P?this._renderTimer=setTimeout(()=>{H(this),this._renderTimer=null},P):H(this)},this._capability.reject)}expandTextDivs(P=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function O(k){const P=k._bounds,x=k._viewport,i=function V(k,P,x){const i=x.map(function(f,w){return{x1:f.left,y1:f.top,x2:f.right,y2:f.bottom,index:w,x1New:void 0,x2New:void 0}});m(k,i);const n=new Array(x.length);for(const f of i)n[f.index]={left:f.x1New,top:0,right:f.x2New,bottom:0};x.map(function(f,w){const u=n[w],S=i[w];S.x1=f.top,S.y1=k-u.right,S.x2=f.bottom,S.y2=k-u.left,S.index=w,S.x1New=void 0,S.x2New=void 0}),m(P,i);for(const f of i){const w=f.index;n[w].top=f.x1New,n[w].bottom=f.x2New}return n}(x.width,x.height,P);for(let n=0;n<i.length;n++){const f=P[n].div,w=k._textDivProperties.get(f);if(0===w.angle){w.paddingLeft=P[n].left-i[n].left,w.paddingTop=P[n].top-i[n].top,w.paddingRight=i[n].right-P[n].right,w.paddingBottom=i[n].bottom-P[n].bottom,k._textDivProperties.set(f,w);continue}const u=i[n],S=P[n],g=S.m,d=g[0],L=g[1],F=[[0,0],[0,S.size[1]],[S.size[0],0],S.size],D=new Float64Array(64);for(let z=0,ee=F.length;z<ee;z++){const C=r.Util.applyTransform(F[z],g);D[z+0]=d&&(u.left-C[0])/d,D[z+4]=L&&(u.top-C[1])/L,D[z+8]=d&&(u.right-C[0])/d,D[z+12]=L&&(u.bottom-C[1])/L,D[z+16]=L&&(u.left-C[0])/-L,D[z+20]=d&&(u.top-C[1])/d,D[z+24]=L&&(u.right-C[0])/-L,D[z+28]=d&&(u.bottom-C[1])/d,D[z+32]=d&&(u.left-C[0])/-d,D[z+36]=L&&(u.top-C[1])/-L,D[z+40]=d&&(u.right-C[0])/-d,D[z+44]=L&&(u.bottom-C[1])/-L,D[z+48]=L&&(u.left-C[0])/L,D[z+52]=d&&(u.top-C[1])/-d,D[z+56]=L&&(u.right-C[0])/L,D[z+60]=d&&(u.bottom-C[1])/-d}const G=1+Math.min(Math.abs(d),Math.abs(L));w.paddingLeft=j(D,32,16)/G,w.paddingTop=j(D,48,16)/G,w.paddingRight=j(D,0,16)/G,w.paddingBottom=j(D,16,16)/G,k._textDivProperties.set(f,w)}}(this),this._bounds=null);const x=[],i=[];for(let n=0,f=this._textDivs.length;n<f;n++){const w=this._textDivs[n],u=this._textDivProperties.get(w);!u.hasText||(P?(x.length=0,i.length=0,u.originalTransform&&x.push(u.originalTransform),u.paddingTop>0?(i.push(`${u.paddingTop}px`),x.push(`translateY(${-u.paddingTop}px)`)):i.push(0),i.push(u.paddingRight>0?u.paddingRight/u.scale+"px":0),i.push(u.paddingBottom>0?`${u.paddingBottom}px`:0),u.paddingLeft>0?(i.push(u.paddingLeft/u.scale+"px"),x.push(`translateX(${-u.paddingLeft/u.scale}px)`)):i.push(0),w.style.padding=i.join(" "),x.length&&(w.style.transform=x.join(" "))):(w.style.padding=null,w.style.transform=u.originalTransform))}}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var r=E(1),I=E(5),N=E(3);let K=class{constructor(){(0,r.unreachable)("Not implemented: SVGGraphics")}};o.SVGGraphics=K;{let m=function(i){let n=[];const f=[];for(const w of i)"save"!==w.fn?"restore"===w.fn?n=f.pop():n.push(w):(n.push({fnId:92,fn:"group",items:[]}),f.push(n),n=n[n.length-1].items);return n},b=function(i){if(Number.isInteger(i))return i.toString();const n=i.toFixed(10);let f=n.length-1;if("0"!==n[f])return n;do{f--}while("0"===n[f]);return n.substring(0,"."===n[f]?f:f+1)},M=function(i){if(0===i[4]&&0===i[5]){if(0===i[1]&&0===i[2])return 1===i[0]&&1===i[3]?"":`scale(${b(i[0])} ${b(i[3])})`;if(i[0]===i[3]&&i[1]===-i[2]){const n=180*Math.acos(i[0])/Math.PI;return`rotate(${b(n)})`}}else if(1===i[0]&&0===i[1]&&0===i[2]&&1===i[3])return`translate(${b(i[4])} ${b(i[5])})`;return`matrix(${b(i[0])} ${b(i[1])} ${b(i[2])} ${b(i[3])} ${b(i[4])} ${b(i[5])})`};const B={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},R="http://www.w3.org/XML/1998/namespace",e="http://www.w3.org/1999/xlink",U=["butt","round","square"],H=["miter","round","bevel"],j=function(i,n="",f=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!f)return URL.createObjectURL(new Blob([i],{type:n}));const w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let u=`data:${n};base64,`;for(let S=0,g=i.length;S<g;S+=3){const d=255&i[S],L=255&i[S+1],F=255&i[S+2];u+=w[d>>2]+w[(3&d)<<4|L>>4]+w[S+1<g?(15&L)<<2|F>>6:64]+w[S+2<g?63&F:64]}return u},O=function(){const i=new Uint8Array([137,80,78,71,13,10,26,10]),f=new Int32Array(256);for(let F=0;F<256;F++){let D=F;for(let G=0;G<8;G++)D=1&D?3988292384^D>>1&2147483647:D>>1&2147483647;f[F]=D}function u(F,D,G,z){let ee=z;const C=D.length;G[ee]=C>>24&255,G[ee+1]=C>>16&255,G[ee+2]=C>>8&255,G[ee+3]=255&C,ee+=4,G[ee]=255&F.charCodeAt(0),G[ee+1]=255&F.charCodeAt(1),G[ee+2]=255&F.charCodeAt(2),G[ee+3]=255&F.charCodeAt(3),ee+=4,G.set(D,ee),ee+=D.length;const l=function w(F,D,G){let z=-1;for(let ee=D;ee<G;ee++)z=z>>>8^f[255&(z^F[ee])];return-1^z}(G,z+4,ee);G[ee]=l>>24&255,G[ee+1]=l>>16&255,G[ee+2]=l>>8&255,G[ee+3]=255&l}function d(F){let D=F.length;const G=65535,z=Math.ceil(D/G),ee=new Uint8Array(2+D+5*z+4);let C=0;ee[C++]=120,ee[C++]=156;let l=0;for(;D>G;)ee[C++]=0,ee[C++]=255,ee[C++]=255,ee[C++]=0,ee[C++]=0,ee.set(F.subarray(l,l+G),C),C+=G,l+=G,D-=G;ee[C++]=1,ee[C++]=255&D,ee[C++]=D>>8&255,ee[C++]=255&~D,ee[C++]=(65535&~D)>>8&255,ee.set(F.subarray(l),C),C+=F.length-l;const s=function S(F,D,G){let z=1,ee=0;for(let C=D;C<G;++C)z=(z+(255&F[C]))%65521,ee=(ee+z)%65521;return ee<<16|z}(F,0,F.length);return ee[C++]=s>>24&255,ee[C++]=s>>16&255,ee[C++]=s>>8&255,ee[C++]=255&s,ee}return function(D,G,z){return function L(F,D,G,z){const ee=F.width,C=F.height;let l,s,_;const c=F.data;switch(D){case r.ImageKind.GRAYSCALE_1BPP:s=0,l=1,_=ee+7>>3;break;case r.ImageKind.RGB_24BPP:s=2,l=8,_=3*ee;break;case r.ImageKind.RGBA_32BPP:s=6,l=8,_=4*ee;break;default:throw new Error("invalid format")}const t=new Uint8Array((1+_)*C);let a=0,p=0;for(let X=0;X<C;++X)t[a++]=0,t.set(c.subarray(p,p+_),a),p+=_,a+=_;if(D===r.ImageKind.GRAYSCALE_1BPP&&z){a=0;for(let X=0;X<C;X++){a++;for(let J=0;J<_;J++)t[a++]^=255}}const T=new Uint8Array([ee>>24&255,ee>>16&255,ee>>8&255,255&ee,C>>24&255,C>>16&255,C>>8&255,255&C,l,s,0,0,0]),v=function g(F){if(!N.isNodeJS)return d(F);try{let D;D=parseInt(process.versions.node)>=8?F:Buffer.from(F);const G=__webpack_require__(2258).deflateSync(D,{level:9});return G instanceof Uint8Array?G:new Uint8Array(G)}catch(D){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+D)}return d(F)}(t),W=new Uint8Array(i.length+36+T.length+v.length);let $=0;return W.set(i,$),$+=i.length,u("IHDR",T,W,$),$+=12+T.length,u("IDATA",v,W,$),$+=12+v.length,u("IEND",new Uint8Array(0),W,$),j(W,"image/png",G)}(D,void 0===D.kind?r.ImageKind.GRAYSCALE_1BPP:D.kind,G,z)}}();class V{constructor(){this.fontSizeScale=1,this.fontWeight=B.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=B.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(n,f){this.x=n,this.y=f}}let k=0,P=0,x=0;o.SVGGraphics=K=class{constructor(i,n,f=!1){this.svgFactory=new I.DOMSVGFactory,this.current=new V,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=i,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!f,this._operatorIdMapping=[];for(const w in r.OPS)this._operatorIdMapping[r.OPS[w]]=w}save(){this.transformStack.push(this.transformMatrix);const i=this.current;this.extraStack.push(i),this.current=i.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(i){this.save(),this.executeOpTree(i),this.restore()}loadDependencies(i){const n=i.fnArray,f=i.argsArray;for(let w=0,u=n.length;w<u;w++)if(n[w]===r.OPS.dependency)for(const S of f[w]){const g=S.startsWith("g_")?this.commonObjs:this.objs,d=new Promise(L=>{g.get(S,L)});this.current.dependencies.push(d)}return Promise.all(this.current.dependencies)}transform(i,n,f,w,u,S){this.transformMatrix=r.Util.transform(this.transformMatrix,[i,n,f,w,u,S]),this.tgrp=null}getSVG(i,n){this.viewport=n;const f=this._initialize(n);return this.loadDependencies(i).then(()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(i)),f))}convertOpList(i){const n=this._operatorIdMapping,f=i.argsArray,w=i.fnArray,u=[];for(let S=0,g=w.length;S<g;S++){const d=w[S];u.push({fnId:d,fn:n[d],args:f[S]})}return m(u)}executeOpTree(i){for(const n of i){const f=n.fn,u=n.args;switch(0|n.fnId){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(u);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(u[0],u[1]);break;case r.OPS.setFont:this.setFont(u);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(u[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(u[0],u[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(u[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(u[0]);break;case r.OPS.setHScale:this.setHScale(u[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(u[0],u[1],u[2],u[3],u[4],u[5]);break;case r.OPS.setTextRise:this.setTextRise(u[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(u[0]);break;case r.OPS.setLineWidth:this.setLineWidth(u[0]);break;case r.OPS.setLineJoin:this.setLineJoin(u[0]);break;case r.OPS.setLineCap:this.setLineCap(u[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(u[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(u[0],u[1],u[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(u[0],u[1],u[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(u);break;case r.OPS.setFillColorN:this.setFillColorN(u);break;case r.OPS.shadingFill:this.shadingFill(u[0]);break;case r.OPS.setDash:this.setDash(u[0],u[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(u[0]);break;case r.OPS.setFlatness:this.setFlatness(u[0]);break;case r.OPS.setGState:this.setGState(u[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(u[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(u[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(u[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(u[0],u[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(u[0],u[1],u[2],u[3],u[4],u[5]);break;case r.OPS.constructPath:this.constructPath(u[0],u[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,r.warn)(`Unimplemented operator ${f}`)}}}setWordSpacing(i){this.current.wordSpacing=i}setCharSpacing(i){this.current.charSpacing=i}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(i,n,f,w,u,S){const g=this.current;g.textMatrix=g.lineMatrix=[i,n,f,w,u,S],g.textMatrixScale=Math.hypot(i,n),g.x=g.lineX=0,g.y=g.lineY=0,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${b(g.fontSize)}px`),g.tspan.setAttributeNS(null,"y",b(-g.y)),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtElement.appendChild(g.tspan)}beginText(){const i=this.current;i.x=i.lineX=0,i.y=i.lineY=0,i.textMatrix=r.IDENTITY_MATRIX,i.lineMatrix=r.IDENTITY_MATRIX,i.textMatrixScale=1,i.tspan=this.svgFactory.createElement("svg:tspan"),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtgrp=this.svgFactory.createElement("svg:g"),i.xcoords=[],i.ycoords=[]}moveText(i,n){const f=this.current;f.x=f.lineX+=i,f.y=f.lineY+=n,f.xcoords=[],f.ycoords=[],f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${b(f.fontSize)}px`),f.tspan.setAttributeNS(null,"y",b(-f.y))}showText(i){const n=this.current,f=n.font,w=n.fontSize;if(0===w)return;const u=n.fontSizeScale,S=n.charSpacing,g=n.wordSpacing,d=n.fontDirection,L=n.textHScale*d,F=f.vertical,D=F?1:-1,G=f.defaultVMetrics,z=w*n.fontMatrix[0];let ee=0;for(const s of i){if(null===s){ee+=d*g;continue}if("number"==typeof s){ee+=D*s*w/1e3;continue}const _=(s.isSpace?g:0)+S,c=s.fontChar;let t,a,T,p=s.width;if(F){let v;const h=s.vmetric||G;v=s.vmetric?h[1]:.5*p,v=-v*z,p=h?-h[0]:p,t=v/u,a=(ee+h[2]*z)/u}else t=ee/u,a=0;(s.isInFont||f.missingFile)&&(n.xcoords.push(n.x+t),F&&n.ycoords.push(-n.y+a),n.tspan.textContent+=c),T=F?p*z-_*d:p*z+_*d,ee+=T}n.tspan.setAttributeNS(null,"x",n.xcoords.map(b).join(" ")),n.tspan.setAttributeNS(null,"y",F?n.ycoords.map(b).join(" "):b(-n.y)),F?n.y-=ee:n.x+=ee*L,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${b(n.fontSize)}px`),n.fontStyle!==B.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==B.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight);const C=n.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;C===r.TextRenderingMode.FILL||C===r.TextRenderingMode.FILL_STROKE?(n.fillColor!==B.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.tspan.setAttributeNS(null,"fill",n.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(C===r.TextRenderingMode.STROKE||C===r.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(n.tspan,1/(n.textMatrixScale||1));let l=n.textMatrix;0!==n.textRise&&(l=l.slice(),l[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform",`${M(l)} scale(${b(L)}, -1)`),n.txtElement.setAttributeNS(R,"xml:space","preserve"),n.txtElement.appendChild(n.tspan),n.txtgrp.appendChild(n.txtElement),this._ensureTransformGroup().appendChild(n.txtElement)}setLeadingMoveText(i,n){this.setLeading(-n),this.moveText(i,n)}addFontStyle(i){if(!i.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const n=j(i.data,i.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${i.loadedName}"; src: url(${n}); }\n`}setFont(i){const n=this.current,f=this.commonObjs.get(i[0]);let w=i[1];n.font=f,this.embedFonts&&!f.missingFile&&!this.embeddedFonts[f.loadedName]&&(this.addFontStyle(f),this.embeddedFonts[f.loadedName]=f),n.fontMatrix=f.fontMatrix||r.FONT_IDENTITY_MATRIX;let u="normal";f.black?u="900":f.bold&&(u="bold");const S=f.italic?"italic":"normal";w<0?(w=-w,n.fontDirection=-1):n.fontDirection=1,n.fontSize=w,n.fontFamily=f.loadedName,n.fontWeight=u,n.fontStyle=S,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",b(-n.y)),n.xcoords=[],n.ycoords=[]}endText(){const i=this.current;i.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&i.txtElement?.hasChildNodes()&&(i.element=i.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(i){i>0&&(this.current.lineWidth=i)}setLineCap(i){this.current.lineCap=U[i]}setLineJoin(i){this.current.lineJoin=H[i]}setMiterLimit(i){this.current.miterLimit=i}setStrokeAlpha(i){this.current.strokeAlpha=i}setStrokeRGBColor(i,n,f){this.current.strokeColor=r.Util.makeHexColor(i,n,f)}setFillAlpha(i){this.current.fillAlpha=i}setFillRGBColor(i,n,f){this.current.fillColor=r.Util.makeHexColor(i,n,f),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(i){this.current.strokeColor=this._makeColorN_Pattern(i)}setFillColorN(i){this.current.fillColor=this._makeColorN_Pattern(i)}shadingFill(i){const n=this.viewport.width,f=this.viewport.height,w=r.Util.inverseTransform(this.transformMatrix),u=r.Util.applyTransform([0,0],w),S=r.Util.applyTransform([0,f],w),g=r.Util.applyTransform([n,0],w),d=r.Util.applyTransform([n,f],w),L=Math.min(u[0],S[0],g[0],d[0]),F=Math.min(u[1],S[1],g[1],d[1]),D=Math.max(u[0],S[0],g[0],d[0]),G=Math.max(u[1],S[1],g[1],d[1]),z=this.svgFactory.createElement("svg:rect");z.setAttributeNS(null,"x",L),z.setAttributeNS(null,"y",F),z.setAttributeNS(null,"width",D-L),z.setAttributeNS(null,"height",G-F),z.setAttributeNS(null,"fill",this._makeShadingPattern(i)),this.current.fillAlpha<1&&z.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(z)}_makeColorN_Pattern(i){return"TilingPattern"===i[0]?this._makeTilingPattern(i):this._makeShadingPattern(i)}_makeTilingPattern(i){const n=i[1],f=i[2],w=i[3]||r.IDENTITY_MATRIX,[u,S,g,d]=i[4],L=i[5],F=i[6],D=i[7],G="shading"+x++,[z,ee,C,l]=r.Util.normalizeRect([...r.Util.applyTransform([u,S],w),...r.Util.applyTransform([g,d],w)]),[s,_]=r.Util.singularValueDecompose2dScale(w),c=L*s,t=F*_,a=this.svgFactory.createElement("svg:pattern");a.setAttributeNS(null,"id",G),a.setAttributeNS(null,"patternUnits","userSpaceOnUse"),a.setAttributeNS(null,"width",c),a.setAttributeNS(null,"height",t),a.setAttributeNS(null,"x",`${z}`),a.setAttributeNS(null,"y",`${ee}`);const p=this.svg,T=this.transformMatrix,v=this.current.fillColor,h=this.current.strokeColor,W=this.svgFactory.create(C-z,l-ee);if(this.svg=W,this.transformMatrix=w,2===D){const $=r.Util.makeHexColor(...n);this.current.fillColor=$,this.current.strokeColor=$}return this.executeOpTree(this.convertOpList(f)),this.svg=p,this.transformMatrix=T,this.current.fillColor=v,this.current.strokeColor=h,a.appendChild(W.childNodes[0]),this.defs.appendChild(a),`url(#${G})`}_makeShadingPattern(i){switch("string"==typeof i&&(i=this.objs.get(i)),i[0]){case"RadialAxial":const n="shading"+x++,f=i[3];let w;switch(i[1]){case"axial":const u=i[4],S=i[5];w=this.svgFactory.createElement("svg:linearGradient"),w.setAttributeNS(null,"id",n),w.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),w.setAttributeNS(null,"x1",u[0]),w.setAttributeNS(null,"y1",u[1]),w.setAttributeNS(null,"x2",S[0]),w.setAttributeNS(null,"y2",S[1]);break;case"radial":const g=i[4],d=i[5],L=i[6],F=i[7];w=this.svgFactory.createElement("svg:radialGradient"),w.setAttributeNS(null,"id",n),w.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),w.setAttributeNS(null,"cx",d[0]),w.setAttributeNS(null,"cy",d[1]),w.setAttributeNS(null,"r",F),w.setAttributeNS(null,"fx",g[0]),w.setAttributeNS(null,"fy",g[1]),w.setAttributeNS(null,"fr",L);break;default:throw new Error(`Unknown RadialAxial type: ${i[1]}`)}for(const u of f){const S=this.svgFactory.createElement("svg:stop");S.setAttributeNS(null,"offset",u[0]),S.setAttributeNS(null,"stop-color",u[1]),w.appendChild(S)}return this.defs.appendChild(w),`url(#${n})`;case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${i[0]}`)}}setDash(i,n){this.current.dashArray=i,this.current.dashPhase=n}constructPath(i,n){const f=this.current;let w=f.x,u=f.y,S=[],g=0;for(const d of i)switch(0|d){case r.OPS.rectangle:w=n[g++],u=n[g++];const D=w+n[g++],G=u+n[g++];S.push("M",b(w),b(u),"L",b(D),b(u),"L",b(D),b(G),"L",b(w),b(G),"Z");break;case r.OPS.moveTo:w=n[g++],u=n[g++],S.push("M",b(w),b(u));break;case r.OPS.lineTo:w=n[g++],u=n[g++],S.push("L",b(w),b(u));break;case r.OPS.curveTo:w=n[g+4],u=n[g+5],S.push("C",b(n[g]),b(n[g+1]),b(n[g+2]),b(n[g+3]),b(w),b(u)),g+=6;break;case r.OPS.curveTo2:S.push("C",b(w),b(u),b(n[g]),b(n[g+1]),b(n[g+2]),b(n[g+3])),w=n[g+2],u=n[g+3],g+=4;break;case r.OPS.curveTo3:w=n[g+2],u=n[g+3],S.push("C",b(n[g]),b(n[g+1]),b(w),b(u),b(w),b(u)),g+=4;break;case r.OPS.closePath:S.push("Z")}S=S.join(" "),f.path&&i.length>0&&i[0]!==r.OPS.rectangle&&i[0]!==r.OPS.moveTo?S=f.path.getAttributeNS(null,"d")+S:(f.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(f.path)),f.path.setAttributeNS(null,"d",S),f.path.setAttributeNS(null,"fill","none"),f.element=f.path,f.setCurrentPoint(w,u)}endPath(){const i=this.current;if(i.path=null,!this.pendingClip)return;if(!i.element)return void(this.pendingClip=null);const n="clippath"+k++,f=this.svgFactory.createElement("svg:clipPath");f.setAttributeNS(null,"id",n),f.setAttributeNS(null,"transform",M(this.transformMatrix));const w=i.element.cloneNode(!0);if(w.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,f.appendChild(w),this.defs.appendChild(f),i.activeClipUrl){i.clipGroup=null;for(const u of this.extraStack)u.clipGroup=null;f.setAttributeNS(null,"clip-path",i.activeClipUrl)}i.activeClipUrl=`url(#${n})`,this.tgrp=null}clip(i){this.pendingClip=i}closePath(){const i=this.current;if(i.path){const n=`${i.path.getAttributeNS(null,"d")}Z`;i.path.setAttributeNS(null,"d",n)}}setLeading(i){this.current.leading=-i}setTextRise(i){this.current.textRise=i}setTextRenderingMode(i){this.current.textRenderingMode=i}setHScale(i){this.current.textHScale=i/100}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[n,f]of i)switch(n){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f);break;case"CA":this.setStrokeAlpha(f);break;case"ca":this.setFillAlpha(f);break;default:(0,r.warn)(`Unimplemented graphic state operator ${n}`)}}fill(){const i=this.current;i.element&&(i.element.setAttributeNS(null,"fill",i.fillColor),i.element.setAttributeNS(null,"fill-opacity",i.fillAlpha),this.endPath())}stroke(){const i=this.current;i.element&&(this._setStrokeAttributes(i.element),i.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(i,n=1){const f=this.current;let w=f.dashArray;1!==n&&w.length>0&&(w=w.map(function(u){return n*u})),i.setAttributeNS(null,"stroke",f.strokeColor),i.setAttributeNS(null,"stroke-opacity",f.strokeAlpha),i.setAttributeNS(null,"stroke-miterlimit",b(f.miterLimit)),i.setAttributeNS(null,"stroke-linecap",f.lineCap),i.setAttributeNS(null,"stroke-linejoin",f.lineJoin),i.setAttributeNS(null,"stroke-width",b(n*f.lineWidth)+"px"),i.setAttributeNS(null,"stroke-dasharray",w.map(b).join(" ")),i.setAttributeNS(null,"stroke-dashoffset",b(n*f.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width","1px"),i.setAttributeNS(null,"height","1px"),i.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(i)}paintImageXObject(i){const n=i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i);n?this.paintInlineImageXObject(n):(0,r.warn)(`Dependent image with object ID ${i} is not ready yet`)}paintInlineImageXObject(i,n){const f=i.width,w=i.height,u=O(i,this.forceDataSchema,!!n),S=this.svgFactory.createElement("svg:rect");S.setAttributeNS(null,"x","0"),S.setAttributeNS(null,"y","0"),S.setAttributeNS(null,"width",b(f)),S.setAttributeNS(null,"height",b(w)),this.current.element=S,this.clip("nonzero");const g=this.svgFactory.createElement("svg:image");g.setAttributeNS(e,"xlink:href",u),g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y",b(-w)),g.setAttributeNS(null,"width",b(f)+"px"),g.setAttributeNS(null,"height",b(w)+"px"),g.setAttributeNS(null,"transform",`scale(${b(1/f)} ${b(-1/w)})`),n?n.appendChild(g):this._ensureTransformGroup().appendChild(g)}paintImageMaskXObject(i){const n=this.current,f=i.width,w=i.height,u=n.fillColor;n.maskId="mask"+P++;const S=this.svgFactory.createElement("svg:mask");S.setAttributeNS(null,"id",n.maskId);const g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width",b(f)),g.setAttributeNS(null,"height",b(w)),g.setAttributeNS(null,"fill",u),g.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.appendChild(S),this._ensureTransformGroup().appendChild(g),this.paintInlineImageXObject(i,S)}paintFormXObjectBegin(i,n){if(Array.isArray(i)&&6===i.length&&this.transform(i[0],i[1],i[2],i[3],i[4],i[5]),n){const f=n[2]-n[0],w=n[3]-n[1],u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x",n[0]),u.setAttributeNS(null,"y",n[1]),u.setAttributeNS(null,"width",b(f)),u.setAttributeNS(null,"height",b(w)),this.current.element=u,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(i){const n=this.svgFactory.create(i.width,i.height),f=this.svgFactory.createElement("svg:defs");n.appendChild(f),this.defs=f;const w=this.svgFactory.createElement("svg:g");return w.setAttributeNS(null,"transform",M(i.transform)),n.appendChild(w),this.svg=w,n}_ensureClipGroup(){if(!this.current.clipGroup){const i=this.svgFactory.createElement("svg:g");i.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(i),this.current.clipGroup=i}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",M(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var r=E(1),I=E(24);const N=__webpack_require__(172),K=__webpack_require__(2001),B=__webpack_require__(3779),R=__webpack_require__(6558),e=/^file:\/\/\/[a-zA-Z]:\//;o.PDFNodeStream=class H{constructor(x){this.source=x,this.url=function U(P){const x=R.parse(P);return"file:"===x.protocol||x.host?x:/^[a-z]:[/\\]/i.test(P)?R.parse(`file:///${P}`):(x.host||(x.protocol="file:"),x)}(x.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&x.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new M(this):new m(this),this._fullRequestReader}getRangeReader(x,i){if(i<=this._progressiveDataLength)return null;const n=this.isFsUrl?new k(this,x,i):new b(this,x,i);return this._rangeRequestReaders.push(n),n}cancelAllRequests(x){this._fullRequestReader&&this._fullRequestReader.cancel(x);for(const i of this._rangeRequestReaders.slice(0))i.cancel(x)}};class j{constructor(x){this._url=x.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=x.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var x=this;return _asyncToGenerator(function*(){if(yield x._readCapability.promise,x._done)return{value:void 0,done:!0};if(x._storedError)throw x._storedError;const i=x._readableStream.read();return null===i?(x._readCapability=(0,r.createPromiseCapability)(),x.read()):(x._loaded+=i.length,x.onProgress&&x.onProgress({loaded:x._loaded,total:x._contentLength}),{value:new Uint8Array(i).buffer,done:!1})})()}cancel(x){this._readableStream?this._readableStream.destroy(x):this._error(x)}_error(x){this._storedError=x,this._readCapability.resolve()}_setReadableStream(x){this._readableStream=x,x.on("readable",()=>{this._readCapability.resolve()}),x.on("end",()=>{x.destroy(),this._done=!0,this._readCapability.resolve()}),x.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class O{constructor(x){this._url=x.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!x.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var x=this;return _asyncToGenerator(function*(){if(yield x._readCapability.promise,x._done)return{value:void 0,done:!0};if(x._storedError)throw x._storedError;const i=x._readableStream.read();return null===i?(x._readCapability=(0,r.createPromiseCapability)(),x.read()):(x._loaded+=i.length,x.onProgress&&x.onProgress({loaded:x._loaded}),{value:new Uint8Array(i).buffer,done:!1})})()}cancel(x){this._readableStream?this._readableStream.destroy(x):this._error(x)}_error(x){this._storedError=x,this._readCapability.resolve()}_setReadableStream(x){this._readableStream=x,x.on("readable",()=>{this._readCapability.resolve()}),x.on("end",()=>{x.destroy(),this._done=!0,this._readCapability.resolve()}),x.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function V(P,x){return{protocol:P.protocol,auth:P.auth,host:P.hostname,port:P.port,path:P.path,method:"GET",headers:x}}class m extends j{constructor(x){super(x);const i=n=>{if(404===n.statusCode){const S=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=S,void this._headersCapability.reject(S)}this._headersCapability.resolve(),this._setReadableStream(n);const f=S=>this._readableStream.headers[S.toLowerCase()],{allowRangeRequests:w,suggestedLength:u}=(0,I.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:x.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=w,this._contentLength=u||this._contentLength,this._filename=(0,I.extractFilenameFromHeader)(f)};this._request=null,this._request="http:"===this._url.protocol?K.request(V(this._url,x.httpHeaders),i):B.request(V(this._url,x.httpHeaders),i),this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class b extends O{constructor(x,i,n){super(x),this._httpHeaders={};for(const w in x.httpHeaders){const u=x.httpHeaders[w];typeof u>"u"||(this._httpHeaders[w]=u)}this._httpHeaders.Range=`bytes=${i}-${n-1}`;const f=w=>{if(404!==w.statusCode)this._setReadableStream(w);else{const u=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=u}};this._request=null,this._request="http:"===this._url.protocol?K.request(V(this._url,this._httpHeaders),f):B.request(V(this._url,this._httpHeaders),f),this._request.on("error",w=>{this._storedError=w}),this._request.end()}}class M extends j{constructor(x){super(x);let i=decodeURIComponent(this._url.path);e.test(this._url.href)&&(i=i.replace(/^\//,"")),N.lstat(i,(n,f)=>{if(n)return"ENOENT"===n.code&&(n=new r.MissingPDFException(`Missing PDF "${i}".`)),this._storedError=n,void this._headersCapability.reject(n);this._contentLength=f.size,this._setReadableStream(N.createReadStream(i)),this._headersCapability.resolve()})}}class k extends O{constructor(x,i,n){super(x);let f=decodeURIComponent(this._url.path);e.test(this._url.href)&&(f=f.replace(/^\//,"")),this._setReadableStream(N.createReadStream(f,{start:i,end:n-1}))}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=function R(U,H){return 404===U||0===U&&H.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+H+'".'):new r.UnexpectedResponseException(`Unexpected server response (${U}) while retrieving PDF "${H}".`,U)},o.extractFilenameFromHeader=function B(U){const H=U("Content-Disposition");if(H){let j=(0,I.getFilenameFromContentDispositionHeader)(H);if(j.includes("%"))try{j=decodeURIComponent(j)}catch{}if((0,N.isPdfFile)(j))return j}return null},o.validateRangeRequestCapabilities=function K({getResponseHeader:U,isHttp:H,rangeChunkSize:j,disableRange:O}){(0,r.assert)(j>0,"Range chunk size must be larger than zero");const V={allowRangeRequests:!1,suggestedLength:void 0},m=parseInt(U("Content-Length"),10);return!Number.isInteger(m)||(V.suggestedLength=m,m<=2*j)||O||!H||"bytes"!==U("Accept-Ranges")||"identity"!==(U("Content-Encoding")||"identity")||(V.allowRangeRequests=!0),V},o.validateResponseStatus=function e(U){return 200===U||206===U};var r=E(1),I=E(25),N=E(5)},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=function I(N){let K=!0,B=R("filename\\*","i").exec(N);if(B){B=B[1];let m=j(B);return m=unescape(m),m=O(m),m=V(m),U(m)}if(B=function H(m){const b=[];let M;const k=R("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(M=k.exec(m));){let[,x,i,n]=M;if(x=parseInt(x,10),x in b){if(0===x)break}else b[x]=[i,n]}const P=[];for(let x=0;x<b.length&&x in b;++x){let[i,n]=b[x];n=j(n),i&&(n=unescape(n),0===x&&(n=O(n))),P.push(n)}return P.join("")}(N),B)return U(V(B));if(B=R("filename","i").exec(N),B){B=B[1];let m=j(B);return m=V(m),U(m)}function R(m,b){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function e(m,b){if(m){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const M=new TextDecoder(m,{fatal:!0}),k=(0,r.stringToBytes)(b);b=M.decode(k),K=!1}catch{}}return b}function U(m){return K&&/[\x80-\xff]/.test(m)&&(m=e("utf-8",m),K&&(m=e("iso-8859-1",m))),m}function j(m){if(m.startsWith('"')){const b=m.slice(1).split('\\"');for(let M=0;M<b.length;++M){const k=b[M].indexOf('"');-1!==k&&(b[M]=b[M].slice(0,k),b.length=M+1),b[M]=b[M].replace(/\\(.)/g,"$1")}m=b.join('"')}return m}function O(m){const b=m.indexOf("'");return-1===b?m:e(m.slice(0,b),m.slice(b+1).replace(/^[^']*'/,""))}function V(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,M,k,P){if("q"===k||"Q"===k)return e(M,P=(P=P.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(x,i){return String.fromCharCode(parseInt(i,16))}));try{P=atob(P)}catch{}return e(M,P)})}return""};var r=E(1)},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var r=E(1),I=E(24);class R{constructor(O,V={}){this.url=O,this.isHttp=/^https?:/i.test(O),this.httpHeaders=this.isHttp&&V.httpHeaders||Object.create(null),this.withCredentials=V.withCredentials||!1,this.getXhr=V.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(O,V,m){const b={begin:O,end:V};for(const M in m)b[M]=m[M];return this.request(b)}requestFull(O){return this.request(O)}request(O){const V=this.getXhr(),m=this.currXhrId++,b=this.pendingRequests[m]={xhr:V};V.open("GET",this.url),V.withCredentials=this.withCredentials;for(const M in this.httpHeaders){const k=this.httpHeaders[M];typeof k>"u"||V.setRequestHeader(M,k)}return this.isHttp&&"begin"in O&&"end"in O?(V.setRequestHeader("Range",`bytes=${O.begin}-${O.end-1}`),b.expectedStatus=206):b.expectedStatus=200,V.responseType="arraybuffer",O.onError&&(V.onerror=function(M){O.onError(V.status)}),V.onreadystatechange=this.onStateChange.bind(this,m),V.onprogress=this.onProgress.bind(this,m),b.onHeadersReceived=O.onHeadersReceived,b.onDone=O.onDone,b.onError=O.onError,b.onProgress=O.onProgress,V.send(null),m}onProgress(O,V){const m=this.pendingRequests[O];!m||m.onProgress?.(V)}onStateChange(O,V){const m=this.pendingRequests[O];if(!m)return;const b=m.xhr;if(b.readyState>=2&&m.onHeadersReceived&&(m.onHeadersReceived(),delete m.onHeadersReceived),4!==b.readyState||!(O in this.pendingRequests))return;if(delete this.pendingRequests[O],0===b.status&&this.isHttp)return void m.onError?.(b.status);const M=b.status||200;if((200!==M||206!==m.expectedStatus)&&M!==m.expectedStatus)return void m.onError?.(b.status);const P=function B(j){const O=j.response;return"string"!=typeof O?O:(0,r.stringToBytes)(O).buffer}(b);if(206===M){const x=b.getResponseHeader("Content-Range"),i=/bytes (\d+)-(\d+)\/(\d+)/.exec(x);m.onDone({begin:parseInt(i[1],10),chunk:P})}else P?m.onDone({begin:0,chunk:P}):m.onError?.(b.status)}getRequestXhr(O){return this.pendingRequests[O].xhr}isPendingRequest(O){return O in this.pendingRequests}abortRequest(O){const V=this.pendingRequests[O].xhr;delete this.pendingRequests[O],V.abort()}}o.PDFNetworkStream=class e{constructor(O){this._source=O,this._manager=new R(O.url,{httpHeaders:O.httpHeaders,withCredentials:O.withCredentials}),this._rangeChunkSize=O.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(O){const V=this._rangeRequestReaders.indexOf(O);V>=0&&this._rangeRequestReaders.splice(V,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new U(this._manager,this._source),this._fullRequestReader}getRangeReader(O,V){const m=new H(this._manager,O,V);return m.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(m),m}cancelAllRequests(O){this._fullRequestReader?.cancel(O);for(const V of this._rangeRequestReaders.slice(0))V.cancel(O)}};class U{constructor(O,V){this._manager=O;const m={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=V.url,this._fullRequestId=O.requestFull(m),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=V.disableRange||!1,this._contentLength=V.length,this._rangeChunkSize=V.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const O=this._fullRequestId,V=this._manager.getRequestXhr(O),m=k=>V.getResponseHeader(k),{allowRangeRequests:b,suggestedLength:M}=(0,I.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});b&&(this._isRangeSupported=!0),this._contentLength=M||this._contentLength,this._filename=(0,I.extractFilenameFromHeader)(m),this._isRangeSupported&&this._manager.abortRequest(O),this._headersReceivedCapability.resolve()}_onDone(O){if(O&&(this._requests.length>0?this._requests.shift().resolve({value:O.chunk,done:!1}):this._cachedChunks.push(O.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(O){this._storedError=(0,I.createResponseStatusError)(O,this._url),this._headersReceivedCapability.reject(this._storedError);for(const V of this._requests)V.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(O){this.onProgress?.({loaded:O.loaded,total:O.lengthComputable?O.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var O=this;return _asyncToGenerator(function*(){if(O._storedError)throw O._storedError;if(O._cachedChunks.length>0)return{value:O._cachedChunks.shift(),done:!1};if(O._done)return{value:void 0,done:!0};const V=(0,r.createPromiseCapability)();return O._requests.push(V),V.promise})()}cancel(O){this._done=!0,this._headersReceivedCapability.reject(O);for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class H{constructor(O,V,m){this._manager=O;const b={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=O.url,this._requestId=O.requestRange(V,m,b),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(O){const V=O.chunk;this._requests.length>0?this._requests.shift().resolve({value:V,done:!1}):this._queuedChunk=V,this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(O){this._storedError=(0,I.createResponseStatusError)(O,this._url);for(const V of this._requests)V.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(O){this.isStreamingSupported||this.onProgress?.({loaded:O.loaded})}get isStreamingSupported(){return!1}read(){var O=this;return _asyncToGenerator(function*(){if(O._storedError)throw O._storedError;if(null!==O._queuedChunk){const m=O._queuedChunk;return O._queuedChunk=null,{value:m,done:!1}}if(O._done)return{value:void 0,done:!0};const V=(0,r.createPromiseCapability)();return O._requests.push(V),V.promise})()}cancel(O){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Q,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var r=E(1),I=E(24);function N(U,H,j){return{method:"GET",headers:U,signal:j?.signal,mode:"cors",credentials:H?"include":"same-origin",redirect:"follow"}}function K(U){const H=new Headers;for(const j in U){const O=U[j];typeof O>"u"||H.append(j,O)}return H}o.PDFFetchStream=class B{constructor(H){this.source=H,this.isHttp=/^https?:/i.test(H.url),this.httpHeaders=this.isHttp&&H.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new R(this),this._fullRequestReader}getRangeReader(H,j){if(j<=this._progressiveDataLength)return null;const O=new e(this,H,j);return this._rangeRequestReaders.push(O),O}cancelAllRequests(H){this._fullRequestReader&&this._fullRequestReader.cancel(H);for(const j of this._rangeRequestReaders.slice(0))j.cancel(H)}};class R{constructor(H){this._stream=H,this._reader=null,this._loaded=0,this._filename=null;const j=H.source;this._withCredentials=j.withCredentials||!1,this._contentLength=j.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=j.disableRange||!1,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!j.disableStream,this._isRangeSupported=!j.disableRange,this._headers=K(this._stream.httpHeaders);const O=j.url;fetch(O,N(this._headers,this._withCredentials,this._abortController)).then(V=>{if(!(0,I.validateResponseStatus)(V.status))throw(0,I.createResponseStatusError)(V.status,O);this._reader=V.body.getReader(),this._headersCapability.resolve();const m=k=>V.headers.get(k),{allowRangeRequests:b,suggestedLength:M}=(0,I.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=M||this._contentLength,this._filename=(0,I.extractFilenameFromHeader)(m),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var H=this;return _asyncToGenerator(function*(){yield H._headersCapability.promise;const{value:j,done:O}=yield H._reader.read();return O?{value:j,done:O}:(H._loaded+=j.byteLength,H.onProgress&&H.onProgress({loaded:H._loaded,total:H._contentLength}),{value:new Uint8Array(j).buffer,done:!1})})()}cancel(H){this._reader&&this._reader.cancel(H),this._abortController&&this._abortController.abort()}}class e{constructor(H,j,O){this._stream=H,this._reader=null,this._loaded=0;const V=H.source;this._withCredentials=V.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!V.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=K(this._stream.httpHeaders),this._headers.append("Range",`bytes=${j}-${O-1}`);const m=V.url;fetch(m,N(this._headers,this._withCredentials,this._abortController)).then(b=>{if(!(0,I.validateResponseStatus)(b.status))throw(0,I.createResponseStatusError)(b.status,m);this._readCapability.resolve(),this._reader=b.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var H=this;return _asyncToGenerator(function*(){yield H._readCapability.promise;const{value:j,done:O}=yield H._reader.read();return O?{value:j,done:O}:(H._loaded+=j.byteLength,H.onProgress&&H.onProgress({loaded:H._loaded}),{value:new Uint8Array(j).buffer,done:!1})})()}cancel(H){this._reader&&this._reader.cancel(H),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Q){var o=__webpack_module_cache__[Q];if(void 0!==o)return o.exports;var E=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](E,E.exports,__w_pdfjs_require__),E.exports}var __webpack_exports__={};return(()=>{var Q=__webpack_exports__;Object.defineProperty(Q,"__esModule",{value:!0}),Object.defineProperty(Q,"AnnotationLayer",{enumerable:!0,get:function(){return I.AnnotationLayer}}),Object.defineProperty(Q,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(Q,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(Q,"GlobalWorkerOptions",{enumerable:!0,get:function(){return N.GlobalWorkerOptions}}),Object.defineProperty(Q,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(Q,"LoopbackPort",{enumerable:!0,get:function(){return E.LoopbackPort}}),Object.defineProperty(Q,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(Q,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(Q,"PDFDataRangeTransport",{enumerable:!0,get:function(){return E.PDFDataRangeTransport}}),Object.defineProperty(Q,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(Q,"PDFWorker",{enumerable:!0,get:function(){return E.PDFWorker}}),Object.defineProperty(Q,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(Q,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(Q,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(Q,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(Q,"SVGGraphics",{enumerable:!0,get:function(){return R.SVGGraphics}}),Object.defineProperty(Q,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return o.UNSUPPORTED_FEATURES}}),Object.defineProperty(Q,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(Q,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(Q,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(Q,"XfaLayer",{enumerable:!0,get:function(){return e.XfaLayer}}),Object.defineProperty(Q,"build",{enumerable:!0,get:function(){return E.build}}),Object.defineProperty(Q,"createPromiseCapability",{enumerable:!0,get:function(){return o.createPromiseCapability}}),Object.defineProperty(Q,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(Q,"getDocument",{enumerable:!0,get:function(){return E.getDocument}}),Object.defineProperty(Q,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(Q,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(Q,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(Q,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(Q,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(Q,"renderTextLayer",{enumerable:!0,get:function(){return B.renderTextLayer}}),Object.defineProperty(Q,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(Q,"version",{enumerable:!0,get:function(){return E.version}});var o=__w_pdfjs_require__(1),E=__w_pdfjs_require__(4),r=__w_pdfjs_require__(5),I=__w_pdfjs_require__(18),N=__w_pdfjs_require__(12),K=__w_pdfjs_require__(3),B=__w_pdfjs_require__(21),R=__w_pdfjs_require__(22),e=__w_pdfjs_require__(20);if(K.isNodeJS){const{PDFNodeStream:j}=__w_pdfjs_require__(23);(0,E.setPDFNetworkStreamFactory)(O=>new j(O))}else{const{PDFNetworkStream:j}=__w_pdfjs_require__(26),{PDFFetchStream:O}=__w_pdfjs_require__(27);(0,E.setPDFNetworkStreamFactory)(V=>(0,r.isValidFetchUrl)(V.url)?new O(V):new j(V))}})(),__webpack_exports__})()},module.exports=E()},2813:function(Q,o,E){var r=E(5962).default,I=E(3448).default,N=E(3606).default,K=E(9393).default,B=E(4877).default,R=E(1226).default,e=E(8926).default;Q.exports=(()=>{"use strict";var U=[,(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DefaultXfaLayerFactory=m.DefaultTextLayerFactory=m.DefaultStructTreeLayerFactory=m.DefaultAnnotationLayerFactory=void 0;var M=b(2),k=b(4),P=b(5),x=b(7),i=b(8),n=b(9);m.DefaultAnnotationLayerFactory=class f{createAnnotationLayerBuilder(d,L,F=null,D="",G=!0,z=k.NullL10n,ee=!1,C=null,l=null,s=null,_=null){return new M.AnnotationLayerBuilder({pageDiv:d,pdfPage:L,imageResourcesPath:D,renderForms:G,linkService:new P.SimpleLinkService,l10n:z,annotationStorage:F,enableScripting:ee,hasJSActionsPromise:C,fieldObjectsPromise:s,mouseState:l,annotationCanvasMap:_})}};m.DefaultStructTreeLayerFactory=class w{createStructTreeLayerBuilder(d){return new x.StructTreeLayerBuilder({pdfPage:d})}};m.DefaultTextLayerFactory=class u{createTextLayerBuilder(d,L,F,D=!1,G,z){return new i.TextLayerBuilder({textLayerDiv:d,pageIndex:L,viewport:F,enhanceTextSelection:D,eventBus:G,highlighter:z})}};m.DefaultXfaLayerFactory=class S{createXfaLayerBuilder(d,L,F=null,D=null){return new n.XfaLayerBuilder({pageDiv:d,pdfPage:L,annotationStorage:F,linkService:new P.SimpleLinkService,xfaHtml:D})}}},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationLayerBuilder=void 0;var M=b(3),k=b(4);m.AnnotationLayerBuilder=class P{constructor({pageDiv:i,pdfPage:n,linkService:f,downloadManager:w,annotationStorage:u=null,imageResourcesPath:S="",renderForms:g=!0,l10n:d=k.NullL10n,enableScripting:L=!1,hasJSActionsPromise:F=null,fieldObjectsPromise:D=null,mouseState:G=null,annotationCanvasMap:z=null}){this.pageDiv=i,this.pdfPage=n,this.linkService=f,this.downloadManager=w,this.imageResourcesPath=S,this.renderForms=g,this.l10n=d,this.annotationStorage=u,this.enableScripting=L,this._hasJSActionsPromise=F,this._fieldObjectsPromise=D,this._mouseState=G,this._annotationCanvasMap=z,this.div=null,this._cancelled=!1}render(i,n="display"){var f=this;return e(function*(){const[w,u=!1,S=null]=yield Promise.all([f.pdfPage.getAnnotations({intent:n}),f._hasJSActionsPromise,f._fieldObjectsPromise]);if(f._cancelled||0===w.length)return;const g={viewport:i.clone({dontFlip:!0}),div:f.div,annotations:w,page:f.pdfPage,imageResourcesPath:f.imageResourcesPath,renderForms:f.renderForms,linkService:f.linkService,downloadManager:f.downloadManager,annotationStorage:f.annotationStorage,enableScripting:f.enableScripting,hasJSActions:u,fieldObjects:S,mouseState:f._mouseState,annotationCanvasMap:f._annotationCanvasMap};f.div?M.AnnotationLayer.update(g):(f.div=document.createElement("div"),f.div.className="annotationLayer",f.pageDiv.appendChild(f.div),g.div=f.div,M.AnnotationLayer.render(g),f.l10n.translate(f.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},V=>{let m;m=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:E(6036),V.exports=m},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NullL10n=void 0,m.fixupLangCode=function P(n){return k[n?.toLowerCase()]||n},m.getL10nFallback=M;const b={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function M(n,f){switch(n){case"find_match_count":n=`find_match_count[${1===f.total?"one":"other"}]`;break;case"find_match_count_limit":n=`find_match_count_limit[${1===f.limit?"one":"other"}]`}return b[n]||""}const k={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};m.NullL10n={getLanguage:()=>e(function*(){return"en-us"})(),getDirection:()=>e(function*(){return"ltr"})(),get:(n,f=null,w=M(n,f))=>e(function*(){return function x(n,f){return f?n.replace(/\{\{\s*(\w+)\s*\}\}/g,(w,u)=>u in f?f[u]:"{{"+u+"}}"):n}(w,f)})(),translate:n=>e(function*(){})()}},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.SimpleLinkService=m.PDFLinkService=m.LinkTarget=void 0;var M=b(6);const P={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function x(g,{url:d,target:L,rel:F,enabled:D=!0}={}){if(!d||"string"!=typeof d)throw new Error('A valid "url" parameter must provided.');const G=(0,M.removeNullCharacters)(d);D?g.href=g.title=G:(g.href="",g.title=`Disabled: ${G}`,g.onclick=()=>!1);let z="";switch(L){case P.NONE:break;case P.SELF:z="_self";break;case P.BLANK:z="_blank";break;case P.PARENT:z="_parent";break;case P.TOP:z="_top"}g.target=z,g.rel="string"==typeof F?F:"noopener noreferrer nofollow"}m.LinkTarget=P;var i=new WeakMap,n=new WeakSet;class f{constructor({eventBus:d,externalLinkTarget:L=null,externalLinkRel:F=null,ignoreDestinationZoom:D=!1}={}){I(this,n),N(this,i,{writable:!0,value:new Map}),this.eventBus=d,this.externalLinkTarget=L,this.externalLinkRel=F,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=D,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(d,L=null){this.baseUrl=L,this.pdfDocument=d,R(this,i).clear()}setViewer(d){this.pdfViewer=d}setHistory(d){this.pdfHistory=d}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(d){this.pdfViewer.currentPageNumber=d}get rotation(){return this.pdfViewer.pagesRotation}set rotation(d){this.pdfViewer.pagesRotation=d}goToDestination(d){var L=this;return e(function*(){if(!L.pdfDocument)return;let F,D;"string"==typeof d?(F=d,D=yield L.pdfDocument.getDestination(d)):(F=null,D=yield d),Array.isArray(D)?B(L,n,w).call(L,d,F,D):console.error(`PDFLinkService.goToDestination: "${D}" is not a valid destination array, for dest="${d}".`)})()}goToPage(d){if(!this.pdfDocument)return;const L="string"==typeof d&&this.pdfViewer.pageLabelToPageNumber(d)||0|d;Number.isInteger(L)&&L>0&&L<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(L)),this.pdfViewer.scrollPageIntoView({pageNumber:L})):console.error(`PDFLinkService.goToPage: "${d}" is not a valid page.`)}addLinkAttributes(d,L,F=!1){x(d,{url:L,target:F?P.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(d){if("string"==typeof d){if(d.length>0)return this.getAnchorUrl("#"+escape(d))}else if(Array.isArray(d)){const L=JSON.stringify(d);if(L.length>0)return this.getAnchorUrl("#"+escape(L))}return this.getAnchorUrl("")}getAnchorUrl(d){return(this.baseUrl||"")+d}setHash(d){if(!this.pdfDocument)return;let L,F;if(d.includes("=")){const D=(0,M.parseQueryString)(d);if(D.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:D.get("search").replace(/"/g,""),phraseSearch:"true"===D.get("phrase")}),D.has("page")&&(L=0|D.get("page")||1),D.has("zoom")){const G=D.get("zoom").split(","),z=G[0],ee=parseFloat(z);z.includes("Fit")?"Fit"===z||"FitB"===z?F=[null,{name:z}]:"FitH"===z||"FitBH"===z||"FitV"===z||"FitBV"===z?F=[null,{name:z},G.length>1?0|G[1]:null]:"FitR"===z?5!==G.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):F=[null,{name:z},0|G[1],0|G[2],0|G[3],0|G[4]]:console.error(`PDFLinkService.setHash: "${z}" is not a valid zoom value.`):F=[null,{name:"XYZ"},G.length>1?0|G[1]:null,G.length>2?0|G[2]:null,ee?ee/100:z]}F?this.pdfViewer.scrollPageIntoView({pageNumber:L||this.page,destArray:F,allowNegativeOffset:!0}):L&&(this.page=L),D.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:D.get("pagemode")}),D.has("nameddest")&&this.goToDestination(D.get("nameddest"))}else{F=unescape(d);try{F=JSON.parse(F),Array.isArray(F)||(F=F.toString())}catch{}if("string"==typeof F||K(f,f,u).call(f,F))return void this.goToDestination(F);console.error(`PDFLinkService.setHash: "${unescape(d)}" is not a valid destination.`)}}executeNamedAction(d){switch(d){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:d})}cachePageRef(d,L){if(!L)return;const F=0===L.gen?`${L.num}R`:`${L.num}R${L.gen}`;R(this,i).set(F,d)}_cachedPageNumber(d){if(!d)return null;const L=0===d.gen?`${d.num}R`:`${d.num}R${d.gen}`;return R(this,i).get(L)||null}isPageVisible(d){return this.pdfViewer.isPageVisible(d)}isPageCached(d){return this.pdfViewer.isPageCached(d)}}function w(g,d=null,L){const F=L[0];let D;if("object"==typeof F&&null!==F){if(D=this._cachedPageNumber(F),!D)return void this.pdfDocument.getPageIndex(F).then(G=>{this.cachePageRef(G+1,F),B(this,n,w).call(this,g,d,L)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page reference, for dest="${g}".`)})}else{if(!Number.isInteger(F))return void console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid destination reference, for dest="${g}".`);D=F+1}!D||D<1||D>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${D}" is not a valid page number, for dest="${g}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:d,explicitDest:L,pageNumber:D})),this.pdfViewer.scrollPageIntoView({pageNumber:D,destArray:L,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function u(g){if(!Array.isArray(g))return!1;const d=g.length;if(d<2)return!1;const L=g[0];if(!("object"==typeof L&&Number.isInteger(L.num)&&Number.isInteger(L.gen)||Number.isInteger(L)&&L>=0))return!1;const F=g[1];if("object"!=typeof F||"string"!=typeof F.name)return!1;let D=!0;switch(F.name){case"XYZ":if(5!==d)return!1;break;case"Fit":case"FitB":return 2===d;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==d)return!1;break;case"FitR":if(6!==d)return!1;D=!1;break;default:return!1}for(let G=2;G<d;G++){const z=g[G];if(!("number"==typeof z||D&&null===z))return!1}return!0}m.PDFLinkService=f;m.SimpleLinkService=class S{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(d){}get rotation(){return 0}set rotation(d){}goToDestination(d){return e(function*(){})()}goToPage(d){}addLinkAttributes(d,L,F=!1){x(d,{url:L,enabled:this.externalLinkEnabled})}getDestinationHash(d){return"#"}getAnchorUrl(d){return"#"}setHash(d){}executeNamedAction(d){}cachePageRef(d,L){}isPageVisible(d){return!0}isPageCached(d){return!0}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.animationStarted=m.VERTICAL_PADDING=m.UNKNOWN_SCALE=m.TextLayerMode=m.SpreadMode=m.SidebarView=m.ScrollMode=m.SCROLLBAR_PADDING=m.RenderingStates=m.RendererType=m.ProgressBar=m.PresentationModeState=m.OutputScale=m.MIN_SCALE=m.MAX_SCALE=m.MAX_AUTO_SCALE=m.DEFAULT_SCALE_VALUE=m.DEFAULT_SCALE_DELTA=m.DEFAULT_SCALE=m.AutoPrintRegExp=void 0,m.apiPageLayoutToViewerModes=function me(ie){let y=D.VERTICAL,q=G.NONE;switch(ie){case"SinglePage":y=D.PAGE;break;case"OneColumn":break;case"TwoPageLeft":y=D.PAGE;case"TwoColumnLeft":q=G.ODD;break;case"TwoPageRight":y=D.PAGE;case"TwoColumnRight":q=G.EVEN}return{scrollMode:y,spreadMode:q}},m.apiPageModeToSidebarView=function Oe(ie){switch(ie){case"UseNone":return d.NONE;case"UseThumbs":return d.THUMBS;case"UseOutlines":return d.OUTLINE;case"UseAttachments":return d.ATTACHMENTS;case"UseOC":return d.LAYERS}return d.NONE},m.approximateFraction=function p(ie){if(Math.floor(ie)===ie)return[ie,1];const y=1/ie;if(y>8)return[1,8];if(Math.floor(y)===y)return[1,y];const ne=ie>1?y:ie;let be,ce=0,le=1,fe=1,he=1;for(;;){const Ce=ce+fe,Re=le+he;if(Re>8)break;ne<=Ce/Re?(fe=Ce,he=Re):(ce=Ce,le=Re)}return be=ne-ce/le<fe/he-ne?ne===ie?[ce,le]:[le,ce]:ne===ie?[fe,he]:[he,fe],be},m.backtrackBeforeAllVisibleElements=h,m.binarySearchFirstItem=a,m.getActiveOrFocusedElement=function ve(){let ie=document,y=ie.activeElement||ie.querySelector(":focus");for(;y?.shadowRoot;)ie=y.shadowRoot,y=ie.activeElement||ie.querySelector(":focus");return y},m.getPageSizeInches=function v({view:ie,userUnit:y,rotate:q}){const[ne,ce,le,fe]=ie,he=q%180!=0,be=(le-ne)/72*y,Ce=(fe-ce)/72*y;return{width:he?Ce:be,height:he?be:Ce}},m.getVisibleElements=function W({scrollEl:ie,views:y,sortByVisibility:q=!1,horizontal:ne=!1,rtl:ce=!1}){const le=ie.scrollTop,fe=le+ie.clientHeight,he=ie.scrollLeft,be=he+ie.clientWidth;const ae=[],te=new Set,re=y.length;let ye=a(y,ne?function Re(Me){const ke=Me.div,Le=ke.offsetLeft+ke.clientLeft;return ce?Le<be:Le+ke.clientWidth>he}:function Ce(Me){const ke=Me.div;return ke.offsetTop+ke.clientTop+ke.clientHeight>le});ye>0&&ye<re&&!ne&&(ye=h(ye,y,le));let Pe=ne?be:-1;for(let Me=ye;Me<re;Me++){const ke=y[Me],Le=ke.div,Fe=Le.offsetLeft+Le.clientLeft,Be=Le.offsetTop+Le.clientTop,Ue=Le.clientWidth,je=Le.clientHeight,Ie=Fe+Ue,Ve=Be+je;if(-1===Pe)Ve>=fe&&(Pe=Ve);else if((ne?Fe:Be)>Pe)break;if(Ve<=le||Be>=fe||Ie<=he||Fe>=be)continue;const Ge=Math.max(0,le-Be)+Math.max(0,Ve-fe),We=(Ue-(Math.max(0,he-Fe)+Math.max(0,Ie-be)))/Ue;ae.push({id:ke.id,x:Fe,y:Be,view:ke,percent:(je-Ge)/je*We*100|0,widthPercent:100*We|0}),te.add(ke.id)}const xe=ae[0],Se=ae[ae.length-1];return q&&ae.sort(function(Me,ke){const Le=Me.percent-ke.percent;return Math.abs(Le)>.001?-Le:Me.id-ke.id}),{first:xe,last:Se,views:ae,ids:te}},m.isPortraitOrientation=function Ae(ie){return ie.width<=ie.height},m.isValidRotation=function oe(ie){return Number.isInteger(ie)&&ie%90==0},m.isValidScrollMode=function ue(ie){return Number.isInteger(ie)&&Object.values(D).includes(ie)&&ie!==D.UNKNOWN},m.isValidSpreadMode=function ge(ie){return Number.isInteger(ie)&&Object.values(G).includes(ie)&&ie!==G.UNKNOWN},m.noContextMenuHandler=function $(ie){ie.preventDefault()},m.normalizeWheelEventDelta=function J(ie){let y=X(ie);return 0===ie.deltaMode?y/=900:1===ie.deltaMode&&(y/=30),y},m.normalizeWheelEventDirection=X,m.parseQueryString=function s(ie){const y=new Map;for(const[q,ne]of new URLSearchParams(ie))y.set(q.toLowerCase(),ne);return y},m.removeNullCharacters=function t(ie,y=!1){return"string"!=typeof ie?(console.error("The argument must be a string."),ie):(y&&(ie=ie.replace(c," ")),ie.replace(_,""))},m.roundToDivide=function T(ie,y){const q=ie%y;return 0===q?ie:Math.round(ie-q+y)},m.scrollIntoView=function C(ie,y,q=!1){let ne=ie.offsetParent;if(!ne)return void console.error("offsetParent is not set -- cannot scroll");let ce=ie.offsetTop+ie.clientTop,le=ie.offsetLeft+ie.clientLeft;for(;ne.clientHeight===ne.scrollHeight&&ne.clientWidth===ne.scrollWidth||q&&(ne.classList.contains("markedContent")||"hidden"===getComputedStyle(ne).overflow);)if(ce+=ne.offsetTop,le+=ne.offsetLeft,ne=ne.offsetParent,!ne)return;y&&(void 0!==y.top&&(ce+=y.top),void 0!==y.left&&(le+=y.left,ne.scrollLeft=le)),ne.scrollTop=ce},m.watchScroll=function l(ie,y){const q=function(le){ce||(ce=window.requestAnimationFrame(function(){ce=null;const he=ie.scrollLeft,be=ne.lastX;he!==be&&(ne.right=he>be),ne.lastX=he;const Ce=ie.scrollTop,Re=ne.lastY;Ce!==Re&&(ne.down=Ce>Re),ne.lastY=Ce,y(ne)}))},ne={right:!0,down:!0,lastX:ie.scrollLeft,lastY:ie.scrollTop,_eventHandler:q};let ce=null;return ie.addEventListener("scroll",q,!0),ne},m.DEFAULT_SCALE_VALUE="auto",m.DEFAULT_SCALE=1,m.DEFAULT_SCALE_DELTA=1.1,m.MIN_SCALE=.1,m.MAX_SCALE=10,m.UNKNOWN_SCALE=0,m.MAX_AUTO_SCALE=1.25,m.SCROLLBAR_PADDING=40,m.VERTICAL_PADDING=5;m.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},m.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const d={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};m.SidebarView=d,m.RendererType={CANVAS:"canvas",SVG:"svg"},m.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const D={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};m.ScrollMode=D;const G={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};m.SpreadMode=G,m.AutoPrintRegExp=/\bprint\s*\(/;m.OutputScale=class ee{constructor(){const y=window.devicePixelRatio||1;this.sx=y,this.sy=y}get scaled(){return 1!==this.sx||1!==this.sy}};const _=/\x00/g,c=/[\x01-\x1F]/g;function a(ie,y,q=0){let ne=q,ce=ie.length-1;if(ce<0||!y(ie[ce]))return ie.length;if(y(ie[ne]))return ne;for(;ne<ce;){const le=ne+ce>>1;y(ie[le])?ce=le:ne=le+1}return ne}function h(ie,y,q){if(ie<2)return ie;let ne=y[ie].div,ce=ne.offsetTop+ne.clientTop;ce>=q&&(ne=y[ie-1].div,ce=ne.offsetTop+ne.clientTop);for(let le=ie-2;le>=0&&(ne=y[le].div,!(ne.offsetTop+ne.clientTop+ne.clientHeight<=ce));--le)ie=le;return ie}function X(ie){let y=Math.hypot(ie.deltaX,ie.deltaY);const q=Math.atan2(ie.deltaY,ie.deltaX);return-.25*Math.PI<q&&q<.75*Math.PI&&(y=-y),y}const de=new Promise(function(ie){window.requestAnimationFrame(ie)});m.animationStarted=de;m.ProgressBar=class Te{constructor(y,{height:q,width:ne,units:ce}={}){this.visible=!0,this.div=document.querySelector(y+" .progress"),this.bar=this.div.parentNode,this.height=q||100,this.width=ne||100,this.units=ce||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(y){this._indeterminate=isNaN(y),this._percent=function we(ie,y,q){return Math.min(Math.max(ie,y),q)}(y,0,100),this._updateBar()}setWidth(y){if(!y)return;const ne=y.parentNode.offsetWidth-y.offsetWidth;ne>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${ne}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.StructTreeLayerBuilder=void 0;const b={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},M=/^H(\d+)$/;m.StructTreeLayerBuilder=class k{constructor({pdfPage:x}){this.pdfPage=x}render(x){return this._walk(x)}_setAttributes(x,i){void 0!==x.alt&&i.setAttribute("aria-label",x.alt),void 0!==x.id&&i.setAttribute("aria-owns",x.id),void 0!==x.lang&&i.setAttribute("lang",x.lang)}_walk(x){if(!x)return null;const i=document.createElement("span");if("role"in x){const{role:n}=x,f=n.match(M);f?(i.setAttribute("role","heading"),i.setAttribute("aria-level",f[1])):b[n]&&i.setAttribute("role",b[n])}if(this._setAttributes(x,i),x.children)if(1===x.children.length&&"id"in x.children[0])this._setAttributes(x.children[0],i);else for(const n of x.children)i.appendChild(this._walk(n));return i}}},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextLayerBuilder=void 0;var M=b(3);m.TextLayerBuilder=class P{constructor({textLayerDiv:i,eventBus:n,pageIndex:f,viewport:w,highlighter:u=null,enhanceTextSelection:S=!1}){this.textLayerDiv=i,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=f+1,this.viewport=w,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=u,this.enhanceTextSelection=S,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const i=document.createElement("div");i.className="endOfContent",this.textLayerDiv.appendChild(i)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(i=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const n=document.createDocumentFragment();this.textLayerRenderTask=(0,M.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:i,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(n),this._finishRendering(),this.highlighter?.enable()},function(f){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(i){this.cancel(),this.textContentStream=i}setTextContent(i){this.cancel(),this.textContent=i}_bindMouse(){const i=this.textLayerDiv;let n=null;i.addEventListener("mousedown",f=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));const w=i.querySelector(".endOfContent");if(!w)return;let u=f.target!==i;if(u=u&&"none"!==window.getComputedStyle(w).getPropertyValue("-moz-user-select"),u){const S=i.getBoundingClientRect(),g=Math.max(0,(f.pageY-S.top)/S.height);w.style.top=(100*g).toFixed(2)+"%"}w.classList.add("active")}),i.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(n=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),n=null},300));const f=i.querySelector(".endOfContent");!f||(f.style.top="",f.classList.remove("active"))})}}},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XfaLayerBuilder=void 0;var M=b(3);m.XfaLayerBuilder=class k{constructor({pageDiv:x,pdfPage:i,annotationStorage:n=null,linkService:f,xfaHtml:w=null}){this.pageDiv=x,this.pdfPage=i,this.annotationStorage=n,this.linkService=f,this.xfaHtml=w,this.div=null,this._cancelled=!1}render(x,i="display"){if("print"===i){const n={viewport:x.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i},f=document.createElement("div");this.pageDiv.appendChild(f),n.div=f;const w=M.XfaLayer.render(n);return Promise.resolve(w)}return this.pdfPage.getXfa().then(n=>{if(this._cancelled||!n)return{textDivs:[]};const f={viewport:x.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i};return this.div?M.XfaLayer.update(f):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),f.div=this.div,M.XfaLayer.render(f))}).catch(n=>{console.error(n)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFViewer=m.PDFSinglePageViewer=void 0;var M=b(6),k=b(11);m.PDFViewer=class P extends k.BaseViewer{};m.PDFSinglePageViewer=class x extends k.BaseViewer{_resetView(){super._resetView(),this._scrollMode=M.ScrollMode.PAGE,this._spreadMode=M.SpreadMode.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}},(V,m,b)=>{let M;Object.defineProperty(m,"__esModule",{value:!0}),m.PagesCountLimit=m.PDFPageViewBuffer=m.BaseViewer=void 0;var k=b(3),P=b(6),x=b(2),i=b(4),n=b(12),f=b(14),w=b(5),u=b(7),S=b(15),g=b(8),d=b(9);const F="enablePermissions",D={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};m.PagesCountLimit=D;var G=new WeakMap,z=new WeakMap,ee=new WeakSet;M=Symbol.iterator;class C{constructor(y){I(this,ee),N(this,G,{writable:!0,value:new Set}),N(this,z,{writable:!0,value:0}),r(this,z,y)}push(y){const q=R(this,G);q.has(y)&&q.delete(y),q.add(y),q.size>R(this,z)&&B(this,ee,l).call(this)}resize(y,q=null){r(this,z,y);const ne=R(this,G);if(q){const ce=ne.size;let le=1;for(const fe of ne)if(q.has(fe.id)&&(ne.delete(fe),ne.add(fe)),++le>ce)break}for(;ne.size>R(this,z);)B(this,ee,l).call(this)}has(y){return R(this,G).has(y)}[M](){return R(this,G).keys()}}function l(){const ie=R(this,G).keys().next().value;ie?.destroy(),R(this,G).delete(ie)}m.PDFPageViewBuffer=C;var s=new WeakMap,_=new WeakMap,c=new WeakMap,t=new WeakMap,a=new WeakMap,p=new WeakMap,T=new WeakMap,v=new WeakSet,h=new WeakSet,W=new WeakSet,$=new WeakSet,X=new WeakSet,J=new WeakSet,oe=new WeakSet;class ue{constructor(y){if(I(this,oe),I(this,J),I(this,X),I(this,$),I(this,W),I(this,h),I(this,v),N(this,s,{writable:!0,value:null}),N(this,_,{writable:!0,value:k.AnnotationMode.ENABLE_FORMS}),N(this,c,{writable:!0,value:null}),N(this,t,{writable:!0,value:!1}),N(this,a,{writable:!0,value:0}),N(this,p,{writable:!0,value:null}),N(this,T,{writable:!0,value:null}),this.constructor===ue)throw new Error("Cannot initialize BaseViewer.");const q="2.13.216";if(k.version!==q)throw new Error(`The API version "${k.version}" does not match the Viewer version "${q}".`);if(this.container=y.container,this.viewer=y.viewer||y.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=y.eventBus,this.linkService=y.linkService||new w.SimpleLinkService,this.downloadManager=y.downloadManager||null,this.findController=y.findController||null,this._scriptingManager=y.scriptingManager||null,this.removePageBorders=y.removePageBorders||!1,this.textLayerMode=y.textLayerMode??P.TextLayerMode.ENABLE,r(this,_,y.annotationMode??k.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=y.imageResourcesPath||"",this.enablePrintAutoRotate=y.enablePrintAutoRotate||!1,this.renderer=y.renderer||P.RendererType.CANVAS,this.useOnlyCssZoom=y.useOnlyCssZoom||!1,this.maxCanvasPixels=y.maxCanvasPixels,this.l10n=y.l10n||i.NullL10n,r(this,t,y.enablePermissions||!1),this.defaultRenderingQueue=!y.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new f.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=y.renderingQueue,this._doc=document.documentElement,this.scroll=(0,P.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=P.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(y){return this._pages[y]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(y){return y?.pdfPage})}get renderForms(){return R(this,_)===k.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(y){if(!Number.isInteger(y))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(y,!0)||console.error(`currentPageNumber: "${y}" is not a valid page.`)}_setCurrentPageNumber(y,q=!1){if(this._currentPageNumber===y)return q&&this._resetCurrentPageView(),!0;if(!(0<y&&y<=this.pagesCount))return!1;const ne=this._currentPageNumber;return this._currentPageNumber=y,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:y,pageLabel:this._pageLabels?.[y-1]??null,previous:ne}),q&&this._resetCurrentPageView(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(y){if(!this.pdfDocument)return;let q=0|y;if(this._pageLabels){const ne=this._pageLabels.indexOf(y);ne>=0&&(q=ne+1)}this._setCurrentPageNumber(q,!0)||console.error(`currentPageLabel: "${y}" is not a valid page.`)}get currentScale(){return this._currentScale!==P.UNKNOWN_SCALE?this._currentScale:P.DEFAULT_SCALE}set currentScale(y){if(isNaN(y))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(y,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(y){!this.pdfDocument||this._setScale(y,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(y){if(!(0,P.isValidRotation)(y))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((y%=360)<0&&(y+=360),this._pagesRotation===y))return;this._pagesRotation=y;const q=this._currentPageNumber,ne={rotation:y};for(const ce of this._pages)ce.update(ne);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:y,pageNumber:q}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(y){var q=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=y,!y)return;const ne=y.isPureXfa,ce=y.numPages,le=y.getPage(1),fe=y.getOptionalContentConfig(),he=R(this,t)?y.getPermissions():Promise.resolve();if(ce>D.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const be=this._scrollMode=P.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:be})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ce})},()=>{}),this._onBeforeDraw=be=>{const Ce=this._pages[be.pageNumber-1];!Ce||R(this,s).push(Ce)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=be=>{be.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:be.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,R(this,T)&&(document.removeEventListener("visibilitychange",R(this,T)),r(this,T,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([le,he]).then(([be,Ce])=>{if(y!==this.pdfDocument)return;this._firstPageCapability.resolve(be),this._optionalContentConfigPromise=fe,B(this,v,ge).call(this,Ce);const Re=this._scrollMode===P.ScrollMode.PAGE?null:this.viewer,ae=this.currentScale,te=be.getViewport({scale:ae*k.PixelsPerInch.PDF_TO_CSS_UNITS}),re=this.textLayerMode===P.TextLayerMode.DISABLE||ne?null:this,ye=R(this,_)!==k.AnnotationMode.DISABLE?this:null,Pe=ne?this:null;for(let Se=1;Se<=ce;++Se){const Me=new n.PDFPageView({container:Re,eventBus:this.eventBus,id:Se,scale:ae,defaultViewport:te.clone(),optionalContentConfigPromise:fe,renderingQueue:this.renderingQueue,textLayerFactory:re,textLayerMode:this.textLayerMode,annotationLayerFactory:ye,annotationMode:R(this,_),xfaLayerFactory:Pe,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(Me)}const xe=this._pages[0];xe&&(xe.setPdfPage(be),this.linkService.cachePageRef(1,be.ref)),this._scrollMode===P.ScrollMode.PAGE?B(this,W,de).call(this):this._spreadMode!==P.SpreadMode.NONE&&this._updateSpreadMode(),B(this,h,Ae).call(this).then(e(function*(){if(q.findController&&q.findController.setDocument(y),q._scriptingManager&&q._scriptingManager.setDocument(y),y.loadingParams.disableAutoFetch||ce>D.FORCE_LAZY_PAGE_INIT)return void q._pagesCapability.resolve();let Se=ce-1;if(Se<=0)q._pagesCapability.resolve();else for(let Me=2;Me<=ce;++Me){const ke=y.getPage(Me).then(Le=>{const Fe=q._pages[Me-1];Fe.pdfPage||Fe.setPdfPage(Le),q.linkService.cachePageRef(Me,Le.ref),0==--Se&&q._pagesCapability.resolve()},Le=>{console.error(`Unable to get page ${Me} to initialize viewer`,Le),0==--Se&&q._pagesCapability.resolve()});Me%D.PAUSE_EAGER_PAGE_INIT==0&&(yield ke)}})),this.eventBus.dispatch("pagesinit",{source:this}),y.getMetadata().then(({info:Se})=>{y===this.pdfDocument&&Se.Language&&(this.viewer.lang=Se.Language)}),this.defaultRenderingQueue&&this.update()}).catch(be=>{console.error("Unable to initialize viewer",be),this._pagesCapability.reject(be)})}setPageLabels(y){if(this.pdfDocument){y?Array.isArray(y)&&this.pdfDocument.numPages===y.length?this._pageLabels=y:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let q=0,ne=this._pages.length;q<ne;q++)this._pages[q].setPageLabel(this._pageLabels?.[q]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=P.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,r(this,s,new C(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,k.createPromiseCapability)(),this._onePageRenderedCapability=(0,k.createPromiseCapability)(),this._pagesCapability=(0,k.createPromiseCapability)(),this._scrollMode=P.ScrollMode.VERTICAL,this._previousScrollMode=P.ScrollMode.UNKNOWN,this._spreadMode=P.SpreadMode.NONE,r(this,p,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),R(this,T)&&(document.removeEventListener("visibilitychange",R(this,T)),r(this,T,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(F),null!==R(this,c)&&(r(this,_,R(this,c)),r(this,c,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:y,pageSpot:q=null,pageNumber:ne=null}){if(this._scrollMode===P.ScrollMode.PAGE&&(ne&&this._setCurrentPageNumber(ne),B(this,W,de).call(this),this.update()),!q&&!this.isInPresentationMode){const ce=y.offsetLeft+y.clientLeft,le=ce+y.clientWidth,{scrollLeft:fe,clientWidth:he}=this.container;(this._scrollMode===P.ScrollMode.HORIZONTAL||ce<fe||le>fe+he)&&(q={left:0,top:0})}(0,P.scrollIntoView)(y,q)}_setScaleUpdatePages(y,q,ne=!1,ce=!1){if(this._currentScaleValue=q.toString(),B(this,$,we).call(this,y))return void(ce&&this.eventBus.dispatch("scalechanging",{source:this,scale:y,presetValue:q}));this._doc.style.setProperty("--zoom-factor",y),this._doc.style.setProperty("--viewport-scale-factor",y*k.PixelsPerInch.PDF_TO_CSS_UNITS);const le={scale:y};for(const fe of this._pages)fe.update(le);if(this._currentScale=y,!ne){let he,fe=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(fe=this._location.pageNumber,he=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:fe,destArray:he,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:y,presetValue:ce?q:void 0}),this.defaultRenderingQueue&&this.update(),r(this,a,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==P.SpreadMode.NONE&&this._scrollMode!==P.ScrollMode.HORIZONTAL?2:1}_setScale(y,q=!1){let ne=parseFloat(y);if(ne>0)this._setScaleUpdatePages(ne,y,q,!1);else{const ce=this._pages[this._currentPageNumber-1];if(!ce)return;let le=P.SCROLLBAR_PADDING,fe=P.VERTICAL_PADDING;this.isInPresentationMode?le=fe=4:this.removePageBorders&&(le=fe=0),this._scrollMode===P.ScrollMode.HORIZONTAL&&([le,fe]=[fe,le]);const he=(this.container.clientWidth-le)/ce.width*ce.scale/this._pageWidthScaleFactor,be=(this.container.clientHeight-fe)/ce.height*ce.scale;switch(y){case"page-actual":ne=1;break;case"page-width":ne=he;break;case"page-height":ne=be;break;case"page-fit":ne=Math.min(he,be);break;case"auto":const Ce=(0,P.isPortraitOrientation)(ce)?he:Math.min(be,he);ne=Math.min(P.MAX_AUTO_SCALE,Ce);break;default:return void console.error(`_setScale: "${y}" is an unknown zoom value.`)}this._setScaleUpdatePages(ne,y,q,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(y){if(!this._pageLabels)return null;const q=this._pageLabels.indexOf(y);return q<0?null:q+1}scrollPageIntoView({pageNumber:y,destArray:q=null,allowNegativeOffset:ne=!1,ignoreDestinationZoom:ce=!1}){if(!this.pdfDocument)return;const le=Number.isInteger(y)&&this._pages[y-1];if(!le)return void console.error(`scrollPageIntoView: "${y}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!q)return void this._setCurrentPageNumber(y,!0);let Re,ae,fe=0,he=0,be=0,Ce=0;const te=le.rotation%180!=0,re=(te?le.height:le.width)/le.scale/k.PixelsPerInch.PDF_TO_CSS_UNITS,ye=(te?le.width:le.height)/le.scale/k.PixelsPerInch.PDF_TO_CSS_UNITS;let Pe=0;switch(q[1].name){case"XYZ":fe=q[2],he=q[3],Pe=q[4],fe=null!==fe?fe:0,he=null!==he?he:ye;break;case"Fit":case"FitB":Pe="page-fit";break;case"FitH":case"FitBH":he=q[2],Pe="page-width",null===he&&this._location?(fe=this._location.left,he=this._location.top):("number"!=typeof he||he<0)&&(he=ye);break;case"FitV":case"FitBV":fe=q[2],be=re,Ce=ye,Pe="page-height";break;case"FitR":fe=q[2],he=q[3],be=q[4]-fe,Ce=q[5]-he,Re=(this.container.clientWidth-(this.removePageBorders?0:P.SCROLLBAR_PADDING))/be/k.PixelsPerInch.PDF_TO_CSS_UNITS,ae=(this.container.clientHeight-(this.removePageBorders?0:P.VERTICAL_PADDING))/Ce/k.PixelsPerInch.PDF_TO_CSS_UNITS,Pe=Math.min(Math.abs(Re),Math.abs(ae));break;default:return void console.error(`scrollPageIntoView: "${q[1].name}" is not a valid destination type.`)}if(ce||(Pe&&Pe!==this._currentScale?this.currentScaleValue=Pe:this._currentScale===P.UNKNOWN_SCALE&&(this.currentScaleValue=P.DEFAULT_SCALE_VALUE)),"page-fit"===Pe&&!q[4])return void this._scrollIntoView({pageDiv:le.div,pageNumber:y});const xe=[le.viewport.convertToViewportPoint(fe,he),le.viewport.convertToViewportPoint(fe+be,he+Ce)];let Se=Math.min(xe[0][0],xe[1][0]),Me=Math.min(xe[0][1],xe[1][1]);ne||(Se=Math.max(Se,0),Me=Math.max(Me,0)),this._scrollIntoView({pageDiv:le.div,pageSpot:{left:Se,top:Me},pageNumber:y})}_updateLocation(y){const q=this._currentScale,ne=this._currentScaleValue,ce=parseFloat(ne)===q?Math.round(1e4*q)/100:ne,le=y.id;let fe="#page="+le;fe+="&zoom="+ce;const be=this.container,Ce=this._pages[le-1].getPagePoint(be.scrollLeft-y.x,be.scrollTop-y.y),Re=Math.round(Ce[0]),ae=Math.round(Ce[1]);fe+=","+Re+","+ae,this._location={pageNumber:le,scale:ce,top:ae,left:Re,rotation:this._pagesRotation,pdfOpenParams:fe}}update(){const y=this._getVisiblePages(),q=y.views,ne=q.length;if(0===ne)return;const ce=Math.max(10,2*ne+1);if(R(this,s).resize(ce,y.ids),this.renderingQueue.renderHighestPriority(y),!this.isInPresentationMode){const le=this._spreadMode===P.SpreadMode.NONE&&(this._scrollMode===P.ScrollMode.PAGE||this._scrollMode===P.ScrollMode.VERTICAL);let fe=this._currentPageNumber,he=!1;for(const be of q){if(be.percent<100)break;if(be.id===fe&&le){he=!0;break}}he||(fe=q[0].id),this._setCurrentPageNumber(fe)}this._updateLocation(y.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(y){return this.container.contains(y)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===P.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===P.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const y=this._pages[this._currentPageNumber-1],q=y.div,ne={id:y.id,x:q.offsetLeft+q.clientLeft,y:q.offsetTop+q.clientTop,view:y};return{first:ne,last:ne,views:[ne],ids:new Set([y.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const y=this._scrollMode===P.ScrollMode.PAGE?R(this,p).pages:this._pages,q=this._scrollMode===P.ScrollMode.HORIZONTAL;return(0,P.getVisibleElements)({scrollEl:this.container,views:y,sortByVisibility:!0,horizontal:q,rtl:q&&this._isContainerRtl})}isPageVisible(y){return!!this.pdfDocument&&(Number.isInteger(y)&&y>0&&y<=this.pagesCount?this._getVisiblePages().ids.has(y):(console.error(`isPageVisible: "${y}" is not a valid page.`),!1))}isPageCached(y){if(!this.pdfDocument)return!1;if(!(Number.isInteger(y)&&y>0&&y<=this.pagesCount))return console.error(`isPageCached: "${y}" is not a valid page.`),!1;const q=this._pages[y-1];return R(this,s).has(q)}cleanup(){for(let y=0,q=this._pages.length;y<q;y++)this._pages[y]&&this._pages[y].renderingState!==P.RenderingStates.FINISHED&&this._pages[y].reset()}_cancelRendering(){for(let y=0,q=this._pages.length;y<q;y++)this._pages[y]&&this._pages[y].cancelRendering()}forceRendering(y){const q=y||this._getVisiblePages(),ne=B(this,J,me).call(this,q),le=this.renderingQueue.getHighestPriority(q,this._pages,ne,this._spreadMode!==P.SpreadMode.NONE&&this._scrollMode!==P.ScrollMode.HORIZONTAL);return B(this,oe,Oe).call(this,q.ids),!!le&&(B(this,X,Te).call(this,le).then(()=>{this.renderingQueue.renderView(le)}),!0)}createTextLayerBuilder(y,q,ne,ce=!1,le,fe){return new g.TextLayerBuilder({textLayerDiv:y,eventBus:le,pageIndex:q,viewport:ne,enhanceTextSelection:!this.isInPresentationMode&&ce,highlighter:fe})}createTextHighlighter(y,q){return new S.TextHighlighter({eventBus:q,pageIndex:y,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(y,q,ne=null,ce="",le=!0,fe=i.NullL10n,he=null,be=null,Ce=null,Re=null,ae=null){return new x.AnnotationLayerBuilder({pageDiv:y,pdfPage:q,annotationStorage:ne||this.pdfDocument?.annotationStorage,imageResourcesPath:ce,renderForms:le,linkService:this.linkService,downloadManager:this.downloadManager,l10n:fe,enableScripting:he??this.enableScripting,hasJSActionsPromise:be||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Re||this.pdfDocument?.getFieldObjects(),mouseState:Ce||this._scriptingManager?.mouseState,annotationCanvasMap:ae})}createXfaLayerBuilder(y,q,ne=null){return new d.XfaLayerBuilder({pageDiv:y,pdfPage:q,annotationStorage:ne||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(y){return new u.StructTreeLayerBuilder({pdfPage:y})}get hasEqualPageSizes(){const y=this._pages[0];for(let q=1,ne=this._pages.length;q<ne;++q){const ce=this._pages[q];if(ce.width!==y.width||ce.height!==y.height)return!1}return!0}getPagesOverview(){return this._pages.map(y=>{const q=y.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,P.isPortraitOrientation)(q)?{width:q.width,height:q.height,rotation:q.rotation}:{width:q.height,height:q.width,rotation:(q.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(y){if(!(y instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${y}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=y;const q={optionalContentConfigPromise:y};for(const ne of this._pages)ne.update(q);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:y})}get scrollMode(){return this._scrollMode}set scrollMode(y){if(this._scrollMode!==y){if(!(0,P.isValidScrollMode)(y))throw new Error(`Invalid scroll mode: ${y}`);this.pagesCount>D.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=y,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:y}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(y=null){const q=this._scrollMode,ne=this.viewer;ne.classList.toggle("scrollHorizontal",q===P.ScrollMode.HORIZONTAL),ne.classList.toggle("scrollWrapped",q===P.ScrollMode.WRAPPED),this.pdfDocument&&y&&(q===P.ScrollMode.PAGE?B(this,W,de).call(this):this._previousScrollMode===P.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(y,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(y){if(this._spreadMode!==y){if(!(0,P.isValidSpreadMode)(y))throw new Error(`Invalid spread mode: ${y}`);this._spreadMode=y,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:y}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(y=null){if(!this.pdfDocument)return;const q=this.viewer,ne=this._pages;if(this._scrollMode===P.ScrollMode.PAGE)B(this,W,de).call(this);else if(q.textContent="",this._spreadMode===P.SpreadMode.NONE)for(let ce=0,le=ne.length;ce<le;++ce)q.appendChild(ne[ce].div);else{const ce=this._spreadMode-1;let le=null;for(let fe=0,he=ne.length;fe<he;++fe)null===le?(le=document.createElement("div"),le.className="spread",q.appendChild(le)):fe%2===ce&&(le=le.cloneNode(!1),q.appendChild(le)),le.appendChild(ne[fe].div)}!y||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(y,!0),this.update())}_getPageAdvance(y,q=!1){switch(this._scrollMode){case P.ScrollMode.WRAPPED:{const{views:ne}=this._getVisiblePages(),ce=new Map;for(const{id:le,y:fe,percent:he,widthPercent:be}of ne){if(0===he||be<100)continue;let Ce=ce.get(fe);Ce||ce.set(fe,Ce||(Ce=[])),Ce.push(le)}for(const le of ce.values()){const fe=le.indexOf(y);if(-1===fe)continue;const he=le.length;if(1===he)break;if(q)for(let be=fe-1,Ce=0;be>=Ce;be--){const ae=le[be+1]-1;if(le[be]<ae)return y-ae}else for(let be=fe+1,Ce=he;be<Ce;be++){const ae=le[be-1]+1;if(le[be]>ae)return ae-y}if(q){const be=le[0];if(be<y)return y-be+1}else{const be=le[he-1];if(be>y)return be-y+1}break}break}case P.ScrollMode.HORIZONTAL:break;case P.ScrollMode.PAGE:case P.ScrollMode.VERTICAL:{if(this._spreadMode===P.SpreadMode.NONE)break;const ne=this._spreadMode-1;if(q&&y%2!==ne)break;if(!q&&y%2===ne)break;const{views:ce}=this._getVisiblePages(),le=q?y-1:y+1;for(const{id:fe,percent:he,widthPercent:be}of ce)if(fe===le){if(he>0&&100===be)return 2;break}break}}return 1}nextPage(){const y=this._currentPageNumber,q=this.pagesCount;if(y>=q)return!1;const ne=this._getPageAdvance(y,!1)||1;return this.currentPageNumber=Math.min(y+ne,q),!0}previousPage(){const y=this._currentPageNumber;if(y<=1)return!1;const q=this._getPageAdvance(y,!0)||1;return this.currentPageNumber=Math.max(y-q,1),!0}increaseScale(y=1){let q=this._currentScale;do{q=(q*P.DEFAULT_SCALE_DELTA).toFixed(2),q=Math.ceil(10*q)/10,q=Math.min(P.MAX_SCALE,q)}while(--y>0&&q<P.MAX_SCALE);this.currentScaleValue=q}decreaseScale(y=1){let q=this._currentScale;do{q=(q/P.DEFAULT_SCALE_DELTA).toFixed(2),q=Math.floor(10*q)/10,q=Math.max(P.MIN_SCALE,q)}while(--y>0&&q>P.MIN_SCALE);this.currentScaleValue=q}}function ge(ie){!ie||(ie.includes(k.PermissionFlag.COPY)||this.viewer.classList.add(F),!ie.includes(k.PermissionFlag.MODIFY_ANNOTATIONS)&&!ie.includes(k.PermissionFlag.FILL_INTERACTIVE_FORMS)&&R(this,_)===k.AnnotationMode.ENABLE_FORMS&&(r(this,c,R(this,_)),r(this,_,k.AnnotationMode.ENABLE)))}function Ae(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ie=new Promise(y=>{r(this,T,()=>{"hidden"===document.visibilityState&&(y(),document.removeEventListener("visibilitychange",R(this,T)),r(this,T,null))}),document.addEventListener("visibilitychange",R(this,T))});return Promise.race([this._onePageRenderedCapability.promise,ie])}function de(){if(this._scrollMode!==P.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ie=this._currentPageNumber,y=R(this,p),q=this.viewer;if(q.textContent="",y.pages.length=0,this._spreadMode===P.SpreadMode.NONE){const ne=this._pages[ie-1];if(this.isInPresentationMode){const ce=document.createElement("div");ce.className="spread";const le=document.createElement("div");le.className="dummyPage",le.style.height=`${this.container.clientHeight}px`,ce.appendChild(le),ce.appendChild(ne.div),q.appendChild(ce)}else q.appendChild(ne.div);y.pages.push(ne)}else{const ne=new Set,ce=this._spreadMode-1;ie%2!==ce?(ne.add(ie-1),ne.add(ie)):(ne.add(ie-2),ne.add(ie-1));let le=null;for(const fe of ne){const he=this._pages[fe];!he||(null===le?(le=document.createElement("div"),le.className="spread",q.appendChild(le)):fe%2===ce&&(le=le.cloneNode(!1),q.appendChild(le)),le.appendChild(he.div),y.pages.push(he))}}y.scrollDown=ie>=y.previousPageNumber,y.previousPageNumber=ie}function we(ie){return(!this.isInPresentationMode||this.container.clientHeight===R(this,a))&&(ie===this._currentScale||Math.abs(ie-this._currentScale)<1e-15)}function Te(ie){return ve.apply(this,arguments)}function ve(){return(ve=e(function*(ie){if(ie.pdfPage)return ie.pdfPage;try{const y=yield this.pdfDocument.getPage(ie.id);return ie.pdfPage||ie.setPdfPage(y),this.linkService._cachedPageNumber?.(y.ref)||this.linkService.cachePageRef(ie.id,y.ref),y}catch(y){return console.error("Unable to get page for page view",y),null}})).apply(this,arguments)}function me(ie){if(1===ie.first?.id)return!0;if(ie.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case P.ScrollMode.PAGE:return R(this,p).scrollDown;case P.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Oe(ie){for(const y of ie)this._pages[y-1]?.toggleLoadingIconSpinner(!0);for(const y of R(this,s))ie.has(y.id)||y.toggleLoadingIconSpinner(!1)}m.BaseViewer=ue},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFPageView=void 0;var M=b(3),k=b(6),P=b(13),x=b(4);const i=P.compatibilityParams.maxCanvasPixels||16777216;var n=new WeakMap;m.PDFPageView=class f{constructor(u){N(this,n,{writable:!0,value:M.AnnotationMode.ENABLE_FORMS});const S=u.container,g=u.defaultViewport;this.id=u.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=u.scale||k.DEFAULT_SCALE,this.viewport=g,this.pdfPageRotate=g.rotation,this._optionalContentConfigPromise=u.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=u.textLayerMode??k.TextLayerMode.ENABLE,r(this,n,u.annotationMode??M.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=u.imageResourcesPath||"",this.useOnlyCssZoom=u.useOnlyCssZoom||!1,this.maxCanvasPixels=u.maxCanvasPixels||i,this.eventBus=u.eventBus,this.renderingQueue=u.renderingQueue,this.textLayerFactory=u.textLayerFactory,this.annotationLayerFactory=u.annotationLayerFactory,this.xfaLayerFactory=u.xfaLayerFactory,this.textHighlighter=u.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=u.structTreeLayerFactory,this.renderer=u.renderer||k.RendererType.CANVAS,this.l10n=u.l10n||x.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=k.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const d=document.createElement("div");d.className="page",d.style.width=Math.floor(this.viewport.width)+"px",d.style.height=Math.floor(this.viewport.height)+"px",d.setAttribute("data-page-number",this.id),d.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(L=>{d.setAttribute("aria-label",L)}),this.div=d,S?.appendChild(d)}setPdfPage(u){this.pdfPage=u,this.pdfPageRotate=u.rotate,this.viewport=u.getViewport({scale:this.scale*M.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var u=this;return e(function*(){let S=null;try{yield u.annotationLayer.render(u.viewport,"display")}catch(g){S=g}finally{u.eventBus.dispatch("annotationlayerrendered",{source:u,pageNumber:u.id,error:S})}})()}_renderXfaLayer(){var u=this;return e(function*(){let S=null;try{const g=yield u.xfaLayer.render(u.viewport,"display");u.textHighlighter&&u._buildXfaTextContentItems(g.textDivs)}catch(g){S=g}finally{u.eventBus.dispatch("xfalayerrendered",{source:u,pageNumber:u.id,error:S})}})()}_buildXfaTextContentItems(u){var S=this;return e(function*(){const g=yield S.pdfPage.getTextContent(),d=[];for(const L of g.items)d.push(L.str);S.textHighlighter.setTextMapping(u,d),S.textHighlighter.enable()})()}_resetZoomLayer(u=!1){if(!this.zoomLayer)return;const S=this.zoomLayer.firstChild;this.paintedViewportMap.delete(S),S.width=0,S.height=0,u&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:u=!1,keepAnnotationLayer:S=!1,keepXfaLayer:g=!1}={}){this.cancelRendering({keepAnnotationLayer:S,keepXfaLayer:g}),this.renderingState=k.RenderingStates.INITIAL;const d=this.div;d.style.width=Math.floor(this.viewport.width)+"px",d.style.height=Math.floor(this.viewport.height)+"px";const L=d.childNodes,F=u&&this.zoomLayer||null,D=S&&this.annotationLayer?.div||null,G=g&&this.xfaLayer?.div||null;for(let z=L.length-1;z>=0;z--){const ee=L[z];switch(ee){case F:case D:case G:continue}ee.remove()}d.removeAttribute("data-loaded"),D&&this.annotationLayer.hide(),G&&this.xfaLayer.hide(),F||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(z=>{this.loadingIconDiv?.setAttribute("aria-label",z)}),d.appendChild(this.loadingIconDiv)}update({scale:u=0,rotation:S=null,optionalContentConfigPromise:g=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=u||this.scale,"number"==typeof S&&(this.rotation=S),g instanceof Promise&&(this._optionalContentConfigPromise=g);const L=this.scale*M.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:L,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:D}=document.documentElement;D.setProperty("--zoom-factor",this.scale),D.setProperty("--viewport-scale-factor",L)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let F=!1;if(this.canvas&&this.maxCanvasPixels>0){const D=this.outputScale;(Math.floor(this.viewport.width)*D.sx|0)*(Math.floor(this.viewport.height)*D.sy|0)>this.maxCanvasPixels&&(F=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&F)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:u=!1,keepXfaLayer:S=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!u||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!S||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:u,redrawAnnotationLayer:S=!1,redrawXfaLayer:g=!1}){const d=this.viewport.width,L=this.viewport.height,F=this.div;u.style.width=u.parentNode.style.width=F.style.width=Math.floor(d)+"px",u.style.height=u.parentNode.style.height=F.style.height=Math.floor(L)+"px";const D=this.viewport.rotation-this.paintedViewportMap.get(u).rotation,G=Math.abs(D);let z=1,ee=1;if((90===G||270===G)&&(z=L/d,ee=d/L),u.style.transform=`rotate(${D}deg) scale(${z}, ${ee})`,this.textLayer){const C=this.textLayer.viewport,s=Math.abs(this.viewport.rotation-C.rotation);let _=d/C.width;(90===s||270===s)&&(_=d/C.height);const c=this.textLayer.textLayerDiv;let t,a;switch(s){case 0:t=a=0;break;case 90:t=0,a="-"+c.style.height;break;case 180:t="-"+c.style.width,a="-"+c.style.height;break;case 270:t="-"+c.style.width,a=0;break;default:console.error("Bad rotation value.")}c.style.transform=`rotate(${s}deg) scale(${_}) translate(${t}, ${a})`,c.style.transformOrigin="0% 0%"}S&&this.annotationLayer&&this._renderAnnotationLayer(),g&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(u,S){return this.viewport.convertToPdfPoint(u,S)}toggleLoadingIconSpinner(u=!1){this.loadingIconDiv?.classList.toggle("notVisible",!u)}draw(){var u=this;this.renderingState!==k.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:S,pdfPage:g}=this;if(!g)return this.renderingState=k.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=k.RenderingStates.RUNNING;const d=document.createElement("div");d.style.width=S.style.width,d.style.height=S.style.height,d.classList.add("canvasWrapper"),this.annotationLayer?.div?S.insertBefore(d,this.annotationLayer.div):S.appendChild(d);let L=null;if(this.textLayerMode!==k.TextLayerMode.DISABLE&&this.textLayerFactory){const ee=document.createElement("div");ee.className="textLayer",ee.style.width=d.style.width,ee.style.height=d.style.height,this.annotationLayer?.div?S.insertBefore(ee,this.annotationLayer.div):S.appendChild(ee),L=this.textLayerFactory.createTextLayerBuilder(ee,this.id-1,this.viewport,this.textLayerMode===k.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=L,R(this,n)!==M.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(S,g,null,this.imageResourcesPath,R(this,n)===M.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&S.appendChild(this.xfaLayer.div);let F=null;this.renderingQueue&&(F=ee=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=k.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=k.RenderingStates.RUNNING,ee()});ee()});const D=function(){var ee=e(function*(C=null){if(G===u.paintTask&&(u.paintTask=null),C instanceof M.RenderingCancelledException)u._renderError=null;else if(u._renderError=C,u.renderingState=k.RenderingStates.FINISHED,u.loadingIconDiv&&(u.loadingIconDiv.remove(),delete u.loadingIconDiv),u._resetZoomLayer(!0),u.eventBus.dispatch("pagerendered",{source:u,pageNumber:u.id,cssTransform:!1,timestamp:performance.now(),error:u._renderError}),C)throw C});return function(){return ee.apply(this,arguments)}}(),G=this.renderer===k.RendererType.SVG?this.paintOnSvg(d):this.paintOnCanvas(d);G.onRenderContinue=F,this.paintTask=G;const z=G.promise.then(()=>D(null).then(()=>{if(L){const ee=g.streamTextContent({includeMarkedContent:!0});L.setTextContentStream(ee),L.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(ee){return D(ee)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(S,g,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ee=>{ee.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(C=>{if(!C||!this.canvas)return;const l=this.structTreeLayer.render(C);l.classList.add("structTree"),this.canvas.appendChild(l)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(g)),S.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),z}paintOnCanvas(u){const S=(0,M.createPromiseCapability)(),g={promise:S.promise,onRenderContinue(c){c()},cancel(){_.cancel()}},d=this.viewport,L=document.createElement("canvas");L.hidden=!0;let F=!0;const D=function(){F&&(L.hidden=!1,F=!1)};u.appendChild(L),this.canvas=L,L.mozOpaque=!0;const G=L.getContext("2d",{alpha:!1}),z=this.outputScale=new k.OutputScale;if(this.useOnlyCssZoom){const c=d.clone({scale:M.PixelsPerInch.PDF_TO_CSS_UNITS});z.sx*=c.width/d.width,z.sy*=c.height/d.height}if(this.maxCanvasPixels>0){const t=Math.sqrt(this.maxCanvasPixels/(d.width*d.height));z.sx>t||z.sy>t?(z.sx=t,z.sy=t,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ee=(0,k.approximateFraction)(z.sx),C=(0,k.approximateFraction)(z.sy);L.width=(0,k.roundToDivide)(d.width*z.sx,ee[0]),L.height=(0,k.roundToDivide)(d.height*z.sy,C[0]),L.style.width=(0,k.roundToDivide)(d.width,ee[1])+"px",L.style.height=(0,k.roundToDivide)(d.height,C[1])+"px",this.paintedViewportMap.set(L,d);const s={canvasContext:G,transform:z.scaled?[z.sx,0,0,z.sy,0,0]:null,viewport:this.viewport,annotationMode:R(this,n),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},_=this.pdfPage.render(s);return _.onContinue=function(c){D(),g.onRenderContinue?g.onRenderContinue(c):c()},_.promise.then(function(){D(),S.resolve()},function(c){D(),S.reject(c)}),g}paintOnSvg(u){let S=!1;const g=()=>{if(S)throw new M.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},d=this.pdfPage,L=this.viewport.clone({scale:M.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:d.getOperatorList({annotationMode:R(this,n)}).then(D=>(g(),new M.SVGGraphics(d.commonObjs,d.objs).getSVG(D,L).then(z=>{g(),this.svg=z,this.paintedViewportMap.set(z,L),z.style.width=u.style.width,z.style.height=u.style.height,this.renderingState=k.RenderingStates.FINISHED,u.appendChild(z)}))),onRenderContinue(D){D()},cancel(){S=!0}}}setPageLabel(u){this.pageLabel="string"==typeof u?u:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.compatibilityParams=m.OptionKind=m.AppOptions=void 0;const b=Object.create(null);m.compatibilityParams=b;{const i=navigator.userAgent||"",n=navigator.platform||"",f=navigator.maxTouchPoints||1,w=/Android/.test(i);(/\b(iPad|iPhone|iPod)(?=;)/.test(i)||"MacIntel"===n&&f>1||w)&&(b.maxCanvasPixels=5242880)}const M={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};m.OptionKind=M;const k={annotationMode:{value:2,kind:M.VIEWER+M.PREFERENCE},cursorToolOnLoad:{value:0,kind:M.VIEWER+M.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:M.VIEWER},defaultZoomValue:{value:"",kind:M.VIEWER+M.PREFERENCE},disableHistory:{value:!1,kind:M.VIEWER},disablePageLabels:{value:!1,kind:M.VIEWER+M.PREFERENCE},enablePermissions:{value:!1,kind:M.VIEWER+M.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:M.VIEWER+M.PREFERENCE},enableScripting:{value:!0,kind:M.VIEWER+M.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:M.VIEWER},externalLinkTarget:{value:0,kind:M.VIEWER+M.PREFERENCE},historyUpdateUrl:{value:!1,kind:M.VIEWER+M.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:M.VIEWER+M.PREFERENCE},imageResourcesPath:{value:"./images/",kind:M.VIEWER},maxCanvasPixels:{value:16777216,compatibility:b.maxCanvasPixels,kind:M.VIEWER},pdfBugEnabled:{value:!1,kind:M.VIEWER+M.PREFERENCE},printResolution:{value:150,kind:M.VIEWER},renderer:{value:"canvas",kind:M.VIEWER},sidebarViewOnLoad:{value:-1,kind:M.VIEWER+M.PREFERENCE},scrollModeOnLoad:{value:-1,kind:M.VIEWER+M.PREFERENCE},spreadModeOnLoad:{value:-1,kind:M.VIEWER+M.PREFERENCE},textLayerMode:{value:1,kind:M.VIEWER+M.PREFERENCE},useOnlyCssZoom:{value:!1,kind:M.VIEWER+M.PREFERENCE},viewerCssTheme:{value:0,kind:M.VIEWER+M.PREFERENCE},viewOnLoad:{value:0,kind:M.VIEWER+M.PREFERENCE},cMapPacked:{value:!0,kind:M.API},cMapUrl:{value:"../web/cmaps/",kind:M.API},disableAutoFetch:{value:!1,kind:M.API+M.PREFERENCE},disableFontFace:{value:!1,kind:M.API+M.PREFERENCE},disableRange:{value:!1,kind:M.API+M.PREFERENCE},disableStream:{value:!1,kind:M.API+M.PREFERENCE},docBaseUrl:{value:"",kind:M.API},enableXfa:{value:!0,kind:M.API+M.PREFERENCE},fontExtraProperties:{value:!1,kind:M.API},isEvalSupported:{value:!0,kind:M.API},maxImageSize:{value:-1,kind:M.API},pdfBug:{value:!1,kind:M.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:M.API},verbosity:{value:1,kind:M.API},workerPort:{value:null,kind:M.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:M.WORKER}};k.disablePreferences={value:!1,kind:M.VIEWER},k.locale={value:navigator.language||"en-US",kind:M.VIEWER},k.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:M.VIEWER},k.renderer.kind+=M.PREFERENCE;const P=Object.create(null);m.AppOptions=class x{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){const f=P[n];if(void 0!==f)return f;const w=k[n];return void 0!==w?w.compatibility??w.value:void 0}static getAll(n=null){const f=Object.create(null);for(const w in k){const u=k[w];if(n){if(0==(n&u.kind))continue;if(n===M.PREFERENCE){const g=u.value,d=typeof g;if("boolean"===d||"string"===d||"number"===d&&Number.isInteger(g)){f[w]=g;continue}throw new Error(`Invalid type for preference: ${w}`)}}const S=P[w];f[w]=void 0!==S?S:u.compatibility??u.value}return f}static set(n,f){P[n]=f}static setAll(n){for(const f in n)P[f]=n[f]}static remove(n){delete P[n]}static _hasUserOptions(){return Object.keys(P).length>0}}},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFRenderingQueue=void 0;var M=b(3),k=b(6);m.PDFRenderingQueue=class x{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,f,w,u=!1){const S=n.views,g=S.length;if(0===g)return null;for(let G=0;G<g;G++){const z=S[G].view;if(!this.isViewFinished(z))return z}const d=n.first.id,L=n.last.id;if(L-d+1>g){const G=n.ids;for(let z=1,ee=L-d;z<ee;z++){const C=w?d+z:L-z;if(G.has(C))continue;const l=f[C-1];if(!this.isViewFinished(l))return l}}let F=w?L:d-2,D=f[F];return D&&!this.isViewFinished(D)||u&&(F+=w?1:-1,D=f[F],D&&!this.isViewFinished(D))?D:null}isViewFinished(n){return n.renderingState===k.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case k.RenderingStates.FINISHED:return!1;case k.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case k.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case k.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(f=>{f instanceof M.RenderingCancelledException||console.error(`renderView: "${f}"`)})}return!0}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextHighlighter=void 0;m.TextHighlighter=class b{constructor({findController:k,eventBus:P,pageIndex:x}){this.findController=k,this.matches=[],this.eventBus=P,this.pageIdx=x,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(k,P){this.textDivs=k,this.textContentItemsStr=P}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=k=>{(k.pageIndex===this.pageIdx||-1===k.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(k,P){if(!k)return[];const{textContentItemsStr:x}=this;let i=0,n=0;const f=x.length-1,w=[];for(let u=0,S=k.length;u<S;u++){let g=k[u];for(;i!==f&&g>=n+x[i].length;)n+=x[i].length,i++;i===x.length&&console.error("Could not find a matching mapping");const d={begin:{divIdx:i,offset:g-n}};for(g+=P[u];i!==f&&g>n+x[i].length;)n+=x[i].length,i++;d.end={divIdx:i,offset:g-n},w.push(d)}return w}_renderMatches(k){if(0===k.length)return;const{findController:P,pageIdx:x}=this,{textContentItemsStr:i,textDivs:n}=this,f=x===P.selected.pageIdx,w=P.selected.matchIdx;let S=null;const g_offset=void 0;function d(G,z){const ee=G.divIdx;return n[ee].textContent="",L(ee,0,G.offset,z)}function L(G,z,ee,C){let l=n[G];if(l.nodeType===Node.TEXT_NODE){const c=document.createElement("span");l.parentNode.insertBefore(c,l),c.appendChild(l),n[G]=c,l=c}const s=i[G].substring(z,ee),_=document.createTextNode(s);if(C){const c=document.createElement("span");return c.className=`${C} appended`,c.appendChild(_),l.appendChild(c),C.includes("selected")?c.offsetLeft:0}return l.appendChild(_),0}let F=w,D=F+1;if(P.state.highlightAll)F=0,D=k.length;else if(!f)return;for(let G=F;G<D;G++){const z=k[G],ee=z.begin,C=z.end,l=f&&G===w,s=l?" selected":"";let _=0;if(S&&ee.divIdx===S.divIdx?L(S.divIdx,S.offset,ee.offset):(null!==S&&L(S.divIdx,S.offset,g_offset),d(ee)),ee.divIdx===C.divIdx)_=L(ee.divIdx,ee.offset,C.offset,"highlight"+s);else{_=L(ee.divIdx,ee.offset,g_offset,"highlight begin"+s);for(let c=ee.divIdx+1,t=C.divIdx;c<t;c++)n[c].className="highlight middle"+s;d(C,"highlight end"+s)}S=C,l&&P.scrollMatchIntoView({element:n[ee.divIdx],selectedLeft:_,pageIndex:x,matchIndex:w})}S&&L(S.divIdx,S.offset,g_offset)}_updateMatches(){if(!this.enabled)return;const{findController:k,matches:P,pageIdx:x}=this,{textContentItemsStr:i,textDivs:n}=this;let f=-1;for(let S=0,g=P.length;S<g;S++){const d=P[S];for(let F=Math.max(f,d.begin.divIdx),D=d.end.divIdx;F<=D;F++){const G=n[F];G.textContent=i[F],G.className=""}f=d.end.divIdx+1}k?.highlightMatches&&(this.matches=this._convertMatches(k.pageMatches[x]||null,k.pageMatchesLength[x]||null),this._renderMatches(this.matches))}}},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DownloadManager=void 0;var M=b(3);function k(x,i){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=x,n.target="_parent","download"in n&&(n.download=i),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}m.DownloadManager=class P{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(i,n){(0,M.createValidAbsoluteUrl)(i,"http://example.com")?k(i+"#pdfjs.action=download",n):console.error(`downloadUrl - not a valid URL: ${i}`)}downloadData(i,n,f){k(URL.createObjectURL(new Blob([i],{type:f})),n)}openOrDownloadData(i,n,f){const w=(0,M.isPdfFile)(f),u=w?"application/pdf":"";if(w){let g,S=this._openBlobUrls.get(i);S||(S=URL.createObjectURL(new Blob([n],{type:u})),this._openBlobUrls.set(i,S)),g="?file="+encodeURIComponent(S+"#"+f);try{return window.open(g),!0}catch(d){console.error(`openOrDownloadData: ${d}`),URL.revokeObjectURL(S),this._openBlobUrls.delete(i)}}return this.downloadData(n,f,u),!1}download(i,n,f,w="download"){k(URL.createObjectURL(i),f)}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.WaitOnType=m.EventBus=m.AutomationEventBus=void 0,m.waitOnEventOrTimeout=function M({target:x,name:i,delay:n=0}){return new Promise(function(f,w){if("object"!=typeof x||!i||"string"!=typeof i||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function u(L){x instanceof k?x._off(i,S):x.removeEventListener(i,S),d&&clearTimeout(d),f(L)}const S=u.bind(null,b.EVENT);x instanceof k?x._on(i,S):x.addEventListener(i,S);const g=u.bind(null,b.TIMEOUT),d=setTimeout(g,n)})};const b={EVENT:"event",TIMEOUT:"timeout"};m.WaitOnType=b;class k{constructor(){this._listeners=Object.create(null)}on(i,n,f=null){this._on(i,n,{external:!0,once:f?.once})}off(i,n,f=null){this._off(i,n,{external:!0,once:f?.once})}dispatch(i,n){const f=this._listeners[i];if(!f||0===f.length)return;let w;for(const{listener:u,external:S,once:g}of f.slice(0))g&&this._off(i,u),S?(w||(w=[])).push(u):u(n);if(w){for(const u of w)u(n);w=null}}_on(i,n,f=null){var u;((u=this._listeners)[i]||(u[i]=[])).push({listener:n,external:!0===f?.external,once:!0===f?.once})}_off(i,n,f=null){const w=this._listeners[i];if(w)for(let u=0,S=w.length;u<S;u++)if(w[u].listener===n)return void w.splice(u,1)}}m.EventBus=k;m.AutomationEventBus=class P extends k{dispatch(i,n){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericL10n=void 0,b(19);var M=b(4);const k=document.webL10n;m.GenericL10n=class P{constructor(i){this._lang=i,this._ready=new Promise((n,f)=>{k.setLanguage((0,M.fixupLangCode)(i),()=>{n(k)})})}getLanguage(){var i=this;return e(function*(){return(yield i._ready).getLanguage()})()}getDirection(){var i=this;return e(function*(){return(yield i._ready).getDirection()})()}get(i,n=null,f=(0,M.getL10nFallback)(i,n)){var w=this;return e(function*(){return(yield w._ready).get(i,n,f)})()}translate(i){var n=this;return e(function*(){return(yield n._ready).translate(i)})()}}},()=>{document.webL10n=function(V,m,b){var M={},k="",P="textContent",x="",i={},n="loading";function d(c,t,a){t=t||function(v){},a=a||function(){};var p=new XMLHttpRequest;p.open("GET",c,true),p.overrideMimeType&&p.overrideMimeType("text/plain; charset=utf-8"),p.onreadystatechange=function(){4==p.readyState&&(200==p.status||0===p.status?t(p.responseText):a())},p.onerror=a,p.ontimeout=a;try{p.send(null)}catch{a()}}function L(c,t,a,p){var T=c.replace(/[^\/]*$/,"")||"./";function v(W){return W.lastIndexOf("\\")<0?W:W.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}d(c,function(W){k+=W,function h(W,$){var X={},J=/^\s*|\s*$/,oe=/^\s*#|^\s*$/,ue=/^\s*\[(.*)\]\s*$/,ge=/^\s*@import\s+url\((.*)\)\s*$/i,Ae=/^([^=\s]*)\s*=\s*(.+)$/;function de(Te,ve,me){var Oe=Te.replace(J,"").split(/[\r\n]+/),ie="*",y=t.split("-",1)[0],q=!1,ne="";!function ce(){for(;;){if(!Oe.length)return void me();var le=Oe.shift();if(!oe.test(le)){if(ve){if(ne=ue.exec(le)){ie=ne[1].toLowerCase(),q="*"!==ie&&ie!==t&&ie!==y;continue}if(q)continue;if(ne=ge.exec(le))return void we(T+ne[1],ce)}var fe=le.match(Ae);fe&&3==fe.length&&(X[fe[1]]=v(fe[2]))}}}()}function we(Te,ve){d(Te,function(me){de(me,!1,ve)},function(){console.warn(Te+" not found."),ve()})}de(W,!0,function(){$(X)})}(W,function($){for(var X in $){var J,oe,ue=X.lastIndexOf(".");ue>0?(J=X.substring(0,ue),oe=X.substring(ue+1)):(J=X,oe=P),M[J]||(M[J]={}),M[J][oe]=$[X]}a&&a()})},p)}function F(c,t){c&&(c=c.toLowerCase()),t=t||function(){},function D(){M={},k="",x=""}(),x=c;var a=function w(){return m.querySelectorAll('link[type="application/l10n"]')}(),p=a.length;if(0!==p){var W,$=0;W=function(){++$>=p&&(t(),n="complete")};for(var J=0;J<p;J++)new X(a[J]).load(c,W)}else{var T=function u(){var c=m.querySelector('script[type="application/l10n"]');return c?JSON.parse(c.innerHTML):null}();if(T&&T.locales&&T.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(M=T.locales[c])){var v=T.default_locale.toLowerCase();for(var h in T.locales){if((h=h.toLowerCase())===c){M=T.locales[c];break}h===v&&(M=T.locales[v])}}t()}else console.log("no resource to load, early way out");n="complete"}function X(ue){var ge=ue.href;this.load=function(Ae,de){L(ge,Ae,de,function(){console.warn(ge+" not found."),console.warn('"'+Ae+'" resource not found'),x="",de()})}}}function z(c,t,a){var p=M[c];if(!p){if(console.warn("#"+c+" is undefined."),!a)return null;p=a}var T={};for(var v in p){var h=p[v];h=C(h=ee(h,t,c,v),t,c),T[v]=h}return T}function ee(c,t,a,p){var v=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(c);if(!v||!v.length)return c;var $,h=v[1],W=v[2];return t&&W in t?$=t[W]:W in M&&($=M[W]),h in i&&(c=(0,i[h])(c,$,a,p)),c}function C(c,t,a){return c.replace(/\{\{\s*(.+?)\s*\}\}/g,function(T,v){return t&&v in t?t[v]:v in M?M[v]:(console.log("argument {{"+v+"}} for #"+a+" is undefined."),T)})}function l(c){var t=function g(c){if(!c)return{};var t=c.getAttribute("data-l10n-id"),a=c.getAttribute("data-l10n-args"),p={};if(a)try{p=JSON.parse(a)}catch{console.warn("could not parse arguments for #"+t)}return{id:t,args:p}}(c);if(t.id){var a=z(t.id,t.args);if(!a)return void console.warn("#"+t.id+" is undefined.");if(a[P]){if(0===function s(c){if(c.children)return c.children.length;if(typeof c.childElementCount<"u")return c.childElementCount;for(var t=0,a=0;a<c.childNodes.length;a++)t+=1===c.nodeType?1:0;return t}(c))c[P]=a[P];else{for(var p=c.childNodes,T=!1,v=0,h=p.length;v<h;v++)3===p[v].nodeType&&/\S/.test(p[v].nodeValue)&&(T?p[v].nodeValue="":(p[v].nodeValue=a[P],T=!0));if(!T){var W=m.createTextNode(a[P]);c.insertBefore(W,c.firstChild)}}delete a[P]}for(var $ in a)c[$]=a[$]}}return i.plural=function(c,t,a,p){var T=parseFloat(t);if(isNaN(T)||p!=P)return c;i._pluralRules||(i._pluralRules=function G(c){function a(h,W){return-1!==W.indexOf(h)}function p(h,W,$){return W<=h&&h<=$}var T={0:function(h){return"other"},1:function(h){return p(h%100,3,10)?"few":0===h?"zero":p(h%100,11,99)?"many":2==h?"two":1==h?"one":"other"},2:function(h){return 0!==h&&h%10==0?"many":2==h?"two":1==h?"one":"other"},3:function(h){return 1==h?"one":"other"},4:function(h){return p(h,0,1)?"one":"other"},5:function(h){return p(h,0,2)&&2!=h?"one":"other"},6:function(h){return 0===h?"zero":h%10==1&&h%100!=11?"one":"other"},7:function(h){return 2==h?"two":1==h?"one":"other"},8:function(h){return p(h,3,6)?"few":p(h,7,10)?"many":2==h?"two":1==h?"one":"other"},9:function(h){return 0===h||1!=h&&p(h%100,1,19)?"few":1==h?"one":"other"},10:function(h){return p(h%10,2,9)&&!p(h%100,11,19)?"few":h%10!=1||p(h%100,11,19)?"other":"one"},11:function(h){return p(h%10,2,4)&&!p(h%100,12,14)?"few":h%10==0||p(h%10,5,9)||p(h%100,11,14)?"many":h%10==1&&h%100!=11?"one":"other"},12:function(h){return p(h,2,4)?"few":1==h?"one":"other"},13:function(h){return p(h%10,2,4)&&!p(h%100,12,14)?"few":1!=h&&p(h%10,0,1)||p(h%10,5,9)||p(h%100,12,14)?"many":1==h?"one":"other"},14:function(h){return p(h%100,3,4)?"few":h%100==2?"two":h%100==1?"one":"other"},15:function(h){return 0===h||p(h%100,2,10)?"few":p(h%100,11,19)?"many":1==h?"one":"other"},16:function(h){return h%10==1&&11!=h?"one":"other"},17:function(h){return 3==h?"few":0===h?"zero":6==h?"many":2==h?"two":1==h?"one":"other"},18:function(h){return 0===h?"zero":p(h,0,2)&&0!==h&&2!=h?"one":"other"},19:function(h){return p(h,2,10)?"few":p(h,0,1)?"one":"other"},20:function(h){return!p(h%10,3,4)&&h%10!=9||p(h%100,10,19)||p(h%100,70,79)||p(h%100,90,99)?h%1e6==0&&0!==h?"many":h%10!=2||a(h%100,[12,72,92])?h%10!=1||a(h%100,[11,71,91])?"other":"one":"two":"few"},21:function(h){return 0===h?"zero":1==h?"one":"other"},22:function(h){return p(h,0,1)||p(h,11,99)?"one":"other"},23:function(h){return p(h%10,1,2)||h%20==0?"one":"other"},24:function(h){return p(h,3,10)||p(h,13,19)?"few":a(h,[2,12])?"two":a(h,[1,11])?"one":"other"}},v={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[c.replace(/-.*$/,"")];return v in T?T[v]:(console.warn("plural form unknown for ["+c+"]"),function(){return"other"})}(x));var v="["+i._pluralRules(T)+"]";return 0===T&&a+"[zero]"in M?c=M[a+"[zero]"][p]:1==T&&a+"[one]"in M?c=M[a+"[one]"][p]:2==T&&a+"[two]"in M?c=M[a+"[two]"][p]:a+v in M?c=M[a+v][p]:a+"[other]"in M&&(c=M[a+"[other]"][p]),c},{get:function(c,t,a){var v,p=c.lastIndexOf("."),T=P;p>0&&(T=c.substring(p+1),c=c.substring(0,p)),a&&((v={})[T]=a);var h=z(c,t,v);return h&&T in h?h[T]:"{{"+c+"}}"},getData:function(){return M},getText:function(){return k},getLanguage:function(){return x},setLanguage:function(c,t){F(c,function(){t&&t()})},getDirection:function(){var t=x.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(t)>=0?"rtl":"ltr"},translate:function _(c){for(var t=function S(c){return c?c.querySelectorAll("*[data-l10n-id]"):[]}(c=c||m.documentElement),a=t.length,p=0;p<a;p++)l(t[p]);l(c)},getReadyState:function(){return n},ready:function(c){c&&("complete"==n||"interactive"==n?V.setTimeout(function(){c()}):m.addEventListener&&m.addEventListener("localized",function t(){m.removeEventListener("localized",t),c()}))}}}(window,document)},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFFindController=m.FindState=void 0;var M=b(6),k=b(3),P=b(21);const x={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};m.FindState=x;const w={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},u=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),S=[...u.values()].map(C=>String.fromCharCode(C)).join(""),g=/\p{M}+/gu,d=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,L=/([^\p{M}])\p{M}*$/u,F=/^\p{M}*([^\p{M}])/u;let D=null;function G(C){if(!D){const h=Object.keys(w).join("");D=new RegExp(`([${h}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const l=[];let s;for(;null!==(s=g.exec(C));)l.push([s[0].length,s.index]);let _=C.normalize("NFD");const c=[[0,0]];let t=0,a=0,p=0,T=0,v=!1;return _=_.replace(D,(h,W,$,X,J,oe)=>{if(oe-=p,W){const ue=w[h],ge=ue.length;for(let Ae=1;Ae<ge;Ae++)c.push([oe-a+Ae,a-Ae]);return a-=ge-1,ue}if($){const ue=$.endsWith("\n"),ge=ue?$.length-2:$.length;v=!0;let Ae=ge;oe+T===l[t]?.[1]&&(Ae-=l[t][0],++t);for(let de=1;de<Ae+1;de++)c.push([oe-1-a+de,a-de]);return a-=Ae,p+=Ae,ue?(c.push([(oe+=ge-1)-a+1,1+a]),a+=1,p+=1,T+=1,$.slice(0,ge)):$}return X?(c.push([oe-a+1,1+a]),a+=1,p+=1,T+=1,X.charAt(0)):(c.push([oe-a+1,a-1]),a-=1,p+=1,T+=1," ")}),c.push([_.length,a]),[_,c,v]}function z(C,l,s){if(!C)return[l,s];const _=l,c=l+s;let t=(0,M.binarySearchFirstItem)(C,p=>p[0]>=_);C[t][0]>_&&--t;let a=(0,M.binarySearchFirstItem)(C,p=>p[0]>=c,t);return C[a][0]>c&&--a,[_+C[t][1],s+C[a][1]-C[t][1]]}m.PDFFindController=class ee{constructor({linkService:l,eventBus:s}){this._linkService=l,this._eventBus=s,this._reset(),s._on("find",this._onFind.bind(this)),s._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(_,c)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const t=Object.assign(Object.create(null),c,{type:_.substring(4)});this._onFind(t)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(l){this._pdfDocument&&this._reset(),l&&(this._pdfDocument=l,this._firstPageCapability.resolve())}_onFind(l){if(!l)return;const s=this._pdfDocument,{type:_}=l;(null===this._state||this._shouldDirtyMatch(l))&&(this._dirtyMatch=!0),this._state=l,"highlightallchange"!==_&&this._updateUIState(x.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||s&&this._pdfDocument!==s)return;this._extractText();const c=!this._highlightMatches,t=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),_?this._dirtyMatch?this._nextMatch():"again"===_?(this._nextMatch(),c&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===_?(t?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:l=null,selectedLeft:s=0,pageIndex:_=-1,matchIndex:c=-1}){this._scrollMatches&&l&&-1!==c&&c===this._selected.matchIdx&&-1!==_&&_===this._selected.pageIdx&&(this._scrollMatches=!1,(0,M.scrollIntoView)(l,{top:-50,left:s+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,k.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=G(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(l){if(l.query!==this._state.query)return!0;switch(l.type){case"again":const s=this._selected.pageIdx+1,_=this._linkService;return s>=1&&s<=_.pagesCount&&s!==_.page&&!_.isPageVisible(s);case"highlightallchange":return!1}return!0}_isEntireWord(l,s,_){let c=l.slice(0,s).match(L);if(c){const t=l.charCodeAt(s),a=c[1].charCodeAt(0);if((0,P.getCharacterType)(t)===(0,P.getCharacterType)(a))return!1}if(c=l.slice(s+_).match(F),c){const t=l.charCodeAt(s+_-1),a=c[1].charCodeAt(0);if((0,P.getCharacterType)(t)===(0,P.getCharacterType)(a))return!1}return!0}_calculateRegExpMatch(l,s,_,c){const t=[],a=[],p=this._pageDiffs[_];let T;for(;null!==(T=l.exec(c));){if(s&&!this._isEntireWord(c,T.index,T[0].length))continue;const[v,h]=z(p,T.index,T[0].length);h&&(t.push(v),a.push(h))}this._pageMatches[_]=t,this._pageMatchesLength[_]=a}_convertToRegExpString(l,s){const{matchDiacritics:_}=this._state;let c=!1;const t="[ ]*";return(l=l.replace(d,(a,p,T,v,h,W)=>p?`[ ]*\\${p}[ ]*`:T?`[ ]*${T}[ ]*`:v?"[ ]+":_?h||W:h?u.has(h.charCodeAt(0))?h:"":s?(c=!0,`${W}\\p{M}*`):W)).endsWith(t)&&(l=l.slice(0,l.length-t.length)),_&&s&&(c=!0,l=`${l}(?=[${S}]|[^\\p{M}]|$)`),[c,l]}_calculateMatch(l){let s=this._query;if(0===s.length)return;const{caseSensitive:_,entireWord:c,phraseSearch:t}=this._state,a=this._pageContents[l],p=this._hasDiacritics[l];let T=!1;if(t)[T,s]=this._convertToRegExpString(s,p);else{const W=s.match(/\S+/g);W&&(s=W.sort().reverse().map($=>{const[X,J]=this._convertToRegExpString($,p);return T||(T=X),`(${J})`}).join("|"))}s=new RegExp(s,`g${T?"u":""}${_?"":"i"}`),this._calculateRegExpMatch(s,c,l,a),this._state.highlightAll&&this._updatePage(l),this._resumePageIdx===l&&(this._resumePageIdx=null,this._nextPageMatch());const h=this._pageMatches[l].length;h>0&&(this._matchesCountTotal+=h,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let l=Promise.resolve();for(let s=0,_=this._linkService.pagesCount;s<_;s++){const c=(0,k.createPromiseCapability)();this._extractTextPromises[s]=c.promise,l=l.then(()=>this._pdfDocument.getPage(s+1).then(t=>t.getTextContent()).then(t=>{const a=t.items,p=[];for(let T=0,v=a.length;T<v;T++)p.push(a[T].str),a[T].hasEOL&&p.push("\n");[this._pageContents[s],this._pageDiffs[s],this._hasDiacritics[s]]=G(p.join("")),c.resolve(s)},t=>{console.error(`Unable to get text content for page ${s+1}`,t),this._pageContents[s]="",this._pageDiffs[s]=null,this._hasDiacritics[s]=!1,c.resolve(s)}))}}_updatePage(l){this._scrollMatches&&this._selected.pageIdx===l&&(this._linkService.page=l+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:l})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const l=this._state.findPrevious,s=this._linkService.page-1,_=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=s,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let t=0;t<_;t++)this._pendingFindMatches.has(t)||(this._pendingFindMatches.add(t),this._extractTextPromises[t].then(a=>{this._pendingFindMatches.delete(a),this._calculateMatch(a)}))}if(""===this._query)return void this._updateUIState(x.FOUND);if(this._resumePageIdx)return;const c=this._offset;if(this._pagesToSearch=_,null!==c.matchIdx){const t=this._pageMatches[c.pageIdx].length;if(!l&&c.matchIdx+1<t||l&&c.matchIdx>0)return c.matchIdx=l?c.matchIdx-1:c.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(l)}this._nextPageMatch()}_matchesReady(l){const s=this._offset,_=l.length,c=this._state.findPrevious;return _?(s.matchIdx=c?_-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(c),!!(s.wrapped&&(s.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let l=null;do{const s=this._offset.pageIdx;if(l=this._pageMatches[s],!l){this._resumePageIdx=s;break}}while(!this._matchesReady(l))}_advanceOffsetPage(l){const s=this._offset,_=this._linkService.pagesCount;s.pageIdx=l?s.pageIdx-1:s.pageIdx+1,s.matchIdx=null,this._pagesToSearch--,(s.pageIdx>=_||s.pageIdx<0)&&(s.pageIdx=l?_-1:0,s.wrapped=!0)}_updateMatch(l=!1){let s=x.NOT_FOUND;const _=this._offset.wrapped;if(this._offset.wrapped=!1,l){const c=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,s=_?x.WRAPPED:x.FOUND,-1!==c&&c!==this._selected.pageIdx&&this._updatePage(c)}this._updateUIState(s,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(l){const s=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||s&&this._pdfDocument!==s||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(x.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:l,matchIdx:s}=this._selected;let _=0,c=this._matchesCountTotal;if(-1!==s){for(let t=0;t<l;t++)_+=this._pageMatches[t]?.length||0;_+=s+1}return(_<1||_>c)&&(_=c=0),{current:_,total:c}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(l,s=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:l,previous:s,matchesCount:this._requestMatchesCount(),rawQuery:this._state?.query??null})}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CharacterType=void 0,m.getCharacterType=function g(d){return function M(d){return d<11904}(d)?function k(d){return 0==(65408&d)}(d)?function i(d){return 32===d||9===d||13===d||10===d}(d)?b.SPACE:function P(d){return d>=97&&d<=122||d>=65&&d<=90}(d)||function x(d){return d>=48&&d<=57}(d)||95===d?b.ALPHA_LETTER:b.PUNCT:function S(d){return 3584==(65408&d)}(d)?b.THAI_LETTER:160===d?b.SPACE:b.ALPHA_LETTER:function n(d){return d>=13312&&d<=40959||d>=63744&&d<=64255}(d)?b.HAN_LETTER:function f(d){return d>=12448&&d<=12543}(d)?b.KATAKANA_LETTER:function w(d){return d>=12352&&d<=12447}(d)?b.HIRAGANA_LETTER:function u(d){return d>=65376&&d<=65439}(d)?b.HALFWIDTH_KATAKANA_LETTER:b.ALPHA_LETTER};const b={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};m.CharacterType=b},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFHistory=void 0,m.isDestArraysEqual=u,m.isDestHashesEqual=w;var M=b(6),k=b(17);function n(){return document.location.hash}function w(S,g){return"string"==typeof S&&"string"==typeof g&&(S===g||(0,M.parseQueryString)(S).get("nameddest")===g)}function u(S,g){function d(L,F){if(typeof L!=typeof F||Array.isArray(L)||Array.isArray(F))return!1;if(null!==L&&"object"==typeof L&&null!==F){if(Object.keys(L).length!==Object.keys(F).length)return!1;for(const D in L)if(!d(L[D],F[D]))return!1;return!0}return L===F||Number.isNaN(L)&&Number.isNaN(F)}if(!Array.isArray(S)||!Array.isArray(g)||S.length!==g.length)return!1;for(let L=0,F=S.length;L<F;L++)if(!d(S[L],g[L]))return!1;return!0}m.PDFHistory=class f{constructor({linkService:g,eventBus:d}){this.linkService=g,this.eventBus=d,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",L=>{this._isViewerInPresentationMode=L.state!==M.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",L=>{this._isPagesLoaded=!!L.pagesCount},{once:!0})})}initialize({fingerprint:g,resetHistory:d=!1,updateUrl:L=!1}){if(!g||"string"!=typeof g)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const F=""!==this._fingerprint&&this._fingerprint!==g;this._fingerprint=g,this._updateUrl=!0===L,this._initialized=!0,this._bindEvents();const D=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(D,!0)||d){const{hash:z,page:ee,rotation:C}=this._parseCurrentHash(!0);return!z||F||d?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:z,page:ee,rotation:C},!0)}const G=D.destination;this._updateInternalState(G,D.uid,!0),void 0!==G.rotation&&(this._initialRotation=G.rotation),G.dest?(this._initialBookmark=JSON.stringify(G.dest),this._destination.page=null):G.hash?this._initialBookmark=G.hash:G.page&&(this._initialBookmark=`page=${G.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:g=null,explicitDest:d,pageNumber:L}){if(!this._initialized)return;if(g&&"string"!=typeof g)return void console.error(`PDFHistory.push: "${g}" is not a valid namedDest parameter.`);if(!Array.isArray(d))return void console.error(`PDFHistory.push: "${d}" is not a valid explicitDest parameter.`);if(!this._isValidPage(L)&&(null!==L||this._destination))return void console.error(`PDFHistory.push: "${L}" is not a valid pageNumber parameter.`);const F=g||JSON.stringify(d);if(!F)return;let D=!1;if(this._destination&&(w(this._destination.hash,F)||u(this._destination.dest,d))){if(this._destination.page)return;D=!0}this._popStateInProgress&&!D||(this._pushOrReplaceState({dest:d,hash:F,page:L,rotation:this.linkService.rotation},D),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(g){if(this._initialized){if(!this._isValidPage(g))return void console.error(`PDFHistory.pushPage: "${g}" is not a valid page number.`);this._destination?.page!==g&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${g}`,page:g,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const g=window.history.state;this._isValidState(g)&&g.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const g=window.history.state;this._isValidState(g)&&g.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(g,d=!1){const L=d||!this._destination,F={fingerprint:this._fingerprint,uid:L?this._uid:this._uid+1,destination:g};let D;if(this._updateInternalState(g,F.uid),this._updateUrl&&g?.hash){const G=document.location.href.split("#")[0];G.startsWith("file://")||(D=`${G}#${g.hash}`)}L?window.history.replaceState(F,"",D):window.history.pushState(F,"",D)}_tryPushCurrentPosition(g=!1){if(!this._position)return;let d=this._position;if(g&&(d=Object.assign(Object.create(null),this._position),d.temporary=!0),!this._destination)return void this._pushOrReplaceState(d);if(this._destination.temporary)return void this._pushOrReplaceState(d,!0);if(this._destination.hash===d.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let L=!1;if(this._destination.page>=d.first&&this._destination.page<=d.page){if(void 0!==this._destination.dest||!this._destination.first)return;L=!0}this._pushOrReplaceState(d,L)}_isValidPage(g){return Number.isInteger(g)&&g>0&&g<=this.linkService.pagesCount}_isValidState(g,d=!1){if(!g)return!1;if(g.fingerprint!==this._fingerprint){if(!d)return!1;{if("string"!=typeof g.fingerprint||g.fingerprint.length!==this._fingerprint.length)return!1;const[L]=performance.getEntriesByType("navigation");if("reload"!==L?.type)return!1}}return!(!Number.isInteger(g.uid)||g.uid<0||null===g.destination||"object"!=typeof g.destination)}_updateInternalState(g,d,L=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),L&&g?.temporary&&delete g.temporary,this._destination=g,this._uid=d,this._maxUid=Math.max(this._maxUid,d),this._numPositionUpdates=0}_parseCurrentHash(g=!1){const d=unescape(n()).substring(1),L=(0,M.parseQueryString)(d),F=L.get("nameddest")||"";let D=0|L.get("page");return(!this._isValidPage(D)||g&&F.length>0)&&(D=null),{hash:d,page:D,rotation:this.linkService.rotation}}_updateViewarea({location:g}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${g.pageNumber}`:g.pdfOpenParams.substring(1),page:this.linkService.page,first:g.pageNumber,rotation:g.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:g}){const d=n(),L=this._currentHash!==d;if(this._currentHash=d,!g){this._uid++;const{hash:D,page:G,rotation:z}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:D,page:G,rotation:z},!0)}if(!this._isValidState(g))return;this._popStateInProgress=!0,L&&(this._blockHashChange++,(0,k.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const F=g.destination;this._updateInternalState(F,g.uid,!0),(0,M.isValidRotation)(F.rotation)&&(this.linkService.rotation=F.rotation),F.dest?this.linkService.goToDestination(F.dest):F.hash?this.linkService.setHash(F.hash):F.page&&(this.linkService.page=F.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFScriptingManager=void 0;var M=b(6),k=b(3);m.PDFScriptingManager=class P{constructor({eventBus:i,sandboxBundleSrc:n=null,scriptingFactory:f=null,docPropertiesLookup:w=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=i,this._sandboxBundleSrc=n,this._scriptingFactory=f,this._docPropertiesLookup=w,this._scriptingFactory||window.addEventListener("updatefromsandbox",u=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:u.detail})})}setViewer(i){this._pdfViewer=i}setDocument(i){var n=this;return e(function*(){if(n._pdfDocument&&(yield n._destroyScripting()),n._pdfDocument=i,!i)return;const[f,w,u]=yield Promise.all([i.getFieldObjects(),i.getCalculationOrderIds(),i.getJSActions()]);if(f||u){if(i===n._pdfDocument){try{n._scripting=n._createScripting()}catch(S){return console.error(`PDFScriptingManager.setDocument: "${S?.message}".`),void(yield n._destroyScripting())}n._internalEvents.set("updatefromsandbox",S=>{S?.source===window&&n._updateFromSandbox(S.detail)}),n._internalEvents.set("dispatcheventinsandbox",S=>{n._scripting?.dispatchEventInSandbox(S.detail)}),n._internalEvents.set("pagechanging",({pageNumber:S,previous:g})=>{S!==g&&(n._dispatchPageClose(g),n._dispatchPageOpen(S))}),n._internalEvents.set("pagerendered",({pageNumber:S})=>{!n._pageOpenPending.has(S)||S===n._pdfViewer.currentPageNumber&&n._dispatchPageOpen(S)}),n._internalEvents.set("pagesdestroy",function(){var S=e(function*(g){yield n._dispatchPageClose(n._pdfViewer.currentPageNumber),yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),n._closeCapability?.resolve()});return function(g){return S.apply(this,arguments)}}()),n._domEvents.set("mousedown",S=>{n._mouseState.isDown=!0}),n._domEvents.set("mouseup",S=>{n._mouseState.isDown=!1});for(const[S,g]of n._internalEvents)n._eventBus._on(S,g);for(const[S,g]of n._domEvents)window.addEventListener(S,g);try{const S=yield n._getDocProperties();if(i!==n._pdfDocument)return;yield n._scripting.createSandbox({objects:f,calculationOrder:w,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...S,actions:u}}),n._eventBus.dispatch("sandboxcreated",{source:n})}catch(S){return console.error(`PDFScriptingManager.setDocument: "${S?.message}".`),void(yield n._destroyScripting())}yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield n._dispatchPageOpen(n._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{i===n._pdfDocument&&(n._ready=!0)})}}else yield n._destroyScripting()})()}dispatchWillSave(i){var n=this;return e(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(i){var n=this;return e(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(i){var n=this;return e(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(i){var n=this;return e(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,k.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,k.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,k.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,k.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(i){var n=this;return e(function*(){const f=n._pdfViewer.isInPresentationMode||n._pdfViewer.isChangingPresentationMode,{id:w,siblings:u,command:S,value:g}=i;if(!w){switch(S){case"clear":console.clear();break;case"error":console.error(g);break;case"layout":if(f)return;const L=(0,M.apiPageLayoutToViewerModes)(g);n._pdfViewer.spreadMode=L.spreadMode;break;case"page-num":n._pdfViewer.currentPageNumber=g+1;break;case"print":yield n._pdfViewer.pagesPromise,n._eventBus.dispatch("print",{source:n});break;case"println":console.log(g);break;case"zoom":if(f)return;n._pdfViewer.currentScaleValue=g;break;case"SaveAs":n._eventBus.dispatch("save",{source:n});break;case"FirstPage":n._pdfViewer.currentPageNumber=1;break;case"LastPage":n._pdfViewer.currentPageNumber=n._pdfViewer.pagesCount;break;case"NextPage":n._pdfViewer.nextPage();break;case"PrevPage":n._pdfViewer.previousPage();break;case"ZoomViewIn":if(f)return;n._pdfViewer.increaseScale();break;case"ZoomViewOut":if(f)return;n._pdfViewer.decreaseScale()}return}if(f&&i.focus)return;delete i.id,delete i.siblings;const d=u?[w,...u]:[w];for(const L of d){const F=document.getElementById(L);F?F.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:i})):n._pdfDocument?.annotationStorage.setValue(L,i)}})()}_dispatchPageOpen(i,n=!1){var f=this;return e(function*(){const w=f._pdfDocument,u=f._visitedPages;if(n&&(f._closeCapability=(0,k.createPromiseCapability)()),!f._closeCapability)return;const S=f._pdfViewer.getPageView(i-1);if(S?.renderingState!==M.RenderingStates.FINISHED)return void f._pageOpenPending.add(i);f._pageOpenPending.delete(i);const g=e(function*(){const d=yield u.has(i)?null:S.pdfPage?.getJSActions();w===f._pdfDocument&&(yield f._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:d}))})();u.set(i,g)})()}_dispatchPageClose(i){var n=this;return e(function*(){const f=n._pdfDocument,w=n._visitedPages;if(!n._closeCapability||n._pageOpenPending.has(i))return;const u=w.get(i);!u||(w.set(i,null),yield u,f===n._pdfDocument&&(yield n._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:i})))})()}_getDocProperties(){var i=this;return e(function*(){if(i._docPropertiesLookup)return i._docPropertiesLookup(i._pdfDocument);const{docPropertiesLookup:n}=b(24);return n(i._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,k.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:i}=b(24);return new i(this._sandboxBundleSrc)}_destroyScripting(){var i=this;return e(function*(){if(!i._scripting)return i._pdfDocument=null,void i._destroyCapability?.resolve();i._closeCapability&&(yield Promise.race([i._closeCapability.promise,new Promise(n=>{setTimeout(n,1e3)})]).catch(n=>{}),i._closeCapability=null),i._pdfDocument=null;try{yield i._scripting.destroySandbox()}catch{}for(const[n,f]of i._internalEvents)i._eventBus._off(n,f);i._internalEvents.clear();for(const[n,f]of i._domEvents)window.removeEventListener(n,f);i._domEvents.clear(),i._pageOpenPending.clear(),i._visitedPages.clear(),i._scripting=null,delete i._mouseState.isDown,i._ready=!1,i._destroyCapability?.resolve()})()}}},(V,m,b)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericScripting=void 0,m.docPropertiesLookup=function k(i){return P.apply(this,arguments)};var M=b(3);function P(){return(P=e(function*(i){const f="".split("#")[0];let{info:w,metadata:u,contentDispositionFilename:S,contentLength:g}=yield i.getMetadata();if(!g){const{length:d}=yield i.getDownloadInfo();g=d}return{...w,baseURL:f,filesize:g,filename:S||(0,M.getPdfFilenameFromUrl)(""),metadata:u?.getRaw(),authors:u?.get("dc:creator"),numPages:i.numPages,URL:""}})).apply(this,arguments)}m.GenericScripting=class x{constructor(n){this._ready=(0,M.loadScript)(n,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(n){var f=this;return e(function*(){(yield f._ready).create(n)})()}dispatchEventInSandbox(n){var f=this;return e(function*(){const w=yield f._ready;setTimeout(()=>w.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return e(function*(){(yield n._ready).nukeSandbox()})()}}}],H={};function j(V){var m=H[V];if(void 0!==m)return m.exports;var b=H[V]={exports:{}};return U[V](b,b.exports,j),b.exports}var O={};return(()=>{var V=O;Object.defineProperty(V,"__esModule",{value:!0}),Object.defineProperty(V,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return P.AnnotationLayerBuilder}}),Object.defineProperty(V,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return m.DefaultAnnotationLayerFactory}}),Object.defineProperty(V,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return m.DefaultStructTreeLayerFactory}}),Object.defineProperty(V,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return m.DefaultTextLayerFactory}}),Object.defineProperty(V,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return m.DefaultXfaLayerFactory}}),Object.defineProperty(V,"DownloadManager",{enumerable:!0,get:function(){return x.DownloadManager}}),Object.defineProperty(V,"EventBus",{enumerable:!0,get:function(){return i.EventBus}}),Object.defineProperty(V,"GenericL10n",{enumerable:!0,get:function(){return n.GenericL10n}}),Object.defineProperty(V,"LinkTarget",{enumerable:!0,get:function(){return b.LinkTarget}}),Object.defineProperty(V,"NullL10n",{enumerable:!0,get:function(){return f.NullL10n}}),Object.defineProperty(V,"PDFFindController",{enumerable:!0,get:function(){return w.PDFFindController}}),Object.defineProperty(V,"PDFHistory",{enumerable:!0,get:function(){return u.PDFHistory}}),Object.defineProperty(V,"PDFLinkService",{enumerable:!0,get:function(){return b.PDFLinkService}}),Object.defineProperty(V,"PDFPageView",{enumerable:!0,get:function(){return S.PDFPageView}}),Object.defineProperty(V,"PDFScriptingManager",{enumerable:!0,get:function(){return g.PDFScriptingManager}}),Object.defineProperty(V,"PDFSinglePageViewer",{enumerable:!0,get:function(){return k.PDFSinglePageViewer}}),Object.defineProperty(V,"PDFViewer",{enumerable:!0,get:function(){return k.PDFViewer}}),Object.defineProperty(V,"ProgressBar",{enumerable:!0,get:function(){return M.ProgressBar}}),Object.defineProperty(V,"SimpleLinkService",{enumerable:!0,get:function(){return b.SimpleLinkService}}),Object.defineProperty(V,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return d.StructTreeLayerBuilder}}),Object.defineProperty(V,"TextLayerBuilder",{enumerable:!0,get:function(){return L.TextLayerBuilder}}),Object.defineProperty(V,"XfaLayerBuilder",{enumerable:!0,get:function(){return F.XfaLayerBuilder}}),Object.defineProperty(V,"parseQueryString",{enumerable:!0,get:function(){return M.parseQueryString}});var m=j(1),b=j(5),M=j(6),k=j(10),P=j(2),x=j(16),i=j(17),n=j(18),f=j(4),w=j(20),u=j(22),S=j(12),g=j(23),d=j(7),L=j(8),F=j(9)})(),O})()},8926:Q=>{function o(r,I,N,K,B,R,e){try{var U=r[R](e),H=U.value}catch(j){return void N(j)}U.done?I(H):Promise.resolve(H).then(K,B)}Q.exports=function E(r){return function(){var I=this,N=arguments;return new Promise(function(K,B){var R=r.apply(I,N);function e(H){o(R,K,B,e,U,"next",H)}function U(H){o(R,K,B,e,U,"throw",H)}e(void 0)})}},Q.exports.__esModule=!0,Q.exports.default=Q.exports},6869:Q=>{Q.exports=function o(E,r){if(r.has(E))throw new TypeError("Cannot initialize the same private elements twice on an object")},Q.exports.__esModule=!0,Q.exports.default=Q.exports},6358:Q=>{Q.exports=function o(E,r){return r.get?r.get.call(E):r.value},Q.exports.__esModule=!0,Q.exports.default=Q.exports},8625:Q=>{Q.exports=function o(E,r,I){if(r.set)r.set.call(E,I);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=I}},Q.exports.__esModule=!0,Q.exports.default=Q.exports},4094:Q=>{Q.exports=function o(E,r){if(E!==r)throw new TypeError("Private static access of wrong provenance")},Q.exports.__esModule=!0,Q.exports.default=Q.exports},3486:Q=>{Q.exports=function o(E,r,I){if(!r.has(E))throw new TypeError("attempted to "+I+" private field on non-instance");return r.get(E)},Q.exports.__esModule=!0,Q.exports.default=Q.exports},1226:(Q,o,E)=>{var r=E(6358),I=E(3486);Q.exports=function N(K,B){var R=I(K,B,"get");return r(K,R)},Q.exports.__esModule=!0,Q.exports.default=Q.exports},3606:(Q,o,E)=>{var r=E(6869);Q.exports=function I(N,K,B){r(N,K),K.set(N,B)},Q.exports.__esModule=!0,Q.exports.default=Q.exports},5962:(Q,o,E)=>{var r=E(8625),I=E(3486);Q.exports=function N(K,B,R){var e=I(K,B,"set");return r(K,e,R),R},Q.exports.__esModule=!0,Q.exports.default=Q.exports},4877:Q=>{Q.exports=function o(E,r,I){if(!r.has(E))throw new TypeError("attempted to get private field on non-instance");return I},Q.exports.__esModule=!0,Q.exports.default=Q.exports},3448:(Q,o,E)=>{var r=E(6869);Q.exports=function I(N,K){r(N,K),K.add(N)},Q.exports.__esModule=!0,Q.exports.default=Q.exports},9393:(Q,o,E)=>{var r=E(4094);Q.exports=function I(N,K,B){return r(N,K),B},Q.exports.__esModule=!0,Q.exports.default=Q.exports},9713:Q=>{Q.exports=function o(E,r,I){return r in E?Object.defineProperty(E,r,{value:I,enumerable:!0,configurable:!0,writable:!0}):E[r]=I,E},Q.exports.__esModule=!0,Q.exports.default=Q.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{}}]);