"use strict";(self.webpackChunkfrontend_angular=self.webpackChunkfrontend_angular||[]).push([[597],{7597:(yt,P,r)=>{r.r(P),r.d(P,{AdminModule:()=>At});var u=r(9808),d=r(1083),t=r(5e3);let T=(()=>{class o{constructor(e){this.router=e}canActivate(e,a){try{let i=localStorage.getItem("access_token");if(i){const s=i.split(".")[1];let{exp:l}=JSON.parse(atob(s));const h=Date.now()>=1e3*l;return console.log(h),!h||(alert("El token ha expirado"),this.logout(),!1)}return this.logout(),!1}catch(i){return this.logout(),!1}}logout(){localStorage.removeItem("access_token"),this.router.navigate(["/auth/login"])}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(d.F0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var c=r(3075),p=r(8966),x=r(2340),f=r(520);let b=(()=>{class o{constructor(e){this.http=e,this.urlbase=x.N.url}getCategorias(){return this.http.get(`${this.urlbase}/v1/categoria`)}sendCategoria(e){return this.http.post(`${this.urlbase}/v1/categoria`,e)}updateCategoria(e,a){return this.http.put(`${this.urlbase}/v1/categoria/${a}`,e)}deleteCategoria(e){return this.http.delete(`${this.urlbase}/v1/categoria/${e}`)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(f.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var M=r(7261),Z=r(7322),A=r(7531),g=r(7423);let L=(()=>{class o{constructor(e,a,i){this.catService=e,this._snackBar=a,this.data=i,this.categoriaForm=new c.cw({nombre:new c.NI(this.data.nombre,[c.kI.required]),detalle:new c.NI(this.data.detalle)})}ngOnInit(){}openSnackBar(e){this._snackBar.open(e,"cerrar",{horizontalPosition:"end",verticalPosition:"top",duration:3e3})}guardarProducto(){this.catService.sendCategoria(this.categoriaForm.value).subscribe(e=>{console.log(e),this.openSnackBar(e.mensaje)},e=>{console.log(e)})}modificarProducto(){this.catService.updateCategoria(this.categoriaForm.value,this.data.id).subscribe(e=>{console.log(e),this.openSnackBar(e.mensaje)},e=>{console.log(e)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b),t.Y36(M.ux),t.Y36(p.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form-categoria"]],decls:17,vars:8,consts:[["mat-dialog-title",""],[3,"formGroup"],["type","text","matInput","","placeholder","Ingrese Nombre","formControlName","nombre"],["type","text","matInput","","placeholder","Detalle","formControlName","detalle"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","disabled","click"]],template:function(e,a){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Nueva Categoria"),t.qZA(),t.TgZ(2,"mat-dialog-content"),t.TgZ(3,"form",1),t.TgZ(4,"mat-form-field"),t._UZ(5,"input",2),t.qZA(),t.TgZ(6,"mat-form-field"),t._UZ(7,"input",3),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"mat-dialog-actions",4),t.TgZ(9,"button",5),t._uU(10,"Cancelar"),t.qZA(),t.TgZ(11,"button",6),t.NdJ("click",function(){return a.guardarProducto()}),t._uU(12,"Guardar"),t.qZA(),t.TgZ(13,"button",6),t.NdJ("click",function(){return a.modificarProducto()}),t._uU(14,"Modificar"),t.qZA(),t.qZA(),t._uU(15),t.ALo(16,"json")),2&e&&(t.xp6(3),t.Q6J("formGroup",a.categoriaForm),t.xp6(8),t.Q6J("mat-dialog-close",!0)("disabled",!a.categoriaForm.valid),t.xp6(2),t.Q6J("mat-dialog-close",!0)("disabled",!a.categoriaForm.valid),t.xp6(2),t.hij(" ",t.lcZ(16,6,a.categoriaForm.value),""))},directives:[p.uh,p.xY,c._Y,c.JL,c.sg,Z.KE,A.Nt,c.Fj,c.JJ,c.u,p.H8,g.lW,p.ZT],pipes:[u.Ts],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%;min-width:100px}"]}),o})();var m=r(4999);function Y(o,n){1&o&&(t.TgZ(0,"th",10),t._uU(1," ID. "),t.qZA())}function O(o,n){if(1&o&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function J(o,n){1&o&&(t.TgZ(0,"th",10),t._uU(1," NOMBRE "),t.qZA())}function H(o,n){if(1&o&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.nombre," ")}}function Q(o,n){1&o&&(t.TgZ(0,"th",10),t._uU(1," DETALLE "),t.qZA())}function R(o,n){if(1&o&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.detalle," ")}}function j(o,n){1&o&&(t.TgZ(0,"th",10),t._uU(1," ACCIONES "),t.qZA())}function B(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",11),t.TgZ(1,"button",0),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().openNuevaCategoria(s)}),t._uU(2,"editar"),t.qZA(),t.qZA()}}function $(o,n){1&o&&t._UZ(0,"tr",12)}function E(o,n){1&o&&t._UZ(0,"tr",13)}const z=[{position:1,name:"Hydrogen",weight:1.0079,symbol:"H"},{position:2,name:"Helium",weight:4.0026,symbol:"He"},{position:3,name:"Lithium",weight:6.941,symbol:"Li"},{position:4,name:"Beryllium",weight:9.0122,symbol:"Be"},{position:5,name:"Boron",weight:10.811,symbol:"B"},{position:6,name:"Carbon",weight:12.0107,symbol:"C"},{position:7,name:"Nitrogen",weight:14.0067,symbol:"N"},{position:8,name:"Oxygen",weight:15.9994,symbol:"O"},{position:9,name:"Fluorine",weight:18.9984,symbol:"F"},{position:10,name:"Neon",weight:20.1797,symbol:"Ne"}];let G=(()=>{class o{constructor(e,a){this.catService=e,this.dialog=a,this.displayedColumns=["position","name","weight","symbol"],this.dataSource=z,this.lista_categorias=[]}ngOnInit(){this.listarCategorias()}listarCategorias(){this.catService.getCategorias().subscribe(e=>{this.lista_categorias=e},function(e){alert("error")})}openNuevaCategoria(e={nombre:"",detalle:"",editar:!1}){this.dialog.open(L,{width:"500px",data:e}).afterClosed().subscribe(i=>{console.log(`Dialog result: ${i}`),this.listarCategorias()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b),t.Y36(p.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-categoria"]],decls:17,vars:3,consts:[["mat-button","",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","weight"],["matColumnDef","symbol"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,a){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return a.openNuevaCategoria()}),t._uU(1,"Nueva Categoria"),t.qZA(),t.TgZ(2,"table",1),t.ynx(3,2),t.YNc(4,Y,2,0,"th",3),t.YNc(5,O,2,1,"td",4),t.BQk(),t.ynx(6,5),t.YNc(7,J,2,0,"th",3),t.YNc(8,H,2,1,"td",4),t.BQk(),t.ynx(9,6),t.YNc(10,Q,2,0,"th",3),t.YNc(11,R,2,1,"td",4),t.BQk(),t.ynx(12,7),t.YNc(13,j,2,0,"th",3),t.YNc(14,B,3,0,"td",4),t.BQk(),t.YNc(15,$,1,0,"tr",8),t.YNc(16,E,1,0,"tr",9),t.qZA()),2&e&&(t.xp6(2),t.Q6J("dataSource",a.lista_categorias),t.xp6(13),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns))},directives:[g.lW,m.BZ,m.w1,m.fO,m.Dz,m.as,m.nj,m.ge,m.ev,m.XQ,m.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),o})();var I=r(4004),v=r(5113),U=r(3954),C=r(9224),y=r(2525),S=r(3874);function W(o,n){if(1&o&&(t.TgZ(0,"mat-grid-tile",4),t.TgZ(1,"mat-card",5),t.TgZ(2,"mat-card-header"),t.TgZ(3,"mat-card-title"),t._uU(4),t.TgZ(5,"button",6),t.TgZ(6,"mat-icon"),t._uU(7,"more_vert"),t.qZA(),t.qZA(),t.TgZ(8,"mat-menu",7,8),t.TgZ(10,"button",9),t._uU(11,"Expand"),t.qZA(),t.TgZ(12,"button",9),t._uU(13,"Remove"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"mat-card-content",10),t.TgZ(15,"div"),t._uU(16,"Card Content Here"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=n.$implicit,a=t.MAs(9);t.Q6J("colspan",e.cols)("rowspan",e.rows),t.xp6(4),t.hij(" ",e.title," "),t.xp6(1),t.Q6J("matMenuTriggerFor",a)}}let X=(()=>{class o{constructor(e){this.breakpointObserver=e,this.cards=this.breakpointObserver.observe(v.u3.Handset).pipe((0,I.U)(({matches:a})=>a?[{title:"Card 1",cols:1,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:1},{title:"Card 4",cols:1,rows:1}]:[{title:"Card 1",cols:2,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:2},{title:"Card 4",cols:1,rows:1}]))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.Yg))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:6,vars:3,consts:[[1,"grid-container"],[1,"mat-h1"],["cols","2","rowHeight","350px"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],[3,"colspan","rowspan"],[1,"dashboard-card"],["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item",""],[1,"dashboard-card-content"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2,"Dashboard"),t.qZA(),t.TgZ(3,"mat-grid-list",2),t.YNc(4,W,17,4,"mat-grid-tile",3),t.ALo(5,"async"),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,a.cards)))},directives:[U.Il,u.sg,U.DX,C.a8,C.dk,C.n5,g.lW,y.p6,S.Hw,y.VK,y.OP,C.dn],pipes:[u.Ov],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;right:15px;bottom:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}"]}),o})();var V=r(7579),K=r(6063);class tt extends V.x{constructor(n=1/0,e=1/0,a=K.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=a,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:a,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:l}=this;e||(a.push(n),!i&&a.push(s.now()+l)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:a,_buffer:i}=this,s=i.slice();for(let l=0;l<s.length&&!n.closed;l+=a?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:a,_infiniteTimeWindow:i}=this,s=(i?1:2)*n;if(n<1/0&&s<a.length&&a.splice(0,a.length-s),!i){const l=e.now();let h=0;for(let _=1;_<a.length&&a[_]<=l;_+=2)h=_;h&&a.splice(0,h+1)}}}var et=r(3099),N=r(2638),F=r(4594),q=r(4449);let nt=(()=>{class o{constructor(e){this.breakpointObserver=e,this.isHandset$=this.breakpointObserver.observe(v.u3.Handset).pipe((0,I.U)(a=>a.matches),function ot(o,n,e){var a,i;let s,l=!1;return o&&"object"==typeof o?(s=null!==(a=o.bufferSize)&&void 0!==a?a:1/0,n=null!==(i=o.windowTime)&&void 0!==i?i:1/0,l=!!o.refCount,e=o.scheduler):s=null!=o?o:1/0,(0,et.B)({connector:()=>new tt(s,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}())}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.Yg))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-nav"]],decls:23,vars:9,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLink","/admin"],["mat-list-item","","routerLink","/admin/categoria"],["mat-list-item","","routerLink","/admin/producto"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"mat-sidenav-container",0),t.TgZ(1,"mat-sidenav",1,2),t.ALo(3,"async"),t.ALo(4,"async"),t.ALo(5,"async"),t.TgZ(6,"mat-toolbar"),t._uU(7,"EMPRESA"),t.qZA(),t.TgZ(8,"mat-nav-list"),t.TgZ(9,"a",3),t._uU(10,"ADMIN"),t.qZA(),t.TgZ(11,"a",4),t._uU(12,"CATEGORIA"),t.qZA(),t.TgZ(13,"a",5),t._uU(14,"PRODUCTO"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"mat-sidenav-content"),t.TgZ(16,"mat-toolbar",6),t.TgZ(17,"button",7),t.NdJ("click",function(){return t.CHM(i),t.MAs(2).toggle()}),t.TgZ(18,"mat-icon",8),t._uU(19,"menu"),t.qZA(),t.qZA(),t.TgZ(20,"span"),t._uU(21,"ADMINISTRACI\xd3N"),t.qZA(),t.qZA(),t._UZ(22,"router-outlet"),t.qZA(),t.qZA()}2&e&&(t.xp6(1),t.Q6J("mode",t.lcZ(4,5,a.isHandset$)?"over":"side")("opened",!1===t.lcZ(5,7,a.isHandset$)),t.uIk("role",t.lcZ(3,3,a.isHandset$)?"dialog":"navigation"))},directives:[N.TM,N.JX,F.Ye,q.Hk,q.Tg,d.yS,N.Rh,g.lW,S.Hw,d.lC],pipes:[u.Ov],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}"]}),o})(),at=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-editar-producto"]],decls:2,vars:0,template:function(e,a){1&e&&(t.TgZ(0,"p"),t._uU(1,"editar-producto works!"),t.qZA())},styles:[""]}),o})();var k=r(5800),D=r(8505);let w=(()=>{class o{constructor(e){this.http=e,this.urlbase=x.N.url}getProductos(e=0,a=2){return this.http.get(`${this.urlbase}/v1/producto?page=${e+=1}&limit=${a}`)}sendProducto(e){var a;const i=new FormData;return i.append("nombre",e.value.nombre),i.append("precio",e.value.precio),i.append("stock",e.value.stock),i.append("descripcion",e.value.descripcion),i.append("categoria_id",e.value.categoria_id),i.append("imagen",null===(a=e.get("imagen"))||void 0===a?void 0:a.value),this.http.post(`${this.urlbase}/v1/producto`,i)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(f.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function it(o,n){1&o&&(t.TgZ(0,"th",16),t._uU(1," id. "),t.qZA())}function rt(o,n){if(1&o&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function ct(o,n){1&o&&(t.TgZ(0,"th",18),t._uU(1," Nombre "),t.qZA())}function st(o,n){if(1&o&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.nombre," ")}}function lt(o,n){1&o&&(t.TgZ(0,"th",16),t._uU(1," Precio "),t.qZA())}function mt(o,n){if(1&o&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.precio," ")}}function ut(o,n){1&o&&(t.TgZ(0,"th",16),t._uU(1," Stock "),t.qZA())}function dt(o,n){if(1&o&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.stock," ")}}function pt(o,n){1&o&&t._UZ(0,"tr",19)}function gt(o,n){1&o&&t._UZ(0,"tr",20)}const ht=function(){return[1,2,3]};let ft=(()=>{class o{constructor(e){this.prodService=e,this.displayedColumns=["id","nombre","precio","stock"],this.lista_productos=[],this.total=10}ngOnInit(){var e;this.listaProductos(),(null===(e=this.paginator)||void 0===e?void 0:e.pageIndex)?console.log(this.paginator.pageIndex):console.log("sin valor")}ngAfterViewInit(){this.paginator.page.pipe((0,D.b)(()=>this.listaProductos())).subscribe()}listaProductos(){var e,a;this.prodService.getProductos(null===(e=this.paginator)||void 0===e?void 0:e.pageIndex,null===(a=this.paginator)||void 0===a?void 0:a.pageSize).subscribe(i=>{let{rows:s,count:l}=i;this.total=l,this.lista_productos=s},i=>{console.log(i)})}applyFilter(e){console.log(e.target.value.trim().toLowerCase())}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(w))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-lista-producto"]],viewQuery:function(e,a){if(1&e&&t.Gf(k.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(a.paginator=i.first)}},decls:30,vars:10,consts:[[1,"grid-container"],[1,"mat-elevation-z8"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["matColumnDef","precio"],["matColumnDef","stock"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","pageSize","length"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-header-row",""],["mat-row",""]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card"),t.TgZ(2,"h1"),t._uU(3,"Lista Productos"),t.qZA(),t.TgZ(4,"div",1),t.TgZ(5,"mat-form-field",2),t.TgZ(6,"mat-label"),t._uU(7,"Filter"),t.qZA(),t.TgZ(8,"input",3,4),t.NdJ("keyup",function(s){return a.applyFilter(s)}),t.qZA(),t.qZA(),t.TgZ(10,"table",5),t.ynx(11,6),t.YNc(12,it,2,0,"th",7),t.YNc(13,rt,2,1,"td",8),t.BQk(),t.ynx(14,9),t.YNc(15,ct,2,0,"th",10),t.YNc(16,st,2,1,"td",8),t.BQk(),t.ynx(17,11),t.YNc(18,lt,2,0,"th",7),t.YNc(19,mt,2,1,"td",8),t.BQk(),t.ynx(20,12),t.YNc(21,ut,2,0,"th",7),t.YNc(22,dt,2,1,"td",8),t.BQk(),t.YNc(23,pt,1,0,"tr",13),t.YNc(24,gt,1,0,"tr",14),t.qZA(),t._UZ(25,"mat-paginator",15),t.qZA(),t.TgZ(26,"code"),t.TgZ(27,"pre"),t._uU(28),t.ALo(29,"json"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Q6J("dataSource",a.lista_productos),t.xp6(13),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(9,ht))("pageSize",2)("length",a.total),t.xp6(3),t.Oqu(t.lcZ(29,7,a.dataSource)))},directives:[C.a8,Z.KE,Z.hX,A.Nt,m.BZ,m.w1,m.fO,m.Dz,m.as,m.nj,k.NW,m.ge,m.ev,m.XQ,m.Gk],pipes:[u.Ts],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}table[_ngcontent-%COMP%]{width:100%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}"]}),o})();function Ct(o,n){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",13),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",e.imgPreview,t.LSH)}}const Zt=[{path:"",component:nt,children:[{path:"",component:X,canActivate:[T]},{path:"categoria",component:G,canActivate:[T]},{path:"producto",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-producto"]],decls:3,vars:0,consts:[["mat-button","","routerLink","/admin/producto/nuevo"]],template:function(e,a){1&e&&(t.TgZ(0,"button",0),t._uU(1,"Nuevo producto"),t.qZA(),t._UZ(2,"router-outlet"))},directives:[g.lW,d.rH,d.lC],styles:[""]}),o})(),canActivate:[T],children:[{path:"",component:ft},{path:"nuevo",component:(()=>{class o{constructor(e){this.prodService=e,this.productoForm=new c.cw({nombre:new c.NI("",[c.kI.required]),precio:new c.NI(""),stock:new c.NI(""),categoria_id:new c.NI("",[c.kI.required]),descripcion:new c.NI(""),imagen:new c.NI("")}),this.nombreImagenSeleccionada="Ninguna Imagen Seleccionada"}ngOnInit(){}imagenInputSeleccionado(e){var a;if(console.log(e.target.files[0]),this.nombreImagenSeleccionada=e.target.files[0].name,this.imagenSeleccionada=e.target.files[0],null===(a=this.productoForm.get("imagen"))||void 0===a||a.setValue(this.imagenSeleccionada),this.imagenSeleccionada){const i=new FileReader;i.onload=s=>{this.imgPreview=s.target.result},i.readAsDataURL(this.imagenSeleccionada)}}guardarProducto(){this.prodService.sendProducto(this.productoForm).subscribe(e=>{alert("Producto registrado")},e=>{console.log(e)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(w))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-nuevo-producto"]],decls:24,vars:3,consts:[[3,"formGroup"],["type","text","matInput","","placeholder","Ingrese Nombre","formControlName","nombre"],["type","number","step","0.01","matInput","","placeholder","Ingrese Precio","formControlName","precio"],["type","number","matInput","","placeholder","Ingrese Stock","formControlName","stock"],["type","number","matInput","","placeholder","Ingrese Categoria","formControlName","categoria_id"],["for",""],["type","file","hidden","true","id","img",3,"change"],["imagenInput",""],["type","button","mat-flat-button","","color","primary",3,"click"],[1,"file"],[4,"ngIf"],["type","text","matInput","","placeholder","Descripci\xf3n","formControlName","descripcion"],["mat-button","","color","primary",3,"click"],["alt","",3,"src"]],template:function(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"h1"),t._uU(1,"Nuevo producto"),t.qZA(),t.TgZ(2,"form",0),t.TgZ(3,"mat-form-field"),t._UZ(4,"input",1),t.qZA(),t.TgZ(5,"mat-form-field"),t._UZ(6,"input",2),t.qZA(),t.TgZ(7,"mat-form-field"),t._UZ(8,"input",3),t.qZA(),t.TgZ(9,"mat-form-field"),t._UZ(10,"input",4),t.qZA(),t.TgZ(11,"mat-toolbar"),t.TgZ(12,"label",5),t._uU(13),t.qZA(),t.TgZ(14,"input",6,7),t.NdJ("change",function(l){return a.imagenInputSeleccionado(l)}),t.qZA(),t.TgZ(16,"button",8),t.NdJ("click",function(){return t.CHM(i),t.MAs(15).click()}),t._uU(17,"Cargar Imagen"),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.YNc(19,Ct,2,1,"div",10),t.qZA(),t.TgZ(20,"mat-form-field"),t._UZ(21,"input",11),t.qZA(),t.TgZ(22,"button",12),t.NdJ("click",function(){return a.guardarProducto()}),t._uU(23,"Guardar producto"),t.qZA(),t.qZA()}2&e&&(t.xp6(2),t.Q6J("formGroup",a.productoForm),t.xp6(11),t.Oqu(a.nombreImagenSeleccionada),t.xp6(6),t.Q6J("ngIf",a.imgPreview))},directives:[c._Y,c.JL,c.sg,Z.KE,A.Nt,c.Fj,c.JJ,c.u,c.wV,F.Ye,g.lW,u.O5],styles:[""]}),o})()},{path:":id/editar",component:at}]}]}];let vt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.Bz.forChild(Zt)],d.Bz]}),o})();var _t=r(898);let Tt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[w,b],imports:[[u.ez]]}),o})(),bt=(()=>{class o{constructor(e){this.router=e}intercept(e,a){let i=localStorage.getItem("access_token"),s=e.clone({setHeaders:{Authorization:"Bearer "+i}});return a.handle(s).pipe((0,D.b)(()=>{},l=>{if(l instanceof f.UA){if(401!==l.status)return;localStorage.removeItem("access_token"),this.router.navigate(["auth/login"])}}))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(d.F0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),At=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[{provide:f.TP,useClass:bt,multi:!0}],imports:[[u.ez,vt,_t.q,Tt,f.JF,c.UX]]}),o})()}}]);